var ay=Object.defineProperty;var ly=(r,e,t)=>e in r?ay(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var et=(r,e,t)=>(ly(r,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function mf(r,e){const t=Object.create(null),n=r.split(",");for(let i=0;i<n.length;i++)t[n[i]]=!0;return e?i=>!!t[i.toLowerCase()]:i=>!!t[i]}function Lc(r){if(ct(r)){const e={};for(let t=0;t<r.length;t++){const n=r[t],i=En(n)?dy(n):Lc(n);if(i)for(const s in i)e[s]=i[s]}return e}else{if(En(r))return r;if(Kt(r))return r}}const cy=/;(?![^(]*\))/g,uy=/:([^]+)/,hy=/\/\*.*?\*\//gs;function dy(r){const e={};return r.replace(hy,"").split(cy).forEach(t=>{if(t){const n=t.split(uy);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function al(r){let e="";if(En(r))e=r;else if(ct(r))for(let t=0;t<r.length;t++){const n=al(r[t]);n&&(e+=n+" ")}else if(Kt(r))for(const t in r)r[t]&&(e+=t+" ");return e.trim()}const fy="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",py=mf(fy);function R8(r){return!!r||r===""}const K2=r=>En(r)?r:r==null?"":ct(r)||Kt(r)&&(r.toString===O8||!ht(r.toString))?JSON.stringify(r,I8,2):String(r),I8=(r,e)=>e&&e.__v_isRef?I8(r,e.value):M1(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[n,i])=>(t[`${n} =>`]=i,t),{})}:D8(e)?{[`Set(${e.size})`]:[...e.values()]}:Kt(e)&&!ct(e)&&!F8(e)?String(e):e,qt={},S1=[],Cr=()=>{},my=()=>!1,gy=/^on[^a-z]/,Ru=r=>gy.test(r),gf=r=>r.startsWith("onUpdate:"),ei=Object.assign,_f=(r,e)=>{const t=r.indexOf(e);t>-1&&r.splice(t,1)},_y=Object.prototype.hasOwnProperty,At=(r,e)=>_y.call(r,e),ct=Array.isArray,M1=r=>Iu(r)==="[object Map]",D8=r=>Iu(r)==="[object Set]",ht=r=>typeof r=="function",En=r=>typeof r=="string",vf=r=>typeof r=="symbol",Kt=r=>r!==null&&typeof r=="object",k8=r=>Kt(r)&&ht(r.then)&&ht(r.catch),O8=Object.prototype.toString,Iu=r=>O8.call(r),vy=r=>Iu(r).slice(8,-1),F8=r=>Iu(r)==="[object Object]",xf=r=>En(r)&&r!=="NaN"&&r[0]!=="-"&&""+parseInt(r,10)===r,T2=mf(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Du=r=>{const e=Object.create(null);return t=>e[t]||(e[t]=r(t))},xy=/-(\w)/g,$r=Du(r=>r.replace(xy,(e,t)=>t?t.toUpperCase():"")),by=/\B([A-Z])/g,ll=Du(r=>r.replace(by,"-$1").toLowerCase()),ku=Du(r=>r.charAt(0).toUpperCase()+r.slice(1)),I3=Du(r=>r?`on${ku(r)}`:""),Rc=(r,e)=>!Object.is(r,e),D3=(r,e)=>{for(let t=0;t<r.length;t++)r[t](e)},Y2=(r,e,t)=>{Object.defineProperty(r,e,{configurable:!0,enumerable:!1,value:t})},N8=r=>{const e=parseFloat(r);return isNaN(e)?r:e};let X5;const yy=()=>X5||(X5=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let kr;class wy{constructor(e=!1){this.detached=e,this.active=!0,this.effects=[],this.cleanups=[],this.parent=kr,!e&&kr&&(this.index=(kr.scopes||(kr.scopes=[])).push(this)-1)}run(e){if(this.active){const t=kr;try{return kr=this,e()}finally{kr=t}}}on(){kr=this}off(){kr=this.parent}stop(e){if(this.active){let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this.active=!1}}}function Sy(r,e=kr){e&&e.active&&e.effects.push(r)}const bf=r=>{const e=new Set(r);return e.w=0,e.n=0,e},z8=r=>(r.w&mo)>0,B8=r=>(r.n&mo)>0,My=({deps:r})=>{if(r.length)for(let e=0;e<r.length;e++)r[e].w|=mo},Ey=r=>{const{deps:e}=r;if(e.length){let t=0;for(let n=0;n<e.length;n++){const i=e[n];z8(i)&&!B8(i)?i.delete(r):e[t++]=i,i.w&=~mo,i.n&=~mo}e.length=t}},Kh=new WeakMap;let tc=0,mo=1;const Yh=30;let Sr;const ta=Symbol(""),Zh=Symbol("");class yf{constructor(e,t=null,n){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,Sy(this,n)}run(){if(!this.active)return this.fn();let e=Sr,t=oo;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Sr,Sr=this,oo=!0,mo=1<<++tc,tc<=Yh?My(this):$5(this),this.fn()}finally{tc<=Yh&&Ey(this),mo=1<<--tc,Sr=this.parent,oo=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Sr===this?this.deferStop=!0:this.active&&($5(this),this.onStop&&this.onStop(),this.active=!1)}}function $5(r){const{deps:e}=r;if(e.length){for(let t=0;t<e.length;t++)e[t].delete(r);e.length=0}}let oo=!0;const U8=[];function cl(){U8.push(oo),oo=!1}function ul(){const r=U8.pop();oo=r===void 0?!0:r}function Vi(r,e,t){if(oo&&Sr){let n=Kh.get(r);n||Kh.set(r,n=new Map);let i=n.get(t);i||n.set(t,i=bf()),V8(i)}}function V8(r,e){let t=!1;tc<=Yh?B8(r)||(r.n|=mo,t=!z8(r)):t=!r.has(Sr),t&&(r.add(Sr),Sr.deps.push(r))}function Ms(r,e,t,n,i,s){const o=Kh.get(r);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(t==="length"&&ct(r)){const l=N8(n);o.forEach((c,h)=>{(h==="length"||h>=l)&&a.push(c)})}else switch(t!==void 0&&a.push(o.get(t)),e){case"add":ct(r)?xf(t)&&a.push(o.get("length")):(a.push(o.get(ta)),M1(r)&&a.push(o.get(Zh)));break;case"delete":ct(r)||(a.push(o.get(ta)),M1(r)&&a.push(o.get(Zh)));break;case"set":M1(r)&&a.push(o.get(ta));break}if(a.length===1)a[0]&&Qh(a[0]);else{const l=[];for(const c of a)c&&l.push(...c);Qh(bf(l))}}function Qh(r,e){const t=ct(r)?r:[...r];for(const n of t)n.computed&&K5(n);for(const n of t)n.computed||K5(n)}function K5(r,e){(r!==Sr||r.allowRecurse)&&(r.scheduler?r.scheduler():r.run())}const Ty=mf("__proto__,__v_isRef,__isVue"),H8=new Set(Object.getOwnPropertyNames(Symbol).filter(r=>r!=="arguments"&&r!=="caller").map(r=>Symbol[r]).filter(vf)),Cy=wf(),Ay=wf(!1,!0),Py=wf(!0),Y5=Ly();function Ly(){const r={};return["includes","indexOf","lastIndexOf"].forEach(e=>{r[e]=function(...t){const n=Dt(this);for(let s=0,o=this.length;s<o;s++)Vi(n,"get",s+"");const i=n[e](...t);return i===-1||i===!1?n[e](...t.map(Dt)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{r[e]=function(...t){cl();const n=Dt(this)[e].apply(this,t);return ul(),n}}),r}function wf(r=!1,e=!1){return function(n,i,s){if(i==="__v_isReactive")return!r;if(i==="__v_isReadonly")return r;if(i==="__v_isShallow")return e;if(i==="__v_raw"&&s===(r?e?qy:X8:e?q8:j8).get(n))return n;const o=ct(n);if(!r&&o&&At(Y5,i))return Reflect.get(Y5,i,s);const a=Reflect.get(n,i,s);return(vf(i)?H8.has(i):Ty(i))||(r||Vi(n,"get",i),e)?a:Zn(a)?o&&xf(i)?a:a.value:Kt(a)?r?$8(a):wo(a):a}}const Ry=G8(),Iy=G8(!0);function G8(r=!1){return function(t,n,i,s){let o=t[n];if(O1(o)&&Zn(o)&&!Zn(i))return!1;if(!r&&(!Z2(i)&&!O1(i)&&(o=Dt(o),i=Dt(i)),!ct(t)&&Zn(o)&&!Zn(i)))return o.value=i,!0;const a=ct(t)&&xf(n)?Number(n)<t.length:At(t,n),l=Reflect.set(t,n,i,s);return t===Dt(s)&&(a?Rc(i,o)&&Ms(t,"set",n,i):Ms(t,"add",n,i)),l}}function Dy(r,e){const t=At(r,e);r[e];const n=Reflect.deleteProperty(r,e);return n&&t&&Ms(r,"delete",e,void 0),n}function ky(r,e){const t=Reflect.has(r,e);return(!vf(e)||!H8.has(e))&&Vi(r,"has",e),t}function Oy(r){return Vi(r,"iterate",ct(r)?"length":ta),Reflect.ownKeys(r)}const W8={get:Cy,set:Ry,deleteProperty:Dy,has:ky,ownKeys:Oy},Fy={get:Py,set(r,e){return!0},deleteProperty(r,e){return!0}},Ny=ei({},W8,{get:Ay,set:Iy}),Sf=r=>r,Ou=r=>Reflect.getPrototypeOf(r);function A0(r,e,t=!1,n=!1){r=r.__v_raw;const i=Dt(r),s=Dt(e);t||(e!==s&&Vi(i,"get",e),Vi(i,"get",s));const{has:o}=Ou(i),a=n?Sf:t?Tf:Ic;if(o.call(i,e))return a(r.get(e));if(o.call(i,s))return a(r.get(s));r!==i&&r.get(e)}function P0(r,e=!1){const t=this.__v_raw,n=Dt(t),i=Dt(r);return e||(r!==i&&Vi(n,"has",r),Vi(n,"has",i)),r===i?t.has(r):t.has(r)||t.has(i)}function L0(r,e=!1){return r=r.__v_raw,!e&&Vi(Dt(r),"iterate",ta),Reflect.get(r,"size",r)}function Z5(r){r=Dt(r);const e=Dt(this);return Ou(e).has.call(e,r)||(e.add(r),Ms(e,"add",r,r)),this}function Q5(r,e){e=Dt(e);const t=Dt(this),{has:n,get:i}=Ou(t);let s=n.call(t,r);s||(r=Dt(r),s=n.call(t,r));const o=i.call(t,r);return t.set(r,e),s?Rc(e,o)&&Ms(t,"set",r,e):Ms(t,"add",r,e),this}function J5(r){const e=Dt(this),{has:t,get:n}=Ou(e);let i=t.call(e,r);i||(r=Dt(r),i=t.call(e,r)),n&&n.call(e,r);const s=e.delete(r);return i&&Ms(e,"delete",r,void 0),s}function ep(){const r=Dt(this),e=r.size!==0,t=r.clear();return e&&Ms(r,"clear",void 0,void 0),t}function R0(r,e){return function(n,i){const s=this,o=s.__v_raw,a=Dt(o),l=e?Sf:r?Tf:Ic;return!r&&Vi(a,"iterate",ta),o.forEach((c,h)=>n.call(i,l(c),l(h),s))}}function I0(r,e,t){return function(...n){const i=this.__v_raw,s=Dt(i),o=M1(s),a=r==="entries"||r===Symbol.iterator&&o,l=r==="keys"&&o,c=i[r](...n),h=t?Sf:e?Tf:Ic;return!e&&Vi(s,"iterate",l?Zh:ta),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:a?[h(d[0]),h(d[1])]:h(d),done:f}},[Symbol.iterator](){return this}}}}function zs(r){return function(...e){return r==="delete"?!1:this}}function zy(){const r={get(s){return A0(this,s)},get size(){return L0(this)},has:P0,add:Z5,set:Q5,delete:J5,clear:ep,forEach:R0(!1,!1)},e={get(s){return A0(this,s,!1,!0)},get size(){return L0(this)},has:P0,add:Z5,set:Q5,delete:J5,clear:ep,forEach:R0(!1,!0)},t={get(s){return A0(this,s,!0)},get size(){return L0(this,!0)},has(s){return P0.call(this,s,!0)},add:zs("add"),set:zs("set"),delete:zs("delete"),clear:zs("clear"),forEach:R0(!0,!1)},n={get(s){return A0(this,s,!0,!0)},get size(){return L0(this,!0)},has(s){return P0.call(this,s,!0)},add:zs("add"),set:zs("set"),delete:zs("delete"),clear:zs("clear"),forEach:R0(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{r[s]=I0(s,!1,!1),t[s]=I0(s,!0,!1),e[s]=I0(s,!1,!0),n[s]=I0(s,!0,!0)}),[r,t,e,n]}const[By,Uy,Vy,Hy]=zy();function Mf(r,e){const t=e?r?Hy:Vy:r?Uy:By;return(n,i,s)=>i==="__v_isReactive"?!r:i==="__v_isReadonly"?r:i==="__v_raw"?n:Reflect.get(At(t,i)&&i in n?t:n,i,s)}const Gy={get:Mf(!1,!1)},Wy={get:Mf(!1,!0)},jy={get:Mf(!0,!1)},j8=new WeakMap,q8=new WeakMap,X8=new WeakMap,qy=new WeakMap;function Xy(r){switch(r){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function $y(r){return r.__v_skip||!Object.isExtensible(r)?0:Xy(vy(r))}function wo(r){return O1(r)?r:Ef(r,!1,W8,Gy,j8)}function Ky(r){return Ef(r,!1,Ny,Wy,q8)}function $8(r){return Ef(r,!0,Fy,jy,X8)}function Ef(r,e,t,n,i){if(!Kt(r)||r.__v_raw&&!(e&&r.__v_isReactive))return r;const s=i.get(r);if(s)return s;const o=$y(r);if(o===0)return r;const a=new Proxy(r,o===2?n:t);return i.set(r,a),a}function E1(r){return O1(r)?E1(r.__v_raw):!!(r&&r.__v_isReactive)}function O1(r){return!!(r&&r.__v_isReadonly)}function Z2(r){return!!(r&&r.__v_isShallow)}function K8(r){return E1(r)||O1(r)}function Dt(r){const e=r&&r.__v_raw;return e?Dt(e):r}function Y8(r){return Y2(r,"__v_skip",!0),r}const Ic=r=>Kt(r)?wo(r):r,Tf=r=>Kt(r)?$8(r):r;function Z8(r){oo&&Sr&&(r=Dt(r),V8(r.dep||(r.dep=bf())))}function Q8(r,e){r=Dt(r),r.dep&&Qh(r.dep)}function Zn(r){return!!(r&&r.__v_isRef===!0)}function J8(r){return e7(r,!1)}function Yy(r){return e7(r,!0)}function e7(r,e){return Zn(r)?r:new Zy(r,e)}class Zy{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:Dt(e),this._value=t?e:Ic(e)}get value(){return Z8(this),this._value}set value(e){const t=this.__v_isShallow||Z2(e)||O1(e);e=t?e:Dt(e),Rc(e,this._rawValue)&&(this._rawValue=e,this._value=t?e:Ic(e),Q8(this))}}function na(r){return Zn(r)?r.value:r}const Qy={get:(r,e,t)=>na(Reflect.get(r,e,t)),set:(r,e,t,n)=>{const i=r[e];return Zn(i)&&!Zn(t)?(i.value=t,!0):Reflect.set(r,e,t,n)}};function t7(r){return E1(r)?r:new Proxy(r,Qy)}var n7;class Jy{constructor(e,t,n,i){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this[n7]=!1,this._dirty=!0,this.effect=new yf(e,()=>{this._dirty||(this._dirty=!0,Q8(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=n}get value(){const e=Dt(this);return Z8(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}n7="__v_isReadonly";function ew(r,e,t=!1){let n,i;const s=ht(r);return s?(n=r,i=Cr):(n=r.get,i=r.set),new Jy(n,i,s||!i,t)}function ao(r,e,t,n){let i;try{i=n?r(...n):r()}catch(s){Fu(s,e,t)}return i}function sr(r,e,t,n){if(ht(r)){const s=ao(r,e,t,n);return s&&k8(s)&&s.catch(o=>{Fu(o,e,t)}),s}const i=[];for(let s=0;s<r.length;s++)i.push(sr(r[s],e,t,n));return i}function Fu(r,e,t,n=!0){const i=e?e.vnode:null;if(e){let s=e.parent;const o=e.proxy,a=t;for(;s;){const c=s.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](r,o,a)===!1)return}s=s.parent}const l=e.appContext.config.errorHandler;if(l){ao(l,null,10,[r,o,a]);return}}tw(r,t,i,n)}function tw(r,e,t,n=!0){console.error(r)}let Dc=!1,Jh=!1;const Kn=[];let Br=0;const T1=[];let ds=null,qo=0;const i7=Promise.resolve();let Cf=null;function r7(r){const e=Cf||i7;return r?e.then(this?r.bind(this):r):e}function nw(r){let e=Br+1,t=Kn.length;for(;e<t;){const n=e+t>>>1;kc(Kn[n])<r?e=n+1:t=n}return e}function Af(r){(!Kn.length||!Kn.includes(r,Dc&&r.allowRecurse?Br+1:Br))&&(r.id==null?Kn.push(r):Kn.splice(nw(r.id),0,r),s7())}function s7(){!Dc&&!Jh&&(Jh=!0,Cf=i7.then(a7))}function iw(r){const e=Kn.indexOf(r);e>Br&&Kn.splice(e,1)}function rw(r){ct(r)?T1.push(...r):(!ds||!ds.includes(r,r.allowRecurse?qo+1:qo))&&T1.push(r),s7()}function tp(r,e=Dc?Br+1:0){for(;e<Kn.length;e++){const t=Kn[e];t&&t.pre&&(Kn.splice(e,1),e--,t())}}function o7(r){if(T1.length){const e=[...new Set(T1)];if(T1.length=0,ds){ds.push(...e);return}for(ds=e,ds.sort((t,n)=>kc(t)-kc(n)),qo=0;qo<ds.length;qo++)ds[qo]();ds=null,qo=0}}const kc=r=>r.id==null?1/0:r.id,sw=(r,e)=>{const t=kc(r)-kc(e);if(t===0){if(r.pre&&!e.pre)return-1;if(e.pre&&!r.pre)return 1}return t};function a7(r){Jh=!1,Dc=!0,Kn.sort(sw);const e=Cr;try{for(Br=0;Br<Kn.length;Br++){const t=Kn[Br];t&&t.active!==!1&&ao(t,null,14)}}finally{Br=0,Kn.length=0,o7(),Dc=!1,Cf=null,(Kn.length||T1.length)&&a7()}}function ow(r,e,...t){if(r.isUnmounted)return;const n=r.vnode.props||qt;let i=t;const s=e.startsWith("update:"),o=s&&e.slice(7);if(o&&o in n){const h=`${o==="modelValue"?"model":o}Modifiers`,{number:d,trim:f}=n[h]||qt;f&&(i=t.map(m=>En(m)?m.trim():m)),d&&(i=t.map(N8))}let a,l=n[a=I3(e)]||n[a=I3($r(e))];!l&&s&&(l=n[a=I3(ll(e))]),l&&sr(l,r,6,i);const c=n[a+"Once"];if(c){if(!r.emitted)r.emitted={};else if(r.emitted[a])return;r.emitted[a]=!0,sr(c,r,6,i)}}function l7(r,e,t=!1){const n=e.emitsCache,i=n.get(r);if(i!==void 0)return i;const s=r.emits;let o={},a=!1;if(!ht(r)){const l=c=>{const h=l7(c,e,!0);h&&(a=!0,ei(o,h))};!t&&e.mixins.length&&e.mixins.forEach(l),r.extends&&l(r.extends),r.mixins&&r.mixins.forEach(l)}return!s&&!a?(Kt(r)&&n.set(r,null),null):(ct(s)?s.forEach(l=>o[l]=null):ei(o,s),Kt(r)&&n.set(r,o),o)}function Nu(r,e){return!r||!Ru(e)?!1:(e=e.slice(2).replace(/Once$/,""),At(r,e[0].toLowerCase()+e.slice(1))||At(r,ll(e))||At(r,e))}let tr=null,zu=null;function Q2(r){const e=tr;return tr=r,zu=r&&r.type.__scopeId||null,e}function Sa(r){zu=r}function Ma(){zu=null}function c7(r,e=tr,t){if(!e||r._n)return r;const n=(...i)=>{n._d&&hp(-1);const s=Q2(e);let o;try{o=r(...i)}finally{Q2(s),n._d&&hp(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function k3(r){const{type:e,vnode:t,proxy:n,withProxy:i,props:s,propsOptions:[o],slots:a,attrs:l,emit:c,render:h,renderCache:d,data:f,setupState:m,ctx:_,inheritAttrs:v}=r;let x,y;const M=Q2(r);try{if(t.shapeFlag&4){const S=i||n;x=Nr(h.call(S,S,d,s,m,f,_)),y=l}else{const S=e;x=Nr(S.length>1?S(s,{attrs:l,slots:a,emit:c}):S(s,null)),y=e.props?l:aw(l)}}catch(S){dc.length=0,Fu(S,r,1),x=cn(Ar)}let w=x;if(y&&v!==!1){const S=Object.keys(y),{shapeFlag:T}=w;S.length&&T&7&&(o&&S.some(gf)&&(y=lw(y,o)),w=go(w,y))}return t.dirs&&(w=go(w),w.dirs=w.dirs?w.dirs.concat(t.dirs):t.dirs),t.transition&&(w.transition=t.transition),x=w,Q2(M),x}const aw=r=>{let e;for(const t in r)(t==="class"||t==="style"||Ru(t))&&((e||(e={}))[t]=r[t]);return e},lw=(r,e)=>{const t={};for(const n in r)(!gf(n)||!(n.slice(9)in e))&&(t[n]=r[n]);return t};function cw(r,e,t){const{props:n,children:i,component:s}=r,{props:o,children:a,patchFlag:l}=e,c=s.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&l>=0){if(l&1024)return!0;if(l&16)return n?np(n,o,c):!!o;if(l&8){const h=e.dynamicProps;for(let d=0;d<h.length;d++){const f=h[d];if(o[f]!==n[f]&&!Nu(c,f))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?np(n,o,c):!0:!!o;return!1}function np(r,e,t){const n=Object.keys(e);if(n.length!==Object.keys(r).length)return!0;for(let i=0;i<n.length;i++){const s=n[i];if(e[s]!==r[s]&&!Nu(t,s))return!0}return!1}function uw({vnode:r,parent:e},t){for(;e&&e.subTree===r;)(r=e.vnode).el=t,e=e.parent}const hw=r=>r.__isSuspense;function dw(r,e){e&&e.pendingBranch?ct(r)?e.effects.push(...r):e.effects.push(r):rw(r)}function C2(r,e){if(In){let t=In.provides;const n=In.parent&&In.parent.provides;n===t&&(t=In.provides=Object.create(n)),t[r]=e}}function ws(r,e,t=!1){const n=In||tr;if(n){const i=n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides;if(i&&r in i)return i[r];if(arguments.length>1)return t&&ht(e)?e.call(n.proxy):e}}const D0={};function A2(r,e,t){return u7(r,e,t)}function u7(r,e,{immediate:t,deep:n,flush:i,onTrack:s,onTrigger:o}=qt){const a=In;let l,c=!1,h=!1;if(Zn(r)?(l=()=>r.value,c=Z2(r)):E1(r)?(l=()=>r,n=!0):ct(r)?(h=!0,c=r.some(w=>E1(w)||Z2(w)),l=()=>r.map(w=>{if(Zn(w))return w.value;if(E1(w))return p1(w);if(ht(w))return ao(w,a,2)})):ht(r)?e?l=()=>ao(r,a,2):l=()=>{if(!(a&&a.isUnmounted))return d&&d(),sr(r,a,3,[f])}:l=Cr,e&&n){const w=l;l=()=>p1(w())}let d,f=w=>{d=y.onStop=()=>{ao(w,a,4)}},m;if(Fc)if(f=Cr,e?t&&sr(e,a,3,[l(),h?[]:void 0,f]):l(),i==="sync"){const w=lS();m=w.__watcherHandles||(w.__watcherHandles=[])}else return Cr;let _=h?new Array(r.length).fill(D0):D0;const v=()=>{if(!!y.active)if(e){const w=y.run();(n||c||(h?w.some((S,T)=>Rc(S,_[T])):Rc(w,_)))&&(d&&d(),sr(e,a,3,[w,_===D0?void 0:h&&_[0]===D0?[]:_,f]),_=w)}else y.run()};v.allowRecurse=!!e;let x;i==="sync"?x=v:i==="post"?x=()=>mi(v,a&&a.suspense):(v.pre=!0,a&&(v.id=a.uid),x=()=>Af(v));const y=new yf(l,x);e?t?v():_=y.run():i==="post"?mi(y.run.bind(y),a&&a.suspense):y.run();const M=()=>{y.stop(),a&&a.scope&&_f(a.scope.effects,y)};return m&&m.push(M),M}function fw(r,e,t){const n=this.proxy,i=En(r)?r.includes(".")?h7(n,r):()=>n[r]:r.bind(n,n);let s;ht(e)?s=e:(s=e.handler,t=e);const o=In;F1(this);const a=u7(i,s.bind(n),t);return o?F1(o):ia(),a}function h7(r,e){const t=e.split(".");return()=>{let n=r;for(let i=0;i<t.length&&n;i++)n=n[t[i]];return n}}function p1(r,e){if(!Kt(r)||r.__v_skip||(e=e||new Set,e.has(r)))return r;if(e.add(r),Zn(r))p1(r.value,e);else if(ct(r))for(let t=0;t<r.length;t++)p1(r[t],e);else if(D8(r)||M1(r))r.forEach(t=>{p1(t,e)});else if(F8(r))for(const t in r)p1(r[t],e);return r}function pw(){const r={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ea(()=>{r.isMounted=!0}),m7(()=>{r.isUnmounting=!0}),r}const Xi=[Function,Array],mw={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Xi,onEnter:Xi,onAfterEnter:Xi,onEnterCancelled:Xi,onBeforeLeave:Xi,onLeave:Xi,onAfterLeave:Xi,onLeaveCancelled:Xi,onBeforeAppear:Xi,onAppear:Xi,onAfterAppear:Xi,onAppearCancelled:Xi},setup(r,{slots:e}){const t=eS(),n=pw();let i;return()=>{const s=e.default&&f7(e.default(),!0);if(!s||!s.length)return;let o=s[0];if(s.length>1){for(const v of s)if(v.type!==Ar){o=v;break}}const a=Dt(r),{mode:l}=a;if(n.isLeaving)return O3(o);const c=ip(o);if(!c)return O3(o);const h=ed(c,a,n,t);td(c,h);const d=t.subTree,f=d&&ip(d);let m=!1;const{getTransitionKey:_}=c.type;if(_){const v=_();i===void 0?i=v:v!==i&&(i=v,m=!0)}if(f&&f.type!==Ar&&(!Xo(c,f)||m)){const v=ed(f,a,n,t);if(td(f,v),l==="out-in")return n.isLeaving=!0,v.afterLeave=()=>{n.isLeaving=!1,t.update.active!==!1&&t.update()},O3(o);l==="in-out"&&c.type!==Ar&&(v.delayLeave=(x,y,M)=>{const w=d7(n,f);w[String(f.key)]=f,x._leaveCb=()=>{y(),x._leaveCb=void 0,delete h.delayedLeave},h.delayedLeave=M})}return o}}},gw=mw;function d7(r,e){const{leavingVNodes:t}=r;let n=t.get(e.type);return n||(n=Object.create(null),t.set(e.type,n)),n}function ed(r,e,t,n){const{appear:i,mode:s,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:h,onBeforeLeave:d,onLeave:f,onAfterLeave:m,onLeaveCancelled:_,onBeforeAppear:v,onAppear:x,onAfterAppear:y,onAppearCancelled:M}=e,w=String(r.key),S=d7(t,r),T=(E,L)=>{E&&sr(E,n,9,L)},A=(E,L)=>{const k=L[1];T(E,L),ct(E)?E.every(H=>H.length<=1)&&k():E.length<=1&&k()},R={mode:s,persisted:o,beforeEnter(E){let L=a;if(!t.isMounted)if(i)L=v||a;else return;E._leaveCb&&E._leaveCb(!0);const k=S[w];k&&Xo(r,k)&&k.el._leaveCb&&k.el._leaveCb(),T(L,[E])},enter(E){let L=l,k=c,H=h;if(!t.isMounted)if(i)L=x||l,k=y||c,H=M||h;else return;let te=!1;const q=E._enterCb=B=>{te||(te=!0,B?T(H,[E]):T(k,[E]),R.delayedLeave&&R.delayedLeave(),E._enterCb=void 0)};L?A(L,[E,q]):q()},leave(E,L){const k=String(r.key);if(E._enterCb&&E._enterCb(!0),t.isUnmounting)return L();T(d,[E]);let H=!1;const te=E._leaveCb=q=>{H||(H=!0,L(),q?T(_,[E]):T(m,[E]),E._leaveCb=void 0,S[k]===r&&delete S[k])};S[k]=r,f?A(f,[E,te]):te()},clone(E){return ed(E,e,t,n)}};return R}function O3(r){if(Bu(r))return r=go(r),r.children=null,r}function ip(r){return Bu(r)?r.children?r.children[0]:void 0:r}function td(r,e){r.shapeFlag&6&&r.component?td(r.component.subTree,e):r.shapeFlag&128?(r.ssContent.transition=e.clone(r.ssContent),r.ssFallback.transition=e.clone(r.ssFallback)):r.transition=e}function f7(r,e=!1,t){let n=[],i=0;for(let s=0;s<r.length;s++){let o=r[s];const a=t==null?o.key:String(t)+String(o.key!=null?o.key:s);o.type===_i?(o.patchFlag&128&&i++,n=n.concat(f7(o.children,e,a))):(e||o.type!==Ar)&&n.push(a!=null?go(o,{key:a}):o)}if(i>1)for(let s=0;s<n.length;s++)n[s].patchFlag=-2;return n}function Pf(r){return ht(r)?{setup:r,name:r.name}:r}const P2=r=>!!r.type.__asyncLoader,Bu=r=>r.type.__isKeepAlive;function _w(r,e){p7(r,"a",e)}function vw(r,e){p7(r,"da",e)}function p7(r,e,t=In){const n=r.__wdc||(r.__wdc=()=>{let i=t;for(;i;){if(i.isDeactivated)return;i=i.parent}return r()});if(Uu(e,n,t),t){let i=t.parent;for(;i&&i.parent;)Bu(i.parent.vnode)&&xw(n,e,t,i),i=i.parent}}function xw(r,e,t,n){const i=Uu(e,r,n,!0);g7(()=>{_f(n[e],i)},t)}function Uu(r,e,t=In,n=!1){if(t){const i=t[r]||(t[r]=[]),s=e.__weh||(e.__weh=(...o)=>{if(t.isUnmounted)return;cl(),F1(t);const a=sr(e,t,r,o);return ia(),ul(),a});return n?i.unshift(s):i.push(s),s}}const Ps=r=>(e,t=In)=>(!Fc||r==="sp")&&Uu(r,(...n)=>e(...n),t),bw=Ps("bm"),Ea=Ps("m"),yw=Ps("bu"),ww=Ps("u"),m7=Ps("bum"),g7=Ps("um"),Sw=Ps("sp"),Mw=Ps("rtg"),Ew=Ps("rtc");function Tw(r,e=In){Uu("ec",r,e)}function Io(r,e,t,n){const i=r.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let l=a.dir[n];l&&(cl(),sr(l,t,8,[r.el,a,r,e]),ul())}}const _7="components";function v7(r,e){return Aw(_7,r,!0,e)||r}const Cw=Symbol();function Aw(r,e,t=!0,n=!1){const i=tr||In;if(i){const s=i.type;if(r===_7){const a=sS(s,!1);if(a&&(a===e||a===$r(e)||a===ku($r(e))))return s}const o=rp(i[r]||s[r],e)||rp(i.appContext[r],e);return!o&&n?s:o}}function rp(r,e){return r&&(r[e]||r[$r(e)]||r[ku($r(e))])}function Lf(r,e,t,n){let i;const s=t&&t[n];if(ct(r)||En(r)){i=new Array(r.length);for(let o=0,a=r.length;o<a;o++)i[o]=e(r[o],o,void 0,s&&s[o])}else if(typeof r=="number"){i=new Array(r);for(let o=0;o<r;o++)i[o]=e(o+1,o,void 0,s&&s[o])}else if(Kt(r))if(r[Symbol.iterator])i=Array.from(r,(o,a)=>e(o,a,void 0,s&&s[a]));else{const o=Object.keys(r);i=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const c=o[a];i[a]=e(r[c],c,a,s&&s[a])}}else i=[];return t&&(t[n]=i),i}const nd=r=>r?R7(r)?Of(r)||r.proxy:nd(r.parent):null,hc=ei(Object.create(null),{$:r=>r,$el:r=>r.vnode.el,$data:r=>r.data,$props:r=>r.props,$attrs:r=>r.attrs,$slots:r=>r.slots,$refs:r=>r.refs,$parent:r=>nd(r.parent),$root:r=>nd(r.root),$emit:r=>r.emit,$options:r=>Rf(r),$forceUpdate:r=>r.f||(r.f=()=>Af(r.update)),$nextTick:r=>r.n||(r.n=r7.bind(r.proxy)),$watch:r=>fw.bind(r)}),F3=(r,e)=>r!==qt&&!r.__isScriptSetup&&At(r,e),Pw={get({_:r},e){const{ctx:t,setupState:n,data:i,props:s,accessCache:o,type:a,appContext:l}=r;let c;if(e[0]!=="$"){const m=o[e];if(m!==void 0)switch(m){case 1:return n[e];case 2:return i[e];case 4:return t[e];case 3:return s[e]}else{if(F3(n,e))return o[e]=1,n[e];if(i!==qt&&At(i,e))return o[e]=2,i[e];if((c=r.propsOptions[0])&&At(c,e))return o[e]=3,s[e];if(t!==qt&&At(t,e))return o[e]=4,t[e];id&&(o[e]=0)}}const h=hc[e];let d,f;if(h)return e==="$attrs"&&Vi(r,"get",e),h(r);if((d=a.__cssModules)&&(d=d[e]))return d;if(t!==qt&&At(t,e))return o[e]=4,t[e];if(f=l.config.globalProperties,At(f,e))return f[e]},set({_:r},e,t){const{data:n,setupState:i,ctx:s}=r;return F3(i,e)?(i[e]=t,!0):n!==qt&&At(n,e)?(n[e]=t,!0):At(r.props,e)||e[0]==="$"&&e.slice(1)in r?!1:(s[e]=t,!0)},has({_:{data:r,setupState:e,accessCache:t,ctx:n,appContext:i,propsOptions:s}},o){let a;return!!t[o]||r!==qt&&At(r,o)||F3(e,o)||(a=s[0])&&At(a,o)||At(n,o)||At(hc,o)||At(i.config.globalProperties,o)},defineProperty(r,e,t){return t.get!=null?r._.accessCache[e]=0:At(t,"value")&&this.set(r,e,t.value,null),Reflect.defineProperty(r,e,t)}};let id=!0;function Lw(r){const e=Rf(r),t=r.proxy,n=r.ctx;id=!1,e.beforeCreate&&sp(e.beforeCreate,r,"bc");const{data:i,computed:s,methods:o,watch:a,provide:l,inject:c,created:h,beforeMount:d,mounted:f,beforeUpdate:m,updated:_,activated:v,deactivated:x,beforeDestroy:y,beforeUnmount:M,destroyed:w,unmounted:S,render:T,renderTracked:A,renderTriggered:R,errorCaptured:E,serverPrefetch:L,expose:k,inheritAttrs:H,components:te,directives:q,filters:B}=e;if(c&&Rw(c,n,null,r.appContext.config.unwrapInjectedRef),o)for(const V in o){const Y=o[V];ht(Y)&&(n[V]=Y.bind(t))}if(i){const V=i.call(t,t);Kt(V)&&(r.data=wo(V))}if(id=!0,s)for(const V in s){const Y=s[V],X=ht(Y)?Y.bind(t,t):ht(Y.get)?Y.get.bind(t,t):Cr,O=!ht(Y)&&ht(Y.set)?Y.set.bind(t):Cr,de=Di({get:X,set:O});Object.defineProperty(n,V,{enumerable:!0,configurable:!0,get:()=>de.value,set:_e=>de.value=_e})}if(a)for(const V in a)x7(a[V],n,t,V);if(l){const V=ht(l)?l.call(t):l;Reflect.ownKeys(V).forEach(Y=>{C2(Y,V[Y])})}h&&sp(h,r,"c");function W(V,Y){ct(Y)?Y.forEach(X=>V(X.bind(t))):Y&&V(Y.bind(t))}if(W(bw,d),W(Ea,f),W(yw,m),W(ww,_),W(_w,v),W(vw,x),W(Tw,E),W(Ew,A),W(Mw,R),W(m7,M),W(g7,S),W(Sw,L),ct(k))if(k.length){const V=r.exposed||(r.exposed={});k.forEach(Y=>{Object.defineProperty(V,Y,{get:()=>t[Y],set:X=>t[Y]=X})})}else r.exposed||(r.exposed={});T&&r.render===Cr&&(r.render=T),H!=null&&(r.inheritAttrs=H),te&&(r.components=te),q&&(r.directives=q)}function Rw(r,e,t=Cr,n=!1){ct(r)&&(r=rd(r));for(const i in r){const s=r[i];let o;Kt(s)?"default"in s?o=ws(s.from||i,s.default,!0):o=ws(s.from||i):o=ws(s),Zn(o)&&n?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):e[i]=o}}function sp(r,e,t){sr(ct(r)?r.map(n=>n.bind(e.proxy)):r.bind(e.proxy),e,t)}function x7(r,e,t,n){const i=n.includes(".")?h7(t,n):()=>t[n];if(En(r)){const s=e[r];ht(s)&&A2(i,s)}else if(ht(r))A2(i,r.bind(t));else if(Kt(r))if(ct(r))r.forEach(s=>x7(s,e,t,n));else{const s=ht(r.handler)?r.handler.bind(t):e[r.handler];ht(s)&&A2(i,s,r)}}function Rf(r){const e=r.type,{mixins:t,extends:n}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=r.appContext,a=s.get(e);let l;return a?l=a:!i.length&&!t&&!n?l=e:(l={},i.length&&i.forEach(c=>J2(l,c,o,!0)),J2(l,e,o)),Kt(e)&&s.set(e,l),l}function J2(r,e,t,n=!1){const{mixins:i,extends:s}=e;s&&J2(r,s,t,!0),i&&i.forEach(o=>J2(r,o,t,!0));for(const o in e)if(!(n&&o==="expose")){const a=Iw[o]||t&&t[o];r[o]=a?a(r[o],e[o]):e[o]}return r}const Iw={data:op,props:Uo,emits:Uo,methods:Uo,computed:Uo,beforeCreate:si,created:si,beforeMount:si,mounted:si,beforeUpdate:si,updated:si,beforeDestroy:si,beforeUnmount:si,destroyed:si,unmounted:si,activated:si,deactivated:si,errorCaptured:si,serverPrefetch:si,components:Uo,directives:Uo,watch:kw,provide:op,inject:Dw};function op(r,e){return e?r?function(){return ei(ht(r)?r.call(this,this):r,ht(e)?e.call(this,this):e)}:e:r}function Dw(r,e){return Uo(rd(r),rd(e))}function rd(r){if(ct(r)){const e={};for(let t=0;t<r.length;t++)e[r[t]]=r[t];return e}return r}function si(r,e){return r?[...new Set([].concat(r,e))]:e}function Uo(r,e){return r?ei(ei(Object.create(null),r),e):e}function kw(r,e){if(!r)return e;if(!e)return r;const t=ei(Object.create(null),r);for(const n in e)t[n]=si(r[n],e[n]);return t}function Ow(r,e,t,n=!1){const i={},s={};Y2(s,Hu,1),r.propsDefaults=Object.create(null),b7(r,e,i,s);for(const o in r.propsOptions[0])o in i||(i[o]=void 0);t?r.props=n?i:Ky(i):r.type.props?r.props=i:r.props=s,r.attrs=s}function Fw(r,e,t,n){const{props:i,attrs:s,vnode:{patchFlag:o}}=r,a=Dt(i),[l]=r.propsOptions;let c=!1;if((n||o>0)&&!(o&16)){if(o&8){const h=r.vnode.dynamicProps;for(let d=0;d<h.length;d++){let f=h[d];if(Nu(r.emitsOptions,f))continue;const m=e[f];if(l)if(At(s,f))m!==s[f]&&(s[f]=m,c=!0);else{const _=$r(f);i[_]=sd(l,a,_,m,r,!1)}else m!==s[f]&&(s[f]=m,c=!0)}}}else{b7(r,e,i,s)&&(c=!0);let h;for(const d in a)(!e||!At(e,d)&&((h=ll(d))===d||!At(e,h)))&&(l?t&&(t[d]!==void 0||t[h]!==void 0)&&(i[d]=sd(l,a,d,void 0,r,!0)):delete i[d]);if(s!==a)for(const d in s)(!e||!At(e,d)&&!0)&&(delete s[d],c=!0)}c&&Ms(r,"set","$attrs")}function b7(r,e,t,n){const[i,s]=r.propsOptions;let o=!1,a;if(e)for(let l in e){if(T2(l))continue;const c=e[l];let h;i&&At(i,h=$r(l))?!s||!s.includes(h)?t[h]=c:(a||(a={}))[h]=c:Nu(r.emitsOptions,l)||(!(l in n)||c!==n[l])&&(n[l]=c,o=!0)}if(s){const l=Dt(t),c=a||qt;for(let h=0;h<s.length;h++){const d=s[h];t[d]=sd(i,l,d,c[d],r,!At(c,d))}}return o}function sd(r,e,t,n,i,s){const o=r[t];if(o!=null){const a=At(o,"default");if(a&&n===void 0){const l=o.default;if(o.type!==Function&&ht(l)){const{propsDefaults:c}=i;t in c?n=c[t]:(F1(i),n=c[t]=l.call(null,e),ia())}else n=l}o[0]&&(s&&!a?n=!1:o[1]&&(n===""||n===ll(t))&&(n=!0))}return n}function y7(r,e,t=!1){const n=e.propsCache,i=n.get(r);if(i)return i;const s=r.props,o={},a=[];let l=!1;if(!ht(r)){const h=d=>{l=!0;const[f,m]=y7(d,e,!0);ei(o,f),m&&a.push(...m)};!t&&e.mixins.length&&e.mixins.forEach(h),r.extends&&h(r.extends),r.mixins&&r.mixins.forEach(h)}if(!s&&!l)return Kt(r)&&n.set(r,S1),S1;if(ct(s))for(let h=0;h<s.length;h++){const d=$r(s[h]);ap(d)&&(o[d]=qt)}else if(s)for(const h in s){const d=$r(h);if(ap(d)){const f=s[h],m=o[d]=ct(f)||ht(f)?{type:f}:Object.assign({},f);if(m){const _=up(Boolean,m.type),v=up(String,m.type);m[0]=_>-1,m[1]=v<0||_<v,(_>-1||At(m,"default"))&&a.push(d)}}}const c=[o,a];return Kt(r)&&n.set(r,c),c}function ap(r){return r[0]!=="$"}function lp(r){const e=r&&r.toString().match(/^\s*function (\w+)/);return e?e[1]:r===null?"null":""}function cp(r,e){return lp(r)===lp(e)}function up(r,e){return ct(e)?e.findIndex(t=>cp(t,r)):ht(e)&&cp(e,r)?0:-1}const w7=r=>r[0]==="_"||r==="$stable",If=r=>ct(r)?r.map(Nr):[Nr(r)],Nw=(r,e,t)=>{if(e._n)return e;const n=c7((...i)=>If(e(...i)),t);return n._c=!1,n},S7=(r,e,t)=>{const n=r._ctx;for(const i in r){if(w7(i))continue;const s=r[i];if(ht(s))e[i]=Nw(i,s,n);else if(s!=null){const o=If(s);e[i]=()=>o}}},M7=(r,e)=>{const t=If(e);r.slots.default=()=>t},zw=(r,e)=>{if(r.vnode.shapeFlag&32){const t=e._;t?(r.slots=Dt(e),Y2(e,"_",t)):S7(e,r.slots={})}else r.slots={},e&&M7(r,e);Y2(r.slots,Hu,1)},Bw=(r,e,t)=>{const{vnode:n,slots:i}=r;let s=!0,o=qt;if(n.shapeFlag&32){const a=e._;a?t&&a===1?s=!1:(ei(i,e),!t&&a===1&&delete i._):(s=!e.$stable,S7(e,i)),o=e}else e&&(M7(r,e),o={default:1});if(s)for(const a in i)!w7(a)&&!(a in o)&&delete i[a]};function E7(){return{app:null,config:{isNativeTag:my,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Uw=0;function Vw(r,e){return function(n,i=null){ht(n)||(n=Object.assign({},n)),i!=null&&!Kt(i)&&(i=null);const s=E7(),o=new Set;let a=!1;const l=s.app={_uid:Uw++,_component:n,_props:i,_container:null,_context:s,_instance:null,version:cS,get config(){return s.config},set config(c){},use(c,...h){return o.has(c)||(c&&ht(c.install)?(o.add(c),c.install(l,...h)):ht(c)&&(o.add(c),c(l,...h))),l},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),l},component(c,h){return h?(s.components[c]=h,l):s.components[c]},directive(c,h){return h?(s.directives[c]=h,l):s.directives[c]},mount(c,h,d){if(!a){const f=cn(n,i);return f.appContext=s,h&&e?e(f,c):r(f,c,d),a=!0,l._container=c,c.__vue_app__=l,Of(f.component)||f.component.proxy}},unmount(){a&&(r(null,l._container),delete l._container.__vue_app__)},provide(c,h){return s.provides[c]=h,l}};return l}}function od(r,e,t,n,i=!1){if(ct(r)){r.forEach((f,m)=>od(f,e&&(ct(e)?e[m]:e),t,n,i));return}if(P2(n)&&!i)return;const s=n.shapeFlag&4?Of(n.component)||n.component.proxy:n.el,o=i?null:s,{i:a,r:l}=r,c=e&&e.r,h=a.refs===qt?a.refs={}:a.refs,d=a.setupState;if(c!=null&&c!==l&&(En(c)?(h[c]=null,At(d,c)&&(d[c]=null)):Zn(c)&&(c.value=null)),ht(l))ao(l,a,12,[o,h]);else{const f=En(l),m=Zn(l);if(f||m){const _=()=>{if(r.f){const v=f?At(d,l)?d[l]:h[l]:l.value;i?ct(v)&&_f(v,s):ct(v)?v.includes(s)||v.push(s):f?(h[l]=[s],At(d,l)&&(d[l]=h[l])):(l.value=[s],r.k&&(h[r.k]=l.value))}else f?(h[l]=o,At(d,l)&&(d[l]=o)):m&&(l.value=o,r.k&&(h[r.k]=o))};o?(_.id=-1,mi(_,t)):_()}}}const mi=dw;function Hw(r){return Gw(r)}function Gw(r,e){const t=yy();t.__VUE__=!0;const{insert:n,remove:i,patchProp:s,createElement:o,createText:a,createComment:l,setText:c,setElementText:h,parentNode:d,nextSibling:f,setScopeId:m=Cr,insertStaticContent:_}=r,v=(C,I,j,ee=null,ne=null,G=null,xe=!1,ue=null,Me=!!I.dynamicChildren)=>{if(C===I)return;C&&!Xo(C,I)&&(ee=J(C),_e(C,ne,G,!0),C=null),I.patchFlag===-2&&(Me=!1,I.dynamicChildren=null);const{type:ye,ref:F,shapeFlag:D}=I;switch(ye){case Vu:x(C,I,j,ee);break;case Ar:y(C,I,j,ee);break;case L2:C==null&&M(I,j,ee,xe);break;case _i:te(C,I,j,ee,ne,G,xe,ue,Me);break;default:D&1?T(C,I,j,ee,ne,G,xe,ue,Me):D&6?q(C,I,j,ee,ne,G,xe,ue,Me):(D&64||D&128)&&ye.process(C,I,j,ee,ne,G,xe,ue,Me,$)}F!=null&&ne&&od(F,C&&C.ref,G,I||C,!I)},x=(C,I,j,ee)=>{if(C==null)n(I.el=a(I.children),j,ee);else{const ne=I.el=C.el;I.children!==C.children&&c(ne,I.children)}},y=(C,I,j,ee)=>{C==null?n(I.el=l(I.children||""),j,ee):I.el=C.el},M=(C,I,j,ee)=>{[C.el,C.anchor]=_(C.children,I,j,ee,C.el,C.anchor)},w=({el:C,anchor:I},j,ee)=>{let ne;for(;C&&C!==I;)ne=f(C),n(C,j,ee),C=ne;n(I,j,ee)},S=({el:C,anchor:I})=>{let j;for(;C&&C!==I;)j=f(C),i(C),C=j;i(I)},T=(C,I,j,ee,ne,G,xe,ue,Me)=>{xe=xe||I.type==="svg",C==null?A(I,j,ee,ne,G,xe,ue,Me):L(C,I,ne,G,xe,ue,Me)},A=(C,I,j,ee,ne,G,xe,ue)=>{let Me,ye;const{type:F,props:D,shapeFlag:re,transition:fe,dirs:me}=C;if(Me=C.el=o(C.type,G,D&&D.is,D),re&8?h(Me,C.children):re&16&&E(C.children,Me,null,ee,ne,G&&F!=="foreignObject",xe,ue),me&&Io(C,null,ee,"created"),D){for(const Pe in D)Pe!=="value"&&!T2(Pe)&&s(Me,Pe,null,D[Pe],G,C.children,ee,ne,ie);"value"in D&&s(Me,"value",null,D.value),(ye=D.onVnodeBeforeMount)&&Dr(ye,ee,C)}R(Me,C,C.scopeId,xe,ee),me&&Io(C,null,ee,"beforeMount");const Ce=(!ne||ne&&!ne.pendingBranch)&&fe&&!fe.persisted;Ce&&fe.beforeEnter(Me),n(Me,I,j),((ye=D&&D.onVnodeMounted)||Ce||me)&&mi(()=>{ye&&Dr(ye,ee,C),Ce&&fe.enter(Me),me&&Io(C,null,ee,"mounted")},ne)},R=(C,I,j,ee,ne)=>{if(j&&m(C,j),ee)for(let G=0;G<ee.length;G++)m(C,ee[G]);if(ne){let G=ne.subTree;if(I===G){const xe=ne.vnode;R(C,xe,xe.scopeId,xe.slotScopeIds,ne.parent)}}},E=(C,I,j,ee,ne,G,xe,ue,Me=0)=>{for(let ye=Me;ye<C.length;ye++){const F=C[ye]=ue?Zs(C[ye]):Nr(C[ye]);v(null,F,I,j,ee,ne,G,xe,ue)}},L=(C,I,j,ee,ne,G,xe)=>{const ue=I.el=C.el;let{patchFlag:Me,dynamicChildren:ye,dirs:F}=I;Me|=C.patchFlag&16;const D=C.props||qt,re=I.props||qt;let fe;j&&Do(j,!1),(fe=re.onVnodeBeforeUpdate)&&Dr(fe,j,I,C),F&&Io(I,C,j,"beforeUpdate"),j&&Do(j,!0);const me=ne&&I.type!=="foreignObject";if(ye?k(C.dynamicChildren,ye,ue,j,ee,me,G):xe||Y(C,I,ue,null,j,ee,me,G,!1),Me>0){if(Me&16)H(ue,I,D,re,j,ee,ne);else if(Me&2&&D.class!==re.class&&s(ue,"class",null,re.class,ne),Me&4&&s(ue,"style",D.style,re.style,ne),Me&8){const Ce=I.dynamicProps;for(let Pe=0;Pe<Ce.length;Pe++){const K=Ce[Pe],ae=D[K],Le=re[K];(Le!==ae||K==="value")&&s(ue,K,ae,Le,ne,C.children,j,ee,ie)}}Me&1&&C.children!==I.children&&h(ue,I.children)}else!xe&&ye==null&&H(ue,I,D,re,j,ee,ne);((fe=re.onVnodeUpdated)||F)&&mi(()=>{fe&&Dr(fe,j,I,C),F&&Io(I,C,j,"updated")},ee)},k=(C,I,j,ee,ne,G,xe)=>{for(let ue=0;ue<I.length;ue++){const Me=C[ue],ye=I[ue],F=Me.el&&(Me.type===_i||!Xo(Me,ye)||Me.shapeFlag&70)?d(Me.el):j;v(Me,ye,F,null,ee,ne,G,xe,!0)}},H=(C,I,j,ee,ne,G,xe)=>{if(j!==ee){if(j!==qt)for(const ue in j)!T2(ue)&&!(ue in ee)&&s(C,ue,j[ue],null,xe,I.children,ne,G,ie);for(const ue in ee){if(T2(ue))continue;const Me=ee[ue],ye=j[ue];Me!==ye&&ue!=="value"&&s(C,ue,ye,Me,xe,I.children,ne,G,ie)}"value"in ee&&s(C,"value",j.value,ee.value)}},te=(C,I,j,ee,ne,G,xe,ue,Me)=>{const ye=I.el=C?C.el:a(""),F=I.anchor=C?C.anchor:a("");let{patchFlag:D,dynamicChildren:re,slotScopeIds:fe}=I;fe&&(ue=ue?ue.concat(fe):fe),C==null?(n(ye,j,ee),n(F,j,ee),E(I.children,j,F,ne,G,xe,ue,Me)):D>0&&D&64&&re&&C.dynamicChildren?(k(C.dynamicChildren,re,j,ne,G,xe,ue),(I.key!=null||ne&&I===ne.subTree)&&T7(C,I,!0)):Y(C,I,j,F,ne,G,xe,ue,Me)},q=(C,I,j,ee,ne,G,xe,ue,Me)=>{I.slotScopeIds=ue,C==null?I.shapeFlag&512?ne.ctx.activate(I,j,ee,xe,Me):B(I,j,ee,ne,G,xe,Me):N(C,I,Me)},B=(C,I,j,ee,ne,G,xe)=>{const ue=C.component=Jw(C,ee,ne);if(Bu(C)&&(ue.ctx.renderer=$),tS(ue),ue.asyncDep){if(ne&&ne.registerDep(ue,W),!C.el){const Me=ue.subTree=cn(Ar);y(null,Me,I,j)}return}W(ue,C,I,j,ne,G,xe)},N=(C,I,j)=>{const ee=I.component=C.component;if(cw(C,I,j))if(ee.asyncDep&&!ee.asyncResolved){V(ee,I,j);return}else ee.next=I,iw(ee.update),ee.update();else I.el=C.el,ee.vnode=I},W=(C,I,j,ee,ne,G,xe)=>{const ue=()=>{if(C.isMounted){let{next:F,bu:D,u:re,parent:fe,vnode:me}=C,Ce=F,Pe;Do(C,!1),F?(F.el=me.el,V(C,F,xe)):F=me,D&&D3(D),(Pe=F.props&&F.props.onVnodeBeforeUpdate)&&Dr(Pe,fe,F,me),Do(C,!0);const K=k3(C),ae=C.subTree;C.subTree=K,v(ae,K,d(ae.el),J(ae),C,ne,G),F.el=K.el,Ce===null&&uw(C,K.el),re&&mi(re,ne),(Pe=F.props&&F.props.onVnodeUpdated)&&mi(()=>Dr(Pe,fe,F,me),ne)}else{let F;const{el:D,props:re}=I,{bm:fe,m:me,parent:Ce}=C,Pe=P2(I);if(Do(C,!1),fe&&D3(fe),!Pe&&(F=re&&re.onVnodeBeforeMount)&&Dr(F,Ce,I),Do(C,!0),D&&ve){const K=()=>{C.subTree=k3(C),ve(D,C.subTree,C,ne,null)};Pe?I.type.__asyncLoader().then(()=>!C.isUnmounted&&K()):K()}else{const K=C.subTree=k3(C);v(null,K,j,ee,C,ne,G),I.el=K.el}if(me&&mi(me,ne),!Pe&&(F=re&&re.onVnodeMounted)){const K=I;mi(()=>Dr(F,Ce,K),ne)}(I.shapeFlag&256||Ce&&P2(Ce.vnode)&&Ce.vnode.shapeFlag&256)&&C.a&&mi(C.a,ne),C.isMounted=!0,I=j=ee=null}},Me=C.effect=new yf(ue,()=>Af(ye),C.scope),ye=C.update=()=>Me.run();ye.id=C.uid,Do(C,!0),ye()},V=(C,I,j)=>{I.component=C;const ee=C.vnode.props;C.vnode=I,C.next=null,Fw(C,I.props,ee,j),Bw(C,I.children,j),cl(),tp(),ul()},Y=(C,I,j,ee,ne,G,xe,ue,Me=!1)=>{const ye=C&&C.children,F=C?C.shapeFlag:0,D=I.children,{patchFlag:re,shapeFlag:fe}=I;if(re>0){if(re&128){O(ye,D,j,ee,ne,G,xe,ue,Me);return}else if(re&256){X(ye,D,j,ee,ne,G,xe,ue,Me);return}}fe&8?(F&16&&ie(ye,ne,G),D!==ye&&h(j,D)):F&16?fe&16?O(ye,D,j,ee,ne,G,xe,ue,Me):ie(ye,ne,G,!0):(F&8&&h(j,""),fe&16&&E(D,j,ee,ne,G,xe,ue,Me))},X=(C,I,j,ee,ne,G,xe,ue,Me)=>{C=C||S1,I=I||S1;const ye=C.length,F=I.length,D=Math.min(ye,F);let re;for(re=0;re<D;re++){const fe=I[re]=Me?Zs(I[re]):Nr(I[re]);v(C[re],fe,j,null,ne,G,xe,ue,Me)}ye>F?ie(C,ne,G,!0,!1,D):E(I,j,ee,ne,G,xe,ue,Me,D)},O=(C,I,j,ee,ne,G,xe,ue,Me)=>{let ye=0;const F=I.length;let D=C.length-1,re=F-1;for(;ye<=D&&ye<=re;){const fe=C[ye],me=I[ye]=Me?Zs(I[ye]):Nr(I[ye]);if(Xo(fe,me))v(fe,me,j,null,ne,G,xe,ue,Me);else break;ye++}for(;ye<=D&&ye<=re;){const fe=C[D],me=I[re]=Me?Zs(I[re]):Nr(I[re]);if(Xo(fe,me))v(fe,me,j,null,ne,G,xe,ue,Me);else break;D--,re--}if(ye>D){if(ye<=re){const fe=re+1,me=fe<F?I[fe].el:ee;for(;ye<=re;)v(null,I[ye]=Me?Zs(I[ye]):Nr(I[ye]),j,me,ne,G,xe,ue,Me),ye++}}else if(ye>re)for(;ye<=D;)_e(C[ye],ne,G,!0),ye++;else{const fe=ye,me=ye,Ce=new Map;for(ye=me;ye<=re;ye++){const Oe=I[ye]=Me?Zs(I[ye]):Nr(I[ye]);Oe.key!=null&&Ce.set(Oe.key,ye)}let Pe,K=0;const ae=re-me+1;let Le=!1,ze=0;const De=new Array(ae);for(ye=0;ye<ae;ye++)De[ye]=0;for(ye=fe;ye<=D;ye++){const Oe=C[ye];if(K>=ae){_e(Oe,ne,G,!0);continue}let Fe;if(Oe.key!=null)Fe=Ce.get(Oe.key);else for(Pe=me;Pe<=re;Pe++)if(De[Pe-me]===0&&Xo(Oe,I[Pe])){Fe=Pe;break}Fe===void 0?_e(Oe,ne,G,!0):(De[Fe-me]=ye+1,Fe>=ze?ze=Fe:Le=!0,v(Oe,I[Fe],j,null,ne,G,xe,ue,Me),K++)}const He=Le?Ww(De):S1;for(Pe=He.length-1,ye=ae-1;ye>=0;ye--){const Oe=me+ye,Fe=I[Oe],rt=Oe+1<F?I[Oe+1].el:ee;De[ye]===0?v(null,Fe,j,rt,ne,G,xe,ue,Me):Le&&(Pe<0||ye!==He[Pe]?de(Fe,j,rt,2):Pe--)}}},de=(C,I,j,ee,ne=null)=>{const{el:G,type:xe,transition:ue,children:Me,shapeFlag:ye}=C;if(ye&6){de(C.component.subTree,I,j,ee);return}if(ye&128){C.suspense.move(I,j,ee);return}if(ye&64){xe.move(C,I,j,$);return}if(xe===_i){n(G,I,j);for(let D=0;D<Me.length;D++)de(Me[D],I,j,ee);n(C.anchor,I,j);return}if(xe===L2){w(C,I,j);return}if(ee!==2&&ye&1&&ue)if(ee===0)ue.beforeEnter(G),n(G,I,j),mi(()=>ue.enter(G),ne);else{const{leave:D,delayLeave:re,afterLeave:fe}=ue,me=()=>n(G,I,j),Ce=()=>{D(G,()=>{me(),fe&&fe()})};re?re(G,me,Ce):Ce()}else n(G,I,j)},_e=(C,I,j,ee=!1,ne=!1)=>{const{type:G,props:xe,ref:ue,children:Me,dynamicChildren:ye,shapeFlag:F,patchFlag:D,dirs:re}=C;if(ue!=null&&od(ue,null,j,C,!0),F&256){I.ctx.deactivate(C);return}const fe=F&1&&re,me=!P2(C);let Ce;if(me&&(Ce=xe&&xe.onVnodeBeforeUnmount)&&Dr(Ce,I,C),F&6)se(C.component,j,ee);else{if(F&128){C.suspense.unmount(j,ee);return}fe&&Io(C,null,I,"beforeUnmount"),F&64?C.type.remove(C,I,j,ne,$,ee):ye&&(G!==_i||D>0&&D&64)?ie(ye,I,j,!1,!0):(G===_i&&D&384||!ne&&F&16)&&ie(Me,I,j),ee&&pe(C)}(me&&(Ce=xe&&xe.onVnodeUnmounted)||fe)&&mi(()=>{Ce&&Dr(Ce,I,C),fe&&Io(C,null,I,"unmounted")},j)},pe=C=>{const{type:I,el:j,anchor:ee,transition:ne}=C;if(I===_i){Ee(j,ee);return}if(I===L2){S(C);return}const G=()=>{i(j),ne&&!ne.persisted&&ne.afterLeave&&ne.afterLeave()};if(C.shapeFlag&1&&ne&&!ne.persisted){const{leave:xe,delayLeave:ue}=ne,Me=()=>xe(j,G);ue?ue(C.el,G,Me):Me()}else G()},Ee=(C,I)=>{let j;for(;C!==I;)j=f(C),i(C),C=j;i(I)},se=(C,I,j)=>{const{bum:ee,scope:ne,update:G,subTree:xe,um:ue}=C;ee&&D3(ee),ne.stop(),G&&(G.active=!1,_e(xe,C,I,j)),ue&&mi(ue,I),mi(()=>{C.isUnmounted=!0},I),I&&I.pendingBranch&&!I.isUnmounted&&C.asyncDep&&!C.asyncResolved&&C.suspenseId===I.pendingId&&(I.deps--,I.deps===0&&I.resolve())},ie=(C,I,j,ee=!1,ne=!1,G=0)=>{for(let xe=G;xe<C.length;xe++)_e(C[xe],I,j,ee,ne)},J=C=>C.shapeFlag&6?J(C.component.subTree):C.shapeFlag&128?C.suspense.next():f(C.anchor||C.el),z=(C,I,j)=>{C==null?I._vnode&&_e(I._vnode,null,null,!0):v(I._vnode||null,C,I,null,null,null,j),tp(),o7(),I._vnode=C},$={p:v,um:_e,m:de,r:pe,mt:B,mc:E,pc:Y,pbc:k,n:J,o:r};let oe,ve;return e&&([oe,ve]=e($)),{render:z,hydrate:oe,createApp:Vw(z,oe)}}function Do({effect:r,update:e},t){r.allowRecurse=e.allowRecurse=t}function T7(r,e,t=!1){const n=r.children,i=e.children;if(ct(n)&&ct(i))for(let s=0;s<n.length;s++){const o=n[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=Zs(i[s]),a.el=o.el),t||T7(o,a)),a.type===Vu&&(a.el=o.el)}}function Ww(r){const e=r.slice(),t=[0];let n,i,s,o,a;const l=r.length;for(n=0;n<l;n++){const c=r[n];if(c!==0){if(i=t[t.length-1],r[i]<c){e[n]=i,t.push(n);continue}for(s=0,o=t.length-1;s<o;)a=s+o>>1,r[t[a]]<c?s=a+1:o=a;c<r[t[s]]&&(s>0&&(e[n]=t[s-1]),t[s]=n)}}for(s=t.length,o=t[s-1];s-- >0;)t[s]=o,o=e[o];return t}const jw=r=>r.__isTeleport,_i=Symbol(void 0),Vu=Symbol(void 0),Ar=Symbol(void 0),L2=Symbol(void 0),dc=[];let Er=null;function vn(r=!1){dc.push(Er=r?null:[])}function qw(){dc.pop(),Er=dc[dc.length-1]||null}let Oc=1;function hp(r){Oc+=r}function C7(r){return r.dynamicChildren=Oc>0?Er||S1:null,qw(),Oc>0&&Er&&Er.push(r),r}function Wn(r,e,t,n,i,s){return C7(tt(r,e,t,n,i,s,!0))}function Df(r,e,t,n,i){return C7(cn(r,e,t,n,i,!0))}function ad(r){return r?r.__v_isVNode===!0:!1}function Xo(r,e){return r.type===e.type&&r.key===e.key}const Hu="__vInternal",A7=({key:r})=>r!=null?r:null,R2=({ref:r,ref_key:e,ref_for:t})=>r!=null?En(r)||Zn(r)||ht(r)?{i:tr,r,k:e,f:!!t}:r:null;function tt(r,e=null,t=null,n=0,i=null,s=r===_i?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:r,props:e,key:e&&A7(e),ref:e&&R2(e),scopeId:zu,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:tr};return a?(kf(l,t),s&128&&r.normalize(l)):t&&(l.shapeFlag|=En(t)?8:16),Oc>0&&!o&&Er&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Er.push(l),l}const cn=Xw;function Xw(r,e=null,t=null,n=0,i=null,s=!1){if((!r||r===Cw)&&(r=Ar),ad(r)){const a=go(r,e,!0);return t&&kf(a,t),Oc>0&&!s&&Er&&(a.shapeFlag&6?Er[Er.indexOf(r)]=a:Er.push(a)),a.patchFlag|=-2,a}if(oS(r)&&(r=r.__vccOpts),e){e=$w(e);let{class:a,style:l}=e;a&&!En(a)&&(e.class=al(a)),Kt(l)&&(K8(l)&&!ct(l)&&(l=ei({},l)),e.style=Lc(l))}const o=En(r)?1:hw(r)?128:jw(r)?64:Kt(r)?4:ht(r)?2:0;return tt(r,e,t,n,i,o,s,!0)}function $w(r){return r?K8(r)||Hu in r?ei({},r):r:null}function go(r,e,t=!1){const{props:n,ref:i,patchFlag:s,children:o}=r,a=e?Yw(n||{},e):n;return{__v_isVNode:!0,__v_skip:!0,type:r.type,props:a,key:a&&A7(a),ref:e&&e.ref?t&&i?ct(i)?i.concat(R2(e)):[i,R2(e)]:R2(e):i,scopeId:r.scopeId,slotScopeIds:r.slotScopeIds,children:o,target:r.target,targetAnchor:r.targetAnchor,staticCount:r.staticCount,shapeFlag:r.shapeFlag,patchFlag:e&&r.type!==_i?s===-1?16:s|16:s,dynamicProps:r.dynamicProps,dynamicChildren:r.dynamicChildren,appContext:r.appContext,dirs:r.dirs,transition:r.transition,component:r.component,suspense:r.suspense,ssContent:r.ssContent&&go(r.ssContent),ssFallback:r.ssFallback&&go(r.ssFallback),el:r.el,anchor:r.anchor,ctx:r.ctx}}function P7(r=" ",e=0){return cn(Vu,null,r,e)}function Kw(r,e){const t=cn(L2,null,r);return t.staticCount=e,t}function L7(r="",e=!1){return e?(vn(),Df(Ar,null,r)):cn(Ar,null,r)}function Nr(r){return r==null||typeof r=="boolean"?cn(Ar):ct(r)?cn(_i,null,r.slice()):typeof r=="object"?Zs(r):cn(Vu,null,String(r))}function Zs(r){return r.el===null&&r.patchFlag!==-1||r.memo?r:go(r)}function kf(r,e){let t=0;const{shapeFlag:n}=r;if(e==null)e=null;else if(ct(e))t=16;else if(typeof e=="object")if(n&65){const i=e.default;i&&(i._c&&(i._d=!1),kf(r,i()),i._c&&(i._d=!0));return}else{t=32;const i=e._;!i&&!(Hu in e)?e._ctx=tr:i===3&&tr&&(tr.slots._===1?e._=1:(e._=2,r.patchFlag|=1024))}else ht(e)?(e={default:e,_ctx:tr},t=32):(e=String(e),n&64?(t=16,e=[P7(e)]):t=8);r.children=e,r.shapeFlag|=t}function Yw(...r){const e={};for(let t=0;t<r.length;t++){const n=r[t];for(const i in n)if(i==="class")e.class!==n.class&&(e.class=al([e.class,n.class]));else if(i==="style")e.style=Lc([e.style,n.style]);else if(Ru(i)){const s=e[i],o=n[i];o&&s!==o&&!(ct(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=n[i])}return e}function Dr(r,e,t,n=null){sr(r,e,7,[t,n])}const Zw=E7();let Qw=0;function Jw(r,e,t){const n=r.type,i=(e?e.appContext:r.appContext)||Zw,s={uid:Qw++,vnode:r,type:n,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new wy(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:y7(n,i),emitsOptions:l7(n,i),emit:null,emitted:null,propsDefaults:qt,inheritAttrs:n.inheritAttrs,ctx:qt,data:qt,props:qt,attrs:qt,slots:qt,refs:qt,setupState:qt,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=ow.bind(null,s),r.ce&&r.ce(s),s}let In=null;const eS=()=>In||tr,F1=r=>{In=r,r.scope.on()},ia=()=>{In&&In.scope.off(),In=null};function R7(r){return r.vnode.shapeFlag&4}let Fc=!1;function tS(r,e=!1){Fc=e;const{props:t,children:n}=r.vnode,i=R7(r);Ow(r,t,i,e),zw(r,n);const s=i?nS(r,e):void 0;return Fc=!1,s}function nS(r,e){const t=r.type;r.accessCache=Object.create(null),r.proxy=Y8(new Proxy(r.ctx,Pw));const{setup:n}=t;if(n){const i=r.setupContext=n.length>1?rS(r):null;F1(r),cl();const s=ao(n,r,0,[r.props,i]);if(ul(),ia(),k8(s)){if(s.then(ia,ia),e)return s.then(o=>{dp(r,o,e)}).catch(o=>{Fu(o,r,0)});r.asyncDep=s}else dp(r,s,e)}else I7(r,e)}function dp(r,e,t){ht(e)?r.type.__ssrInlineRender?r.ssrRender=e:r.render=e:Kt(e)&&(r.setupState=t7(e)),I7(r,t)}let fp;function I7(r,e,t){const n=r.type;if(!r.render){if(!e&&fp&&!n.render){const i=n.template||Rf(r).template;if(i){const{isCustomElement:s,compilerOptions:o}=r.appContext.config,{delimiters:a,compilerOptions:l}=n,c=ei(ei({isCustomElement:s,delimiters:a},o),l);n.render=fp(i,c)}}r.render=n.render||Cr}F1(r),cl(),Lw(r),ul(),ia()}function iS(r){return new Proxy(r.attrs,{get(e,t){return Vi(r,"get","$attrs"),e[t]}})}function rS(r){const e=n=>{r.exposed=n||{}};let t;return{get attrs(){return t||(t=iS(r))},slots:r.slots,emit:r.emit,expose:e}}function Of(r){if(r.exposed)return r.exposeProxy||(r.exposeProxy=new Proxy(t7(Y8(r.exposed)),{get(e,t){if(t in e)return e[t];if(t in hc)return hc[t](r)},has(e,t){return t in e||t in hc}}))}function sS(r,e=!0){return ht(r)?r.displayName||r.name:r.name||e&&r.__name}function oS(r){return ht(r)&&"__vccOpts"in r}const Di=(r,e)=>ew(r,e,Fc);function D7(r,e,t){const n=arguments.length;return n===2?Kt(e)&&!ct(e)?ad(e)?cn(r,null,[e]):cn(r,e):cn(r,null,e):(n>3?t=Array.prototype.slice.call(arguments,2):n===3&&ad(t)&&(t=[t]),cn(r,e,t))}const aS=Symbol(""),lS=()=>ws(aS),cS="3.2.45",uS="http://www.w3.org/2000/svg",$o=typeof document<"u"?document:null,pp=$o&&$o.createElement("template"),hS={insert:(r,e,t)=>{e.insertBefore(r,t||null)},remove:r=>{const e=r.parentNode;e&&e.removeChild(r)},createElement:(r,e,t,n)=>{const i=e?$o.createElementNS(uS,r):$o.createElement(r,t?{is:t}:void 0);return r==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:r=>$o.createTextNode(r),createComment:r=>$o.createComment(r),setText:(r,e)=>{r.nodeValue=e},setElementText:(r,e)=>{r.textContent=e},parentNode:r=>r.parentNode,nextSibling:r=>r.nextSibling,querySelector:r=>$o.querySelector(r),setScopeId(r,e){r.setAttribute(e,"")},insertStaticContent(r,e,t,n,i,s){const o=t?t.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),t),!(i===s||!(i=i.nextSibling)););else{pp.innerHTML=n?`<svg>${r}</svg>`:r;const a=pp.content;if(n){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,t)}return[o?o.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}};function dS(r,e,t){const n=r._vtc;n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?r.removeAttribute("class"):t?r.setAttribute("class",e):r.className=e}function fS(r,e,t){const n=r.style,i=En(t);if(t&&!i){for(const s in t)ld(n,s,t[s]);if(e&&!En(e))for(const s in e)t[s]==null&&ld(n,s,"")}else{const s=n.display;i?e!==t&&(n.cssText=t):e&&r.removeAttribute("style"),"_vod"in r&&(n.display=s)}}const mp=/\s*!important$/;function ld(r,e,t){if(ct(t))t.forEach(n=>ld(r,e,n));else if(t==null&&(t=""),e.startsWith("--"))r.setProperty(e,t);else{const n=pS(r,e);mp.test(t)?r.setProperty(ll(n),t.replace(mp,""),"important"):r[n]=t}}const gp=["Webkit","Moz","ms"],N3={};function pS(r,e){const t=N3[e];if(t)return t;let n=$r(e);if(n!=="filter"&&n in r)return N3[e]=n;n=ku(n);for(let i=0;i<gp.length;i++){const s=gp[i]+n;if(s in r)return N3[e]=s}return e}const _p="http://www.w3.org/1999/xlink";function mS(r,e,t,n,i){if(n&&e.startsWith("xlink:"))t==null?r.removeAttributeNS(_p,e.slice(6,e.length)):r.setAttributeNS(_p,e,t);else{const s=py(e);t==null||s&&!R8(t)?r.removeAttribute(e):r.setAttribute(e,s?"":t)}}function gS(r,e,t,n,i,s,o){if(e==="innerHTML"||e==="textContent"){n&&o(n,i,s),r[e]=t==null?"":t;return}if(e==="value"&&r.tagName!=="PROGRESS"&&!r.tagName.includes("-")){r._value=t;const l=t==null?"":t;(r.value!==l||r.tagName==="OPTION")&&(r.value=l),t==null&&r.removeAttribute(e);return}let a=!1;if(t===""||t==null){const l=typeof r[e];l==="boolean"?t=R8(t):t==null&&l==="string"?(t="",a=!0):l==="number"&&(t=0,a=!0)}try{r[e]=t}catch{}a&&r.removeAttribute(e)}function _S(r,e,t,n){r.addEventListener(e,t,n)}function vS(r,e,t,n){r.removeEventListener(e,t,n)}function xS(r,e,t,n,i=null){const s=r._vei||(r._vei={}),o=s[e];if(n&&o)o.value=n;else{const[a,l]=bS(e);if(n){const c=s[e]=SS(n,i);_S(r,a,c,l)}else o&&(vS(r,a,o,l),s[e]=void 0)}}const vp=/(?:Once|Passive|Capture)$/;function bS(r){let e;if(vp.test(r)){e={};let n;for(;n=r.match(vp);)r=r.slice(0,r.length-n[0].length),e[n[0].toLowerCase()]=!0}return[r[2]===":"?r.slice(3):ll(r.slice(2)),e]}let z3=0;const yS=Promise.resolve(),wS=()=>z3||(yS.then(()=>z3=0),z3=Date.now());function SS(r,e){const t=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=t.attached)return;sr(MS(n,t.value),e,5,[n])};return t.value=r,t.attached=wS(),t}function MS(r,e){if(ct(e)){const t=r.stopImmediatePropagation;return r.stopImmediatePropagation=()=>{t.call(r),r._stopped=!0},e.map(n=>i=>!i._stopped&&n&&n(i))}else return e}const xp=/^on[a-z]/,ES=(r,e,t,n,i=!1,s,o,a,l)=>{e==="class"?dS(r,n,i):e==="style"?fS(r,t,n):Ru(e)?gf(e)||xS(r,e,t,n,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):TS(r,e,n,i))?gS(r,e,n,s,o,a,l):(e==="true-value"?r._trueValue=n:e==="false-value"&&(r._falseValue=n),mS(r,e,n,i))};function TS(r,e,t,n){return n?!!(e==="innerHTML"||e==="textContent"||e in r&&xp.test(e)&&ht(t)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&r.tagName==="INPUT"||e==="type"&&r.tagName==="TEXTAREA"||xp.test(e)&&En(t)?!1:e in r}const CS={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};gw.props;const AS=ei({patchProp:ES},hS);let bp;function PS(){return bp||(bp=Hw(AS))}const LS=(...r)=>{const e=PS().createApp(...r),{mount:t}=e;return e.mount=n=>{const i=RS(n);if(!i)return;const s=e._component;!ht(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const o=t(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function RS(r){return En(r)?document.querySelector(r):r}const Jr=(r,e)=>{const t=r.__vccOpts||r;for(const[n,i]of e)t[n]=i;return t},IS={};function DS(r,e){const t=v7("router-view");return vn(),Df(t)}const kS=Jr(IS,[["render",DS]]),OS="modulepreload",FS=function(r){return"/"+r},yp={},ko=function(e,t,n){if(!t||t.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(t.map(s=>{if(s=FS(s),s in yp)return;yp[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!n)for(let h=i.length-1;h>=0;h--){const d=i[h];if(d.href===s&&(!o||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":OS,o||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),o)return new Promise((h,d)=>{c.addEventListener("load",h),c.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e())};/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const l1=typeof window<"u";function NS(r){return r.__esModule||r[Symbol.toStringTag]==="Module"}const Ot=Object.assign;function B3(r,e){const t={};for(const n in e){const i=e[n];t[n]=Lr(i)?i.map(r):r(i)}return t}const fc=()=>{},Lr=Array.isArray,zS=/\/$/,BS=r=>r.replace(zS,"");function U3(r,e,t="/"){let n,i={},s="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(n=e.slice(0,l),s=e.slice(l+1,a>-1?a:e.length),i=r(s)),a>-1&&(n=n||e.slice(0,a),o=e.slice(a,e.length)),n=GS(n!=null?n:e,t),{fullPath:n+(s&&"?")+s+o,path:n,query:i,hash:o}}function US(r,e){const t=e.query?r(e.query):"";return e.path+(t&&"?")+t+(e.hash||"")}function wp(r,e){return!e||!r.toLowerCase().startsWith(e.toLowerCase())?r:r.slice(e.length)||"/"}function VS(r,e,t){const n=e.matched.length-1,i=t.matched.length-1;return n>-1&&n===i&&N1(e.matched[n],t.matched[i])&&k7(e.params,t.params)&&r(e.query)===r(t.query)&&e.hash===t.hash}function N1(r,e){return(r.aliasOf||r)===(e.aliasOf||e)}function k7(r,e){if(Object.keys(r).length!==Object.keys(e).length)return!1;for(const t in r)if(!HS(r[t],e[t]))return!1;return!0}function HS(r,e){return Lr(r)?Sp(r,e):Lr(e)?Sp(e,r):r===e}function Sp(r,e){return Lr(e)?r.length===e.length&&r.every((t,n)=>t===e[n]):r.length===1&&r[0]===e}function GS(r,e){if(r.startsWith("/"))return r;if(!r)return e;const t=e.split("/"),n=r.split("/");let i=t.length-1,s,o;for(s=0;s<n.length;s++)if(o=n[s],o!==".")if(o==="..")i>1&&i--;else break;return t.slice(0,i).join("/")+"/"+n.slice(s-(s===n.length?1:0)).join("/")}var Nc;(function(r){r.pop="pop",r.push="push"})(Nc||(Nc={}));var pc;(function(r){r.back="back",r.forward="forward",r.unknown=""})(pc||(pc={}));function WS(r){if(!r)if(l1){const e=document.querySelector("base");r=e&&e.getAttribute("href")||"/",r=r.replace(/^\w+:\/\/[^\/]+/,"")}else r="/";return r[0]!=="/"&&r[0]!=="#"&&(r="/"+r),BS(r)}const jS=/^[^#]+#/;function qS(r,e){return r.replace(jS,"#")+e}function XS(r,e){const t=document.documentElement.getBoundingClientRect(),n=r.getBoundingClientRect();return{behavior:e.behavior,left:n.left-t.left-(e.left||0),top:n.top-t.top-(e.top||0)}}const Gu=()=>({left:window.pageXOffset,top:window.pageYOffset});function $S(r){let e;if("el"in r){const t=r.el,n=typeof t=="string"&&t.startsWith("#"),i=typeof t=="string"?n?document.getElementById(t.slice(1)):document.querySelector(t):t;if(!i)return;e=XS(i,r)}else e=r;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function Mp(r,e){return(history.state?history.state.position-e:-1)+r}const cd=new Map;function KS(r,e){cd.set(r,e)}function YS(r){const e=cd.get(r);return cd.delete(r),e}let ZS=()=>location.protocol+"//"+location.host;function O7(r,e){const{pathname:t,search:n,hash:i}=e,s=r.indexOf("#");if(s>-1){let a=i.includes(r.slice(s))?r.slice(s).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),wp(l,"")}return wp(t,r)+n+i}function QS(r,e,t,n){let i=[],s=[],o=null;const a=({state:f})=>{const m=O7(r,location),_=t.value,v=e.value;let x=0;if(f){if(t.value=m,e.value=f,o&&o===_){o=null;return}x=v?f.position-v.position:0}else n(m);i.forEach(y=>{y(t.value,_,{delta:x,type:Nc.pop,direction:x?x>0?pc.forward:pc.back:pc.unknown})})};function l(){o=t.value}function c(f){i.push(f);const m=()=>{const _=i.indexOf(f);_>-1&&i.splice(_,1)};return s.push(m),m}function h(){const{history:f}=window;!f.state||f.replaceState(Ot({},f.state,{scroll:Gu()}),"")}function d(){for(const f of s)f();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",h),{pauseListeners:l,listen:c,destroy:d}}function Ep(r,e,t,n=!1,i=!1){return{back:r,current:e,forward:t,replaced:n,position:window.history.length,scroll:i?Gu():null}}function JS(r){const{history:e,location:t}=window,n={value:O7(r,t)},i={value:e.state};i.value||s(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,c,h){const d=r.indexOf("#"),f=d>-1?(t.host&&document.querySelector("base")?r:r.slice(d))+l:ZS()+r+l;try{e[h?"replaceState":"pushState"](c,"",f),i.value=c}catch(m){console.error(m),t[h?"replace":"assign"](f)}}function o(l,c){const h=Ot({},e.state,Ep(i.value.back,l,i.value.forward,!0),c,{position:i.value.position});s(l,h,!0),n.value=l}function a(l,c){const h=Ot({},i.value,e.state,{forward:l,scroll:Gu()});s(h.current,h,!0);const d=Ot({},Ep(n.value,l,null),{position:h.position+1},c);s(l,d,!1),n.value=l}return{location:n,state:i,push:a,replace:o}}function eM(r){r=WS(r);const e=JS(r),t=QS(r,e.state,e.location,e.replace);function n(s,o=!0){o||t.pauseListeners(),history.go(s)}const i=Ot({location:"",base:r,go:n,createHref:qS.bind(null,r)},e,t);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function tM(r){return r=location.host?r||location.pathname+location.search:"",r.includes("#")||(r+="#"),eM(r)}function nM(r){return typeof r=="string"||r&&typeof r=="object"}function F7(r){return typeof r=="string"||typeof r=="symbol"}const Bs={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},N7=Symbol("");var Tp;(function(r){r[r.aborted=4]="aborted",r[r.cancelled=8]="cancelled",r[r.duplicated=16]="duplicated"})(Tp||(Tp={}));function z1(r,e){return Ot(new Error,{type:r,[N7]:!0},e)}function ss(r,e){return r instanceof Error&&N7 in r&&(e==null||!!(r.type&e))}const Cp="[^/]+?",iM={sensitive:!1,strict:!1,start:!0,end:!0},rM=/[.+*?^${}()[\]/\\]/g;function sM(r,e){const t=Ot({},iM,e),n=[];let i=t.start?"^":"";const s=[];for(const c of r){const h=c.length?[]:[90];t.strict&&!c.length&&(i+="/");for(let d=0;d<c.length;d++){const f=c[d];let m=40+(t.sensitive?.25:0);if(f.type===0)d||(i+="/"),i+=f.value.replace(rM,"\\$&"),m+=40;else if(f.type===1){const{value:_,repeatable:v,optional:x,regexp:y}=f;s.push({name:_,repeatable:v,optional:x});const M=y||Cp;if(M!==Cp){m+=10;try{new RegExp(`(${M})`)}catch(S){throw new Error(`Invalid custom RegExp for param "${_}" (${M}): `+S.message)}}let w=v?`((?:${M})(?:/(?:${M}))*)`:`(${M})`;d||(w=x&&c.length<2?`(?:/${w})`:"/"+w),x&&(w+="?"),i+=w,m+=20,x&&(m+=-8),v&&(m+=-20),M===".*"&&(m+=-50)}h.push(m)}n.push(h)}if(t.strict&&t.end){const c=n.length-1;n[c][n[c].length-1]+=.7000000000000001}t.strict||(i+="/?"),t.end?i+="$":t.strict&&(i+="(?:/|$)");const o=new RegExp(i,t.sensitive?"":"i");function a(c){const h=c.match(o),d={};if(!h)return null;for(let f=1;f<h.length;f++){const m=h[f]||"",_=s[f-1];d[_.name]=m&&_.repeatable?m.split("/"):m}return d}function l(c){let h="",d=!1;for(const f of r){(!d||!h.endsWith("/"))&&(h+="/"),d=!1;for(const m of f)if(m.type===0)h+=m.value;else if(m.type===1){const{value:_,repeatable:v,optional:x}=m,y=_ in c?c[_]:"";if(Lr(y)&&!v)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const M=Lr(y)?y.join("/"):y;if(!M)if(x)f.length<2&&(h.endsWith("/")?h=h.slice(0,-1):d=!0);else throw new Error(`Missing required param "${_}"`);h+=M}}return h||"/"}return{re:o,score:n,keys:s,parse:a,stringify:l}}function oM(r,e){let t=0;for(;t<r.length&&t<e.length;){const n=e[t]-r[t];if(n)return n;t++}return r.length<e.length?r.length===1&&r[0]===40+40?-1:1:r.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function aM(r,e){let t=0;const n=r.score,i=e.score;for(;t<n.length&&t<i.length;){const s=oM(n[t],i[t]);if(s)return s;t++}if(Math.abs(i.length-n.length)===1){if(Ap(n))return 1;if(Ap(i))return-1}return i.length-n.length}function Ap(r){const e=r[r.length-1];return r.length>0&&e[e.length-1]<0}const lM={type:0,value:""},cM=/[a-zA-Z0-9_]/;function uM(r){if(!r)return[[]];if(r==="/")return[[lM]];if(!r.startsWith("/"))throw new Error(`Invalid path "${r}"`);function e(m){throw new Error(`ERR (${t})/"${c}": ${m}`)}let t=0,n=t;const i=[];let s;function o(){s&&i.push(s),s=[]}let a=0,l,c="",h="";function d(){!c||(t===0?s.push({type:0,value:c}):t===1||t===2||t===3?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:c,regexp:h,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<r.length;){if(l=r[a++],l==="\\"&&t!==2){n=t,t=4;continue}switch(t){case 0:l==="/"?(c&&d(),o()):l===":"?(d(),t=1):f();break;case 4:f(),t=n;break;case 1:l==="("?t=2:cM.test(l)?f():(d(),t=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+l:t=3:h+=l;break;case 3:d(),t=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,h="";break;default:e("Unknown state");break}}return t===2&&e(`Unfinished custom RegExp for param "${c}"`),d(),o(),i}function hM(r,e,t){const n=sM(uM(r.path),t),i=Ot(n,{record:r,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function dM(r,e){const t=[],n=new Map;e=Rp({strict:!1,end:!0,sensitive:!1},e);function i(h){return n.get(h)}function s(h,d,f){const m=!f,_=fM(h);_.aliasOf=f&&f.record;const v=Rp(e,h),x=[_];if("alias"in h){const w=typeof h.alias=="string"?[h.alias]:h.alias;for(const S of w)x.push(Ot({},_,{components:f?f.record.components:_.components,path:S,aliasOf:f?f.record:_}))}let y,M;for(const w of x){const{path:S}=w;if(d&&S[0]!=="/"){const T=d.record.path,A=T[T.length-1]==="/"?"":"/";w.path=d.record.path+(S&&A+S)}if(y=hM(w,d,v),f?f.alias.push(y):(M=M||y,M!==y&&M.alias.push(y),m&&h.name&&!Lp(y)&&o(h.name)),_.children){const T=_.children;for(let A=0;A<T.length;A++)s(T[A],y,f&&f.children[A])}f=f||y,(y.record.components&&Object.keys(y.record.components).length||y.record.name||y.record.redirect)&&l(y)}return M?()=>{o(M)}:fc}function o(h){if(F7(h)){const d=n.get(h);d&&(n.delete(h),t.splice(t.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=t.indexOf(h);d>-1&&(t.splice(d,1),h.record.name&&n.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return t}function l(h){let d=0;for(;d<t.length&&aM(h,t[d])>=0&&(h.record.path!==t[d].record.path||!z7(h,t[d]));)d++;t.splice(d,0,h),h.record.name&&!Lp(h)&&n.set(h.record.name,h)}function c(h,d){let f,m={},_,v;if("name"in h&&h.name){if(f=n.get(h.name),!f)throw z1(1,{location:h});v=f.record.name,m=Ot(Pp(d.params,f.keys.filter(M=>!M.optional).map(M=>M.name)),h.params&&Pp(h.params,f.keys.map(M=>M.name))),_=f.stringify(m)}else if("path"in h)_=h.path,f=t.find(M=>M.re.test(_)),f&&(m=f.parse(_),v=f.record.name);else{if(f=d.name?n.get(d.name):t.find(M=>M.re.test(d.path)),!f)throw z1(1,{location:h,currentLocation:d});v=f.record.name,m=Ot({},d.params,h.params),_=f.stringify(m)}const x=[];let y=f;for(;y;)x.unshift(y.record),y=y.parent;return{name:v,path:_,params:m,matched:x,meta:mM(x)}}return r.forEach(h=>s(h)),{addRoute:s,resolve:c,removeRoute:o,getRoutes:a,getRecordMatcher:i}}function Pp(r,e){const t={};for(const n of e)n in r&&(t[n]=r[n]);return t}function fM(r){return{path:r.path,redirect:r.redirect,name:r.name,meta:r.meta||{},aliasOf:void 0,beforeEnter:r.beforeEnter,props:pM(r),children:r.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in r?r.components||null:r.component&&{default:r.component}}}function pM(r){const e={},t=r.props||!1;if("component"in r)e.default=t;else for(const n in r.components)e[n]=typeof t=="boolean"?t:t[n];return e}function Lp(r){for(;r;){if(r.record.aliasOf)return!0;r=r.parent}return!1}function mM(r){return r.reduce((e,t)=>Ot(e,t.meta),{})}function Rp(r,e){const t={};for(const n in r)t[n]=n in e?e[n]:r[n];return t}function z7(r,e){return e.children.some(t=>t===r||z7(r,t))}const B7=/#/g,gM=/&/g,_M=/\//g,vM=/=/g,xM=/\?/g,U7=/\+/g,bM=/%5B/g,yM=/%5D/g,V7=/%5E/g,wM=/%60/g,H7=/%7B/g,SM=/%7C/g,G7=/%7D/g,MM=/%20/g;function Ff(r){return encodeURI(""+r).replace(SM,"|").replace(bM,"[").replace(yM,"]")}function EM(r){return Ff(r).replace(H7,"{").replace(G7,"}").replace(V7,"^")}function ud(r){return Ff(r).replace(U7,"%2B").replace(MM,"+").replace(B7,"%23").replace(gM,"%26").replace(wM,"`").replace(H7,"{").replace(G7,"}").replace(V7,"^")}function TM(r){return ud(r).replace(vM,"%3D")}function CM(r){return Ff(r).replace(B7,"%23").replace(xM,"%3F")}function AM(r){return r==null?"":CM(r).replace(_M,"%2F")}function eu(r){try{return decodeURIComponent(""+r)}catch{}return""+r}function PM(r){const e={};if(r===""||r==="?")return e;const n=(r[0]==="?"?r.slice(1):r).split("&");for(let i=0;i<n.length;++i){const s=n[i].replace(U7," "),o=s.indexOf("="),a=eu(o<0?s:s.slice(0,o)),l=o<0?null:eu(s.slice(o+1));if(a in e){let c=e[a];Lr(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function Ip(r){let e="";for(let t in r){const n=r[t];if(t=TM(t),n==null){n!==void 0&&(e+=(e.length?"&":"")+t);continue}(Lr(n)?n.map(s=>s&&ud(s)):[n&&ud(n)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+t,s!=null&&(e+="="+s))})}return e}function LM(r){const e={};for(const t in r){const n=r[t];n!==void 0&&(e[t]=Lr(n)?n.map(i=>i==null?null:""+i):n==null?n:""+n)}return e}const RM=Symbol(""),Dp=Symbol(""),Nf=Symbol(""),W7=Symbol(""),hd=Symbol("");function Hl(){let r=[];function e(n){return r.push(n),()=>{const i=r.indexOf(n);i>-1&&r.splice(i,1)}}function t(){r=[]}return{add:e,list:()=>r,reset:t}}function Qs(r,e,t,n,i){const s=n&&(n.enterCallbacks[i]=n.enterCallbacks[i]||[]);return()=>new Promise((o,a)=>{const l=d=>{d===!1?a(z1(4,{from:t,to:e})):d instanceof Error?a(d):nM(d)?a(z1(2,{from:e,to:d})):(s&&n.enterCallbacks[i]===s&&typeof d=="function"&&s.push(d),o())},c=r.call(n&&n.instances[i],e,t,l);let h=Promise.resolve(c);r.length<3&&(h=h.then(l)),h.catch(d=>a(d))})}function V3(r,e,t,n){const i=[];for(const s of r)for(const o in s.components){let a=s.components[o];if(!(e!=="beforeRouteEnter"&&!s.instances[o]))if(IM(a)){const c=(a.__vccOpts||a)[e];c&&i.push(Qs(c,t,n,s,o))}else{let l=a();i.push(()=>l.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${s.path}"`));const h=NS(c)?c.default:c;s.components[o]=h;const f=(h.__vccOpts||h)[e];return f&&Qs(f,t,n,s,o)()}))}}return i}function IM(r){return typeof r=="object"||"displayName"in r||"props"in r||"__vccOpts"in r}function kp(r){const e=ws(Nf),t=ws(W7),n=Di(()=>e.resolve(na(r.to))),i=Di(()=>{const{matched:l}=n.value,{length:c}=l,h=l[c-1],d=t.matched;if(!h||!d.length)return-1;const f=d.findIndex(N1.bind(null,h));if(f>-1)return f;const m=Op(l[c-2]);return c>1&&Op(h)===m&&d[d.length-1].path!==m?d.findIndex(N1.bind(null,l[c-2])):f}),s=Di(()=>i.value>-1&&FM(t.params,n.value.params)),o=Di(()=>i.value>-1&&i.value===t.matched.length-1&&k7(t.params,n.value.params));function a(l={}){return OM(l)?e[na(r.replace)?"replace":"push"](na(r.to)).catch(fc):Promise.resolve()}return{route:n,href:Di(()=>n.value.href),isActive:s,isExactActive:o,navigate:a}}const DM=Pf({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:kp,setup(r,{slots:e}){const t=wo(kp(r)),{options:n}=ws(Nf),i=Di(()=>({[Fp(r.activeClass,n.linkActiveClass,"router-link-active")]:t.isActive,[Fp(r.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:t.isExactActive}));return()=>{const s=e.default&&e.default(t);return r.custom?s:D7("a",{"aria-current":t.isExactActive?r.ariaCurrentValue:null,href:t.href,onClick:t.navigate,class:i.value},s)}}}),kM=DM;function OM(r){if(!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)&&!r.defaultPrevented&&!(r.button!==void 0&&r.button!==0)){if(r.currentTarget&&r.currentTarget.getAttribute){const e=r.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return r.preventDefault&&r.preventDefault(),!0}}function FM(r,e){for(const t in e){const n=e[t],i=r[t];if(typeof n=="string"){if(n!==i)return!1}else if(!Lr(i)||i.length!==n.length||n.some((s,o)=>s!==i[o]))return!1}return!0}function Op(r){return r?r.aliasOf?r.aliasOf.path:r.path:""}const Fp=(r,e,t)=>r!=null?r:e!=null?e:t,NM=Pf({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(r,{attrs:e,slots:t}){const n=ws(hd),i=Di(()=>r.route||n.value),s=ws(Dp,0),o=Di(()=>{let c=na(s);const{matched:h}=i.value;let d;for(;(d=h[c])&&!d.components;)c++;return c}),a=Di(()=>i.value.matched[o.value]);C2(Dp,Di(()=>o.value+1)),C2(RM,a),C2(hd,i);const l=J8();return A2(()=>[l.value,a.value,r.name],([c,h,d],[f,m,_])=>{h&&(h.instances[d]=c,m&&m!==h&&c&&c===f&&(h.leaveGuards.size||(h.leaveGuards=m.leaveGuards),h.updateGuards.size||(h.updateGuards=m.updateGuards))),c&&h&&(!m||!N1(h,m)||!f)&&(h.enterCallbacks[d]||[]).forEach(v=>v(c))},{flush:"post"}),()=>{const c=i.value,h=r.name,d=a.value,f=d&&d.components[h];if(!f)return Np(t.default,{Component:f,route:c});const m=d.props[h],_=m?m===!0?c.params:typeof m=="function"?m(c):m:null,x=D7(f,Ot({},_,e,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(d.instances[h]=null)},ref:l}));return Np(t.default,{Component:x,route:c})||x}}});function Np(r,e){if(!r)return null;const t=r(e);return t.length===1?t[0]:t}const zM=NM;function BM(r){const e=dM(r.routes,r),t=r.parseQuery||PM,n=r.stringifyQuery||Ip,i=r.history,s=Hl(),o=Hl(),a=Hl(),l=Yy(Bs);let c=Bs;l1&&r.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=B3.bind(null,se=>""+se),d=B3.bind(null,AM),f=B3.bind(null,eu);function m(se,ie){let J,z;return F7(se)?(J=e.getRecordMatcher(se),z=ie):z=se,e.addRoute(z,J)}function _(se){const ie=e.getRecordMatcher(se);ie&&e.removeRoute(ie)}function v(){return e.getRoutes().map(se=>se.record)}function x(se){return!!e.getRecordMatcher(se)}function y(se,ie){if(ie=Ot({},ie||l.value),typeof se=="string"){const C=U3(t,se,ie.path),I=e.resolve({path:C.path},ie),j=i.createHref(C.fullPath);return Ot(C,I,{params:f(I.params),hash:eu(C.hash),redirectedFrom:void 0,href:j})}let J;if("path"in se)J=Ot({},se,{path:U3(t,se.path,ie.path).path});else{const C=Ot({},se.params);for(const I in C)C[I]==null&&delete C[I];J=Ot({},se,{params:d(se.params)}),ie.params=d(ie.params)}const z=e.resolve(J,ie),$=se.hash||"";z.params=h(f(z.params));const oe=US(n,Ot({},se,{hash:EM($),path:z.path})),ve=i.createHref(oe);return Ot({fullPath:oe,hash:$,query:n===Ip?LM(se.query):se.query||{}},z,{redirectedFrom:void 0,href:ve})}function M(se){return typeof se=="string"?U3(t,se,l.value.path):Ot({},se)}function w(se,ie){if(c!==se)return z1(8,{from:ie,to:se})}function S(se){return R(se)}function T(se){return S(Ot(M(se),{replace:!0}))}function A(se){const ie=se.matched[se.matched.length-1];if(ie&&ie.redirect){const{redirect:J}=ie;let z=typeof J=="function"?J(se):J;return typeof z=="string"&&(z=z.includes("?")||z.includes("#")?z=M(z):{path:z},z.params={}),Ot({query:se.query,hash:se.hash,params:"path"in z?{}:se.params},z)}}function R(se,ie){const J=c=y(se),z=l.value,$=se.state,oe=se.force,ve=se.replace===!0,C=A(J);if(C)return R(Ot(M(C),{state:typeof C=="object"?Ot({},$,C.state):$,force:oe,replace:ve}),ie||J);const I=J;I.redirectedFrom=ie;let j;return!oe&&VS(n,z,J)&&(j=z1(16,{to:I,from:z}),O(z,z,!0,!1)),(j?Promise.resolve(j):L(I,z)).catch(ee=>ss(ee)?ss(ee,2)?ee:X(ee):V(ee,I,z)).then(ee=>{if(ee){if(ss(ee,2))return R(Ot({replace:ve},M(ee.to),{state:typeof ee.to=="object"?Ot({},$,ee.to.state):$,force:oe}),ie||I)}else ee=H(I,z,!0,ve,$);return k(I,z,ee),ee})}function E(se,ie){const J=w(se,ie);return J?Promise.reject(J):Promise.resolve()}function L(se,ie){let J;const[z,$,oe]=UM(se,ie);J=V3(z.reverse(),"beforeRouteLeave",se,ie);for(const C of z)C.leaveGuards.forEach(I=>{J.push(Qs(I,se,ie))});const ve=E.bind(null,se,ie);return J.push(ve),Va(J).then(()=>{J=[];for(const C of s.list())J.push(Qs(C,se,ie));return J.push(ve),Va(J)}).then(()=>{J=V3($,"beforeRouteUpdate",se,ie);for(const C of $)C.updateGuards.forEach(I=>{J.push(Qs(I,se,ie))});return J.push(ve),Va(J)}).then(()=>{J=[];for(const C of se.matched)if(C.beforeEnter&&!ie.matched.includes(C))if(Lr(C.beforeEnter))for(const I of C.beforeEnter)J.push(Qs(I,se,ie));else J.push(Qs(C.beforeEnter,se,ie));return J.push(ve),Va(J)}).then(()=>(se.matched.forEach(C=>C.enterCallbacks={}),J=V3(oe,"beforeRouteEnter",se,ie),J.push(ve),Va(J))).then(()=>{J=[];for(const C of o.list())J.push(Qs(C,se,ie));return J.push(ve),Va(J)}).catch(C=>ss(C,8)?C:Promise.reject(C))}function k(se,ie,J){for(const z of a.list())z(se,ie,J)}function H(se,ie,J,z,$){const oe=w(se,ie);if(oe)return oe;const ve=ie===Bs,C=l1?history.state:{};J&&(z||ve?i.replace(se.fullPath,Ot({scroll:ve&&C&&C.scroll},$)):i.push(se.fullPath,$)),l.value=se,O(se,ie,J,ve),X()}let te;function q(){te||(te=i.listen((se,ie,J)=>{if(!Ee.listening)return;const z=y(se),$=A(z);if($){R(Ot($,{replace:!0}),z).catch(fc);return}c=z;const oe=l.value;l1&&KS(Mp(oe.fullPath,J.delta),Gu()),L(z,oe).catch(ve=>ss(ve,12)?ve:ss(ve,2)?(R(ve.to,z).then(C=>{ss(C,20)&&!J.delta&&J.type===Nc.pop&&i.go(-1,!1)}).catch(fc),Promise.reject()):(J.delta&&i.go(-J.delta,!1),V(ve,z,oe))).then(ve=>{ve=ve||H(z,oe,!1),ve&&(J.delta&&!ss(ve,8)?i.go(-J.delta,!1):J.type===Nc.pop&&ss(ve,20)&&i.go(-1,!1)),k(z,oe,ve)}).catch(fc)}))}let B=Hl(),N=Hl(),W;function V(se,ie,J){X(se);const z=N.list();return z.length?z.forEach($=>$(se,ie,J)):console.error(se),Promise.reject(se)}function Y(){return W&&l.value!==Bs?Promise.resolve():new Promise((se,ie)=>{B.add([se,ie])})}function X(se){return W||(W=!se,q(),B.list().forEach(([ie,J])=>se?J(se):ie()),B.reset()),se}function O(se,ie,J,z){const{scrollBehavior:$}=r;if(!l1||!$)return Promise.resolve();const oe=!J&&YS(Mp(se.fullPath,0))||(z||!J)&&history.state&&history.state.scroll||null;return r7().then(()=>$(se,ie,oe)).then(ve=>ve&&$S(ve)).catch(ve=>V(ve,se,ie))}const de=se=>i.go(se);let _e;const pe=new Set,Ee={currentRoute:l,listening:!0,addRoute:m,removeRoute:_,hasRoute:x,getRoutes:v,resolve:y,options:r,push:S,replace:T,go:de,back:()=>de(-1),forward:()=>de(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:N.add,isReady:Y,install(se){const ie=this;se.component("RouterLink",kM),se.component("RouterView",zM),se.config.globalProperties.$router=ie,Object.defineProperty(se.config.globalProperties,"$route",{enumerable:!0,get:()=>na(l)}),l1&&!_e&&l.value===Bs&&(_e=!0,S(i.location).catch($=>{}));const J={};for(const $ in Bs)J[$]=Di(()=>l.value[$]);se.provide(Nf,ie),se.provide(W7,wo(J)),se.provide(hd,l);const z=se.unmount;pe.add(se),se.unmount=function(){pe.delete(se),pe.size<1&&(c=Bs,te&&te(),te=null,l.value=Bs,_e=!1,W=!1),z()}}};return Ee}function Va(r){return r.reduce((e,t)=>e.then(()=>t()),Promise.resolve())}function UM(r,e){const t=[],n=[],i=[],s=Math.max(e.matched.length,r.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(r.matched.find(c=>N1(c,a))?n.push(a):t.push(a));const l=r.matched[o];l&&(e.matched.find(c=>N1(c,l))||i.push(l))}return[t,n,i]}const VM="/images/logo.png";const HM={name:"home",data(){return{workList:[{link:"",img:""},{link:"/house-in-desert",img:"/images/covers/house-in-desert.png"},{link:"",img:""},{link:"/jump",img:"/images/covers/threejs-example-jump.png"},{link:"/mini-city",img:"/images/covers/threejs-example-mini-city.png"},{link:"/china-map",img:"/images/covers/threejs-example-china-map.png"}]}}},GM=r=>(Sa("data-v-f1b12712"),r=r(),Ma(),r),WM={class:"container"},jM=GM(()=>tt("div",{class:"info"},[tt("img",{src:VM,alt:"Three.js Examples",class:"logo"}),tt("a",{href:"https://github.com/luosijie/threejs-examples",target:"_blank",class:"title"},"Three.js Example"),tt("a",{href:"https://luosijie.github.io/",target:"_blank",class:"author"},"Jesse Luo")],-1)),qM={class:"works"},XM=["src"];function $M(r,e,t,n,i,s){const o=v7("router-link");return vn(),Wn("div",WM,[jM,tt("div",qM,[(vn(!0),Wn(_i,null,Lf(i.workList,(a,l)=>(vn(),Wn("div",{key:l},[a.img?(vn(),Df(o,{key:0,to:a.link},{default:c7(()=>[tt("img",{src:a.img},null,8,XM)]),_:2},1032,["to"])):L7("",!0)]))),128))])])}const j7=Jr(HM,[["render",$M],["__scopeId","data-v-f1b12712"]]),KM=Object.freeze(Object.defineProperty({__proto__:null,default:j7},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const zf="146",Ha={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Ga={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},YM=0,zp=1,ZM=2,q7=1,Bf=2,nc=3,da=0,Bi=1,_s=2,lo=0,C1=1,dd=2,Bp=3,Up=4,QM=5,c1=100,JM=101,eE=102,Vp=103,Hp=104,tE=200,nE=201,iE=202,rE=203,X7=204,$7=205,sE=206,oE=207,aE=208,lE=209,cE=210,uE=0,hE=1,dE=2,fd=3,fE=4,pE=5,mE=6,gE=7,Wu=0,_E=1,vE=2,Ss=0,xE=1,bE=2,K7=3,yE=4,wE=5,Y7=300,B1=301,U1=302,tu=303,pd=304,ju=306,Kr=1e3,vi=1001,nu=1002,Mn=1003,md=1004,gd=1005,Vn=1006,Z7=1007,hl=1008,fa=1009,SE=1010,ME=1011,Q7=1012,EE=1013,Zo=1014,Js=1015,zc=1016,TE=1017,CE=1018,A1=1020,AE=1021,PE=1022,ki=1023,LE=1024,RE=1025,ra=1026,V1=1027,IE=1028,DE=1029,kE=1030,OE=1031,FE=1033,H3=33776,G3=33777,W3=33778,j3=33779,Gp=35840,Wp=35841,jp=35842,qp=35843,NE=36196,Xp=37492,$p=37496,Kp=37808,Yp=37809,Zp=37810,Qp=37811,Jp=37812,e9=37813,t9=37814,n9=37815,i9=37816,r9=37817,s9=37818,o9=37819,a9=37820,l9=37821,c9=36492,zE=2200,BE=2201,UE=2202,Bc=2300,H1=2301,q3=2302,m1=2400,g1=2401,iu=2402,Uf=2500,VE=2501,HE=1,J7=2,pa=3e3,pt=3001,GE=3200,WE=3201,c0=0,jE=1,fs="srgb",Qo="srgb-linear",X3=7680,qE=519,_d=35044,u9="300 es",vd=1035;class So{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const n=this._listeners;return n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const n=this._listeners[e.type];if(n!==void 0){e.target=this;const i=n.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const Xn=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let h9=1234567;const mc=Math.PI/180,Uc=180/Math.PI;function or(){const r=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(Xn[r&255]+Xn[r>>8&255]+Xn[r>>16&255]+Xn[r>>24&255]+"-"+Xn[e&255]+Xn[e>>8&255]+"-"+Xn[e>>16&15|64]+Xn[e>>24&255]+"-"+Xn[t&63|128]+Xn[t>>8&255]+"-"+Xn[t>>16&255]+Xn[t>>24&255]+Xn[n&255]+Xn[n>>8&255]+Xn[n>>16&255]+Xn[n>>24&255]).toLowerCase()}function Rn(r,e,t){return Math.max(e,Math.min(t,r))}function Vf(r,e){return(r%e+e)%e}function XE(r,e,t,n,i){return n+(r-e)*(i-n)/(t-e)}function $E(r,e,t){return r!==e?(t-r)/(e-r):0}function gc(r,e,t){return(1-t)*r+t*e}function KE(r,e,t,n){return gc(r,e,1-Math.exp(-t*n))}function YE(r,e=1){return e-Math.abs(Vf(r,e*2)-e)}function ZE(r,e,t){return r<=e?0:r>=t?1:(r=(r-e)/(t-e),r*r*(3-2*r))}function QE(r,e,t){return r<=e?0:r>=t?1:(r=(r-e)/(t-e),r*r*r*(r*(r*6-15)+10))}function JE(r,e){return r+Math.floor(Math.random()*(e-r+1))}function eT(r,e){return r+Math.random()*(e-r)}function tT(r){return r*(.5-Math.random())}function nT(r){r!==void 0&&(h9=r);let e=h9+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function iT(r){return r*mc}function rT(r){return r*Uc}function xd(r){return(r&r-1)===0&&r!==0}function em(r){return Math.pow(2,Math.ceil(Math.log(r)/Math.LN2))}function ru(r){return Math.pow(2,Math.floor(Math.log(r)/Math.LN2))}function sT(r,e,t,n,i){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),c=s((e+n)/2),h=o((e+n)/2),d=s((e-n)/2),f=o((e-n)/2),m=s((n-e)/2),_=o((n-e)/2);switch(i){case"XYX":r.set(a*h,l*d,l*f,a*c);break;case"YZY":r.set(l*f,a*h,l*d,a*c);break;case"ZXZ":r.set(l*d,l*f,a*h,a*c);break;case"XZX":r.set(a*h,l*_,l*m,a*c);break;case"YXY":r.set(l*m,a*h,l*_,a*c);break;case"ZYZ":r.set(l*_,l*m,a*h,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function vs(r,e){switch(e.constructor){case Float32Array:return r;case Uint16Array:return r/65535;case Uint8Array:return r/255;case Int16Array:return Math.max(r/32767,-1);case Int8Array:return Math.max(r/127,-1);default:throw new Error("Invalid component type.")}}function Bt(r,e){switch(e.constructor){case Float32Array:return r;case Uint16Array:return Math.round(r*65535);case Uint8Array:return Math.round(r*255);case Int16Array:return Math.round(r*32767);case Int8Array:return Math.round(r*127);default:throw new Error("Invalid component type.")}}var Mr=Object.freeze({__proto__:null,DEG2RAD:mc,RAD2DEG:Uc,generateUUID:or,clamp:Rn,euclideanModulo:Vf,mapLinear:XE,inverseLerp:$E,lerp:gc,damp:KE,pingpong:YE,smoothstep:ZE,smootherstep:QE,randInt:JE,randFloat:eT,randFloatSpread:tT,seededRandom:nT,degToRad:iT,radToDeg:rT,isPowerOfTwo:xd,ceilPowerOfTwo:em,floorPowerOfTwo:ru,setQuaternionFromProperEuler:sT,normalize:Bt,denormalize:vs});class Ie{constructor(e=0,t=0){Ie.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6],this.y=i[1]*t+i[4]*n+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),i=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*n-o*i+e.x,this.y=s*i+o*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Ni{constructor(){Ni.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,n,i,s,o,a,l,c){const h=this.elements;return h[0]=e,h[1]=i,h[2]=a,h[3]=t,h[4]=s,h[5]=l,h[6]=n,h[7]=o,h[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,i=t.elements,s=this.elements,o=n[0],a=n[3],l=n[6],c=n[1],h=n[4],d=n[7],f=n[2],m=n[5],_=n[8],v=i[0],x=i[3],y=i[6],M=i[1],w=i[4],S=i[7],T=i[2],A=i[5],R=i[8];return s[0]=o*v+a*M+l*T,s[3]=o*x+a*w+l*A,s[6]=o*y+a*S+l*R,s[1]=c*v+h*M+d*T,s[4]=c*x+h*w+d*A,s[7]=c*y+h*S+d*R,s[2]=f*v+m*M+_*T,s[5]=f*x+m*w+_*A,s[8]=f*y+m*S+_*R,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],h=e[8];return t*o*h-t*a*c-n*s*h+n*a*l+i*s*c-i*o*l}invert(){const e=this.elements,t=e[0],n=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],h=e[8],d=h*o-a*c,f=a*l-h*s,m=c*s-o*l,_=t*d+n*f+i*m;if(_===0)return this.set(0,0,0,0,0,0,0,0,0);const v=1/_;return e[0]=d*v,e[1]=(i*c-h*n)*v,e[2]=(a*n-i*o)*v,e[3]=f*v,e[4]=(h*t-i*l)*v,e[5]=(i*s-a*t)*v,e[6]=m*v,e[7]=(n*l-c*t)*v,e[8]=(o*t-n*s)*v,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,i,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(n*l,n*c,-n*(l*o+c*a)+o+e,-i*c,i*l,-i*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this}rotate(e){const t=Math.cos(e),n=Math.sin(e),i=this.elements,s=i[0],o=i[3],a=i[6],l=i[1],c=i[4],h=i[7];return i[0]=t*s+n*l,i[3]=t*o+n*c,i[6]=t*a+n*h,i[1]=-n*s+t*l,i[4]=-n*o+t*c,i[7]=-n*a+t*h,this}translate(e,t){const n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this}equals(e){const t=this.elements,n=e.elements;for(let i=0;i<9;i++)if(t[i]!==n[i])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return new this.constructor().fromArray(this.elements)}}function tm(r){for(let e=r.length-1;e>=0;--e)if(r[e]>=65535)return!0;return!1}function Vc(r){return document.createElementNS("http://www.w3.org/1999/xhtml",r)}function sa(r){return r<.04045?r*.0773993808:Math.pow(r*.9478672986+.0521327014,2.4)}function I2(r){return r<.0031308?r*12.92:1.055*Math.pow(r,.41666)-.055}const $3={[fs]:{[Qo]:sa},[Qo]:{[fs]:I2}},gr={legacyMode:!0,get workingColorSpace(){return Qo},set workingColorSpace(r){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(r,e,t){if(this.legacyMode||e===t||!e||!t)return r;if($3[e]&&$3[e][t]!==void 0){const n=$3[e][t];return r.r=n(r.r),r.g=n(r.g),r.b=n(r.b),r}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(r,e){return this.convert(r,this.workingColorSpace,e)},toWorkingColorSpace:function(r,e){return this.convert(r,e,this.workingColorSpace)}},nm={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},yn={r:0,g:0,b:0},_r={h:0,s:0,l:0},k0={h:0,s:0,l:0};function K3(r,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?r+(e-r)*6*t:t<1/2?e:t<2/3?r+(e-r)*6*(2/3-t):r}function O0(r,e){return e.r=r.r,e.g=r.g,e.b=r.b,e}class je{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&n===void 0?this.set(e):this.setRGB(e,t,n)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=fs){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,gr.toWorkingColorSpace(this,t),this}setRGB(e,t,n,i=Qo){return this.r=e,this.g=t,this.b=n,gr.toWorkingColorSpace(this,i),this}setHSL(e,t,n,i=Qo){if(e=Vf(e,1),t=Rn(t,0,1),n=Rn(n,0,1),t===0)this.r=this.g=this.b=n;else{const s=n<=.5?n*(1+t):n+t-n*t,o=2*n-s;this.r=K3(o,s,e+1/3),this.g=K3(o,s,e),this.b=K3(o,s,e-1/3)}return gr.toWorkingColorSpace(this,i),this}setStyle(e,t=fs){function n(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,gr.toWorkingColorSpace(this,t),n(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,gr.toWorkingColorSpace(this,t),n(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(s[1])/360,c=parseFloat(s[2])/100,h=parseFloat(s[3])/100;return n(s[4]),this.setHSL(l,c,h,t)}break}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,gr.toWorkingColorSpace(this,t),this;if(o===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,gr.toWorkingColorSpace(this,t),this}return e&&e.length>0?this.setColorName(e,t):this}setColorName(e,t=fs){const n=nm[e.toLowerCase()];return n!==void 0?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=sa(e.r),this.g=sa(e.g),this.b=sa(e.b),this}copyLinearToSRGB(e){return this.r=I2(e.r),this.g=I2(e.g),this.b=I2(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=fs){return gr.fromWorkingColorSpace(O0(this,yn),e),Rn(yn.r*255,0,255)<<16^Rn(yn.g*255,0,255)<<8^Rn(yn.b*255,0,255)<<0}getHexString(e=fs){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Qo){gr.fromWorkingColorSpace(O0(this,yn),t);const n=yn.r,i=yn.g,s=yn.b,o=Math.max(n,i,s),a=Math.min(n,i,s);let l,c;const h=(a+o)/2;if(a===o)l=0,c=0;else{const d=o-a;switch(c=h<=.5?d/(o+a):d/(2-o-a),o){case n:l=(i-s)/d+(i<s?6:0);break;case i:l=(s-n)/d+2;break;case s:l=(n-i)/d+4;break}l/=6}return e.h=l,e.s=c,e.l=h,e}getRGB(e,t=Qo){return gr.fromWorkingColorSpace(O0(this,yn),t),e.r=yn.r,e.g=yn.g,e.b=yn.b,e}getStyle(e=fs){return gr.fromWorkingColorSpace(O0(this,yn),e),e!==fs?`color(${e} ${yn.r} ${yn.g} ${yn.b})`:`rgb(${yn.r*255|0},${yn.g*255|0},${yn.b*255|0})`}offsetHSL(e,t,n){return this.getHSL(_r),_r.h+=e,_r.s+=t,_r.l+=n,this.setHSL(_r.h,_r.s,_r.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(_r),e.getHSL(k0);const n=gc(_r.h,k0.h,t),i=gc(_r.s,k0.s,t),s=gc(_r.l,k0.l,t);return this.setHSL(n,i,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}je.NAMES=nm;let Wa;class im{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{Wa===void 0&&(Wa=Vc("canvas")),Wa.width=e.width,Wa.height=e.height;const n=Wa.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=Wa}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Vc("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const i=n.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=sa(s[o]/255)*255;return n.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let n=0;n<t.length;n++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[n]=Math.floor(sa(t[n]/255)*255):t[n]=sa(t[n]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class rm{constructor(e=null){this.isSource=!0,this.uuid=or(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const n={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(Y3(i[o].image)):s.push(Y3(i[o]))}else s=Y3(i);n.url=s}return t||(e.images[this.uuid]=n),n}}function Y3(r){return typeof HTMLImageElement<"u"&&r instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&r instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&r instanceof ImageBitmap?im.getDataURL(r):r.data?{data:Array.from(r.data),width:r.width,height:r.height,type:r.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let oT=0;class Tn extends So{constructor(e=Tn.DEFAULT_IMAGE,t=Tn.DEFAULT_MAPPING,n=vi,i=vi,s=Vn,o=hl,a=ki,l=fa,c=1,h=pa){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:oT++}),this.uuid=or(),this.name="",this.source=new rm(e),this.mipmaps=[],this.mapping=t,this.wrapS=n,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new Ie(0,0),this.repeat=new Ie(1,1),this.center=new Ie(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Ni,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=h,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return JSON.stringify(this.userData)!=="{}"&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Y7)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Kr:e.x=e.x-Math.floor(e.x);break;case vi:e.x=e.x<0?0:1;break;case nu:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Kr:e.y=e.y-Math.floor(e.y);break;case vi:e.y=e.y<0?0:1;break;case nu:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}Tn.DEFAULT_IMAGE=null;Tn.DEFAULT_MAPPING=Y7;class It{constructor(e=0,t=0,n=0,i=1){It.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,i){return this.x=e,this.y=t,this.z=n,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*i+o[12]*s,this.y=o[1]*t+o[5]*n+o[9]*i+o[13]*s,this.z=o[2]*t+o[6]*n+o[10]*i+o[14]*s,this.w=o[3]*t+o[7]*n+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,i,s;const l=e.elements,c=l[0],h=l[4],d=l[8],f=l[1],m=l[5],_=l[9],v=l[2],x=l[6],y=l[10];if(Math.abs(h-f)<.01&&Math.abs(d-v)<.01&&Math.abs(_-x)<.01){if(Math.abs(h+f)<.1&&Math.abs(d+v)<.1&&Math.abs(_+x)<.1&&Math.abs(c+m+y-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const w=(c+1)/2,S=(m+1)/2,T=(y+1)/2,A=(h+f)/4,R=(d+v)/4,E=(_+x)/4;return w>S&&w>T?w<.01?(n=0,i=.707106781,s=.707106781):(n=Math.sqrt(w),i=A/n,s=R/n):S>T?S<.01?(n=.707106781,i=0,s=.707106781):(i=Math.sqrt(S),n=A/i,s=E/i):T<.01?(n=.707106781,i=.707106781,s=0):(s=Math.sqrt(T),n=R/s,i=E/s),this.set(n,i,s,t),this}let M=Math.sqrt((x-_)*(x-_)+(d-v)*(d-v)+(f-h)*(f-h));return Math.abs(M)<.001&&(M=1),this.x=(x-_)/M,this.y=(d-v)/M,this.z=(f-h)/M,this.w=Math.acos((c+m+y-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class ma extends So{constructor(e=1,t=1,n={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new It(0,0,e,t),this.scissorTest=!1,this.viewport=new It(0,0,e,t);const i={width:e,height:t,depth:1};this.texture=new Tn(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.internalFormat=n.internalFormat!==void 0?n.internalFormat:null,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:Vn,this.depthBuffer=n.depthBuffer!==void 0?n.depthBuffer:!0,this.stencilBuffer=n.stencilBuffer!==void 0?n.stencilBuffer:!1,this.depthTexture=n.depthTexture!==void 0?n.depthTexture:null,this.samples=n.samples!==void 0?n.samples:0}setSize(e,t,n=1){(this.width!==e||this.height!==t||this.depth!==n)&&(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new rm(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class sm extends Tn{constructor(e=null,t=1,n=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:i},this.magFilter=Mn,this.minFilter=Mn,this.wrapR=vi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class aT extends Tn{constructor(e=null,t=1,n=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:i},this.magFilter=Mn,this.minFilter=Mn,this.wrapR=vi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Gn{constructor(e=0,t=0,n=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=i}static slerpFlat(e,t,n,i,s,o,a){let l=n[i+0],c=n[i+1],h=n[i+2],d=n[i+3];const f=s[o+0],m=s[o+1],_=s[o+2],v=s[o+3];if(a===0){e[t+0]=l,e[t+1]=c,e[t+2]=h,e[t+3]=d;return}if(a===1){e[t+0]=f,e[t+1]=m,e[t+2]=_,e[t+3]=v;return}if(d!==v||l!==f||c!==m||h!==_){let x=1-a;const y=l*f+c*m+h*_+d*v,M=y>=0?1:-1,w=1-y*y;if(w>Number.EPSILON){const T=Math.sqrt(w),A=Math.atan2(T,y*M);x=Math.sin(x*A)/T,a=Math.sin(a*A)/T}const S=a*M;if(l=l*x+f*S,c=c*x+m*S,h=h*x+_*S,d=d*x+v*S,x===1-a){const T=1/Math.sqrt(l*l+c*c+h*h+d*d);l*=T,c*=T,h*=T,d*=T}}e[t]=l,e[t+1]=c,e[t+2]=h,e[t+3]=d}static multiplyQuaternionsFlat(e,t,n,i,s,o){const a=n[i],l=n[i+1],c=n[i+2],h=n[i+3],d=s[o],f=s[o+1],m=s[o+2],_=s[o+3];return e[t]=a*_+h*d+l*m-c*f,e[t+1]=l*_+h*f+c*d-a*m,e[t+2]=c*_+h*m+a*f-l*d,e[t+3]=h*_-a*d-l*f-c*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const n=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(n/2),h=a(i/2),d=a(s/2),f=l(n/2),m=l(i/2),_=l(s/2);switch(o){case"XYZ":this._x=f*h*d+c*m*_,this._y=c*m*d-f*h*_,this._z=c*h*_+f*m*d,this._w=c*h*d-f*m*_;break;case"YXZ":this._x=f*h*d+c*m*_,this._y=c*m*d-f*h*_,this._z=c*h*_-f*m*d,this._w=c*h*d+f*m*_;break;case"ZXY":this._x=f*h*d-c*m*_,this._y=c*m*d+f*h*_,this._z=c*h*_+f*m*d,this._w=c*h*d-f*m*_;break;case"ZYX":this._x=f*h*d-c*m*_,this._y=c*m*d+f*h*_,this._z=c*h*_-f*m*d,this._w=c*h*d+f*m*_;break;case"YZX":this._x=f*h*d+c*m*_,this._y=c*m*d+f*h*_,this._z=c*h*_-f*m*d,this._w=c*h*d-f*m*_;break;case"XZY":this._x=f*h*d-c*m*_,this._y=c*m*d-f*h*_,this._z=c*h*_+f*m*d,this._w=c*h*d+f*m*_;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,i=Math.sin(n);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],i=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],h=t[6],d=t[10],f=n+a+d;if(f>0){const m=.5/Math.sqrt(f+1);this._w=.25/m,this._x=(h-l)*m,this._y=(s-c)*m,this._z=(o-i)*m}else if(n>a&&n>d){const m=2*Math.sqrt(1+n-a-d);this._w=(h-l)/m,this._x=.25*m,this._y=(i+o)/m,this._z=(s+c)/m}else if(a>d){const m=2*Math.sqrt(1+a-n-d);this._w=(s-c)/m,this._x=(i+o)/m,this._y=.25*m,this._z=(l+h)/m}else{const m=2*Math.sqrt(1+d-n-a);this._w=(o-i)/m,this._x=(s+c)/m,this._y=(l+h)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Rn(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(n===0)return this;const i=Math.min(1,t/n);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,i=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,h=t._w;return this._x=n*h+o*a+i*c-s*l,this._y=i*h+o*l+s*a-n*c,this._z=s*h+o*c+n*l-i*a,this._w=o*h-n*a-i*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const n=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+n*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=n,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-t;return this._w=m*o+t*this._w,this._x=m*n+t*this._x,this._y=m*i+t*this._y,this._z=m*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),h=Math.atan2(c,a),d=Math.sin((1-t)*h)/c,f=Math.sin(t*h)/c;return this._w=o*d+this._w*f,this._x=n*d+this._x*f,this._y=i*d+this._y*f,this._z=s*d+this._z*f,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(i),n*Math.sin(s),n*Math.cos(s),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Z{constructor(e=0,t=0,n=0){Z.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return n===void 0&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(d9.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(d9.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[3]*n+s[6]*i,this.y=s[1]*t+s[4]*n+s[7]*i,this.z=s[2]*t+s[5]*n+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,i=this.z,s=e.elements,o=1/(s[3]*t+s[7]*n+s[11]*i+s[15]);return this.x=(s[0]*t+s[4]*n+s[8]*i+s[12])*o,this.y=(s[1]*t+s[5]*n+s[9]*i+s[13])*o,this.z=(s[2]*t+s[6]*n+s[10]*i+s[14])*o,this}applyQuaternion(e){const t=this.x,n=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=l*t+o*i-a*n,h=l*n+a*t-s*i,d=l*i+s*n-o*t,f=-s*t-o*n-a*i;return this.x=c*l+f*-s+h*-a-d*-o,this.y=h*l+f*-o+d*-s-c*-a,this.z=d*l+f*-a+c*-o-h*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[4]*n+s[8]*i,this.y=s[1]*t+s[5]*n+s[9]*i,this.z=s[2]*t+s[6]*n+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,i=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=i*l-s*a,this.y=s*o-n*l,this.z=n*a-i*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return Z3.copy(this).projectOnVector(e),this.sub(Z3)}reflect(e){return this.sub(Z3.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Rn(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,i=this.z-e.z;return t*t+n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const i=Math.sin(t)*e;return this.x=i*Math.sin(n),this.y=Math.cos(t)*e,this.z=i*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,n=Math.sqrt(1-e**2);return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Z3=new Z,d9=new Gn;class dl{constructor(e=new Z(1/0,1/0,1/0),t=new Z(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,n=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.length;l<c;l+=3){const h=e[l],d=e[l+1],f=e[l+2];h<t&&(t=h),d<n&&(n=d),f<i&&(i=f),h>s&&(s=h),d>o&&(o=d),f>a&&(a=f)}return this.min.set(t,n,i),this.max.set(s,o,a),this}setFromBufferAttribute(e){let t=1/0,n=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.count;l<c;l++){const h=e.getX(l),d=e.getY(l),f=e.getZ(l);h<t&&(t=h),d<n&&(n=d),f<i&&(i=f),h>s&&(s=h),d>o&&(o=d),f>a&&(a=f)}return this.min.set(t,n,i),this.max.set(s,o,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=Oo.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const n=e.geometry;if(n!==void 0)if(t&&n.attributes!=null&&n.attributes.position!==void 0){const s=n.attributes.position;for(let o=0,a=s.count;o<a;o++)Oo.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(Oo)}else n.boundingBox===null&&n.computeBoundingBox(),Q3.copy(n.boundingBox),Q3.applyMatrix4(e.matrixWorld),this.union(Q3);const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Oo),Oo.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Gl),F0.subVectors(this.max,Gl),ja.subVectors(e.a,Gl),qa.subVectors(e.b,Gl),Xa.subVectors(e.c,Gl),Us.subVectors(qa,ja),Vs.subVectors(Xa,qa),Fo.subVectors(ja,Xa);let t=[0,-Us.z,Us.y,0,-Vs.z,Vs.y,0,-Fo.z,Fo.y,Us.z,0,-Us.x,Vs.z,0,-Vs.x,Fo.z,0,-Fo.x,-Us.y,Us.x,0,-Vs.y,Vs.x,0,-Fo.y,Fo.x,0];return!J3(t,ja,qa,Xa,F0)||(t=[1,0,0,0,1,0,0,0,1],!J3(t,ja,qa,Xa,F0))?!1:(N0.crossVectors(Us,Vs),t=[N0.x,N0.y,N0.z],J3(t,ja,qa,Xa,F0))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return Oo.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(Oo).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(os[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),os[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),os[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),os[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),os[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),os[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),os[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),os[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(os),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const os=[new Z,new Z,new Z,new Z,new Z,new Z,new Z,new Z],Oo=new Z,Q3=new dl,ja=new Z,qa=new Z,Xa=new Z,Us=new Z,Vs=new Z,Fo=new Z,Gl=new Z,F0=new Z,N0=new Z,No=new Z;function J3(r,e,t,n,i){for(let s=0,o=r.length-3;s<=o;s+=3){No.fromArray(r,s);const a=i.x*Math.abs(No.x)+i.y*Math.abs(No.y)+i.z*Math.abs(No.z),l=e.dot(No),c=t.dot(No),h=n.dot(No);if(Math.max(-Math.max(l,c,h),Math.min(l,c,h))>a)return!1}return!0}const lT=new dl,Wl=new Z,eh=new Z;class fl{constructor(e=new Z,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;t!==void 0?n.copy(t):lT.setFromPoints(e).getCenter(n);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,n.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Wl.subVectors(e,this.center);const t=Wl.lengthSq();if(t>this.radius*this.radius){const n=Math.sqrt(t),i=(n-this.radius)*.5;this.center.addScaledVector(Wl,i/n),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(eh.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Wl.copy(e.center).add(eh)),this.expandByPoint(Wl.copy(e.center).sub(eh))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const as=new Z,th=new Z,z0=new Z,Hs=new Z,nh=new Z,B0=new Z,ih=new Z;class Hf{constructor(e=new Z,t=new Z(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,as)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=as.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(as.copy(this.direction).multiplyScalar(t).add(this.origin),as.distanceToSquared(e))}distanceSqToSegment(e,t,n,i){th.copy(e).add(t).multiplyScalar(.5),z0.copy(t).sub(e).normalize(),Hs.copy(this.origin).sub(th);const s=e.distanceTo(t)*.5,o=-this.direction.dot(z0),a=Hs.dot(this.direction),l=-Hs.dot(z0),c=Hs.lengthSq(),h=Math.abs(1-o*o);let d,f,m,_;if(h>0)if(d=o*l-a,f=o*a-l,_=s*h,d>=0)if(f>=-_)if(f<=_){const v=1/h;d*=v,f*=v,m=d*(d+o*f+2*a)+f*(o*d+f+2*l)+c}else f=s,d=Math.max(0,-(o*f+a)),m=-d*d+f*(f+2*l)+c;else f=-s,d=Math.max(0,-(o*f+a)),m=-d*d+f*(f+2*l)+c;else f<=-_?(d=Math.max(0,-(-o*s+a)),f=d>0?-s:Math.min(Math.max(-s,-l),s),m=-d*d+f*(f+2*l)+c):f<=_?(d=0,f=Math.min(Math.max(-s,-l),s),m=f*(f+2*l)+c):(d=Math.max(0,-(o*s+a)),f=d>0?s:Math.min(Math.max(-s,-l),s),m=-d*d+f*(f+2*l)+c);else f=o>0?-s:s,d=Math.max(0,-(o*f+a)),m=-d*d+f*(f+2*l)+c;return n&&n.copy(this.direction).multiplyScalar(d).add(this.origin),i&&i.copy(z0).multiplyScalar(f).add(th),m}intersectSphere(e,t){as.subVectors(e.center,this.origin);const n=as.dot(this.direction),i=as.dot(as)-n*n,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=n-o,l=n+o;return a<0&&l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return n===null?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,i,s,o,a,l;const c=1/this.direction.x,h=1/this.direction.y,d=1/this.direction.z,f=this.origin;return c>=0?(n=(e.min.x-f.x)*c,i=(e.max.x-f.x)*c):(n=(e.max.x-f.x)*c,i=(e.min.x-f.x)*c),h>=0?(s=(e.min.y-f.y)*h,o=(e.max.y-f.y)*h):(s=(e.max.y-f.y)*h,o=(e.min.y-f.y)*h),n>o||s>i||((s>n||isNaN(n))&&(n=s),(o<i||isNaN(i))&&(i=o),d>=0?(a=(e.min.z-f.z)*d,l=(e.max.z-f.z)*d):(a=(e.max.z-f.z)*d,l=(e.min.z-f.z)*d),n>l||a>i)||((a>n||n!==n)&&(n=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(n>=0?n:i,t)}intersectsBox(e){return this.intersectBox(e,as)!==null}intersectTriangle(e,t,n,i,s){nh.subVectors(t,e),B0.subVectors(n,e),ih.crossVectors(nh,B0);let o=this.direction.dot(ih),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;Hs.subVectors(this.origin,e);const l=a*this.direction.dot(B0.crossVectors(Hs,B0));if(l<0)return null;const c=a*this.direction.dot(nh.cross(Hs));if(c<0||l+c>o)return null;const h=-a*Hs.dot(ih);return h<0?null:this.at(h/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Ke{constructor(){Ke.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,n,i,s,o,a,l,c,h,d,f,m,_,v,x){const y=this.elements;return y[0]=e,y[4]=t,y[8]=n,y[12]=i,y[1]=s,y[5]=o,y[9]=a,y[13]=l,y[2]=c,y[6]=h,y[10]=d,y[14]=f,y[3]=m,y[7]=_,y[11]=v,y[15]=x,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Ke().fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,i=1/$a.setFromMatrixColumn(e,0).length(),s=1/$a.setFromMatrixColumn(e,1).length(),o=1/$a.setFromMatrixColumn(e,2).length();return t[0]=n[0]*i,t[1]=n[1]*i,t[2]=n[2]*i,t[3]=0,t[4]=n[4]*s,t[5]=n[5]*s,t[6]=n[6]*s,t[7]=0,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,i=e.y,s=e.z,o=Math.cos(n),a=Math.sin(n),l=Math.cos(i),c=Math.sin(i),h=Math.cos(s),d=Math.sin(s);if(e.order==="XYZ"){const f=o*h,m=o*d,_=a*h,v=a*d;t[0]=l*h,t[4]=-l*d,t[8]=c,t[1]=m+_*c,t[5]=f-v*c,t[9]=-a*l,t[2]=v-f*c,t[6]=_+m*c,t[10]=o*l}else if(e.order==="YXZ"){const f=l*h,m=l*d,_=c*h,v=c*d;t[0]=f+v*a,t[4]=_*a-m,t[8]=o*c,t[1]=o*d,t[5]=o*h,t[9]=-a,t[2]=m*a-_,t[6]=v+f*a,t[10]=o*l}else if(e.order==="ZXY"){const f=l*h,m=l*d,_=c*h,v=c*d;t[0]=f-v*a,t[4]=-o*d,t[8]=_+m*a,t[1]=m+_*a,t[5]=o*h,t[9]=v-f*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const f=o*h,m=o*d,_=a*h,v=a*d;t[0]=l*h,t[4]=_*c-m,t[8]=f*c+v,t[1]=l*d,t[5]=v*c+f,t[9]=m*c-_,t[2]=-c,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const f=o*l,m=o*c,_=a*l,v=a*c;t[0]=l*h,t[4]=v-f*d,t[8]=_*d+m,t[1]=d,t[5]=o*h,t[9]=-a*h,t[2]=-c*h,t[6]=m*d+_,t[10]=f-v*d}else if(e.order==="XZY"){const f=o*l,m=o*c,_=a*l,v=a*c;t[0]=l*h,t[4]=-d,t[8]=c*h,t[1]=f*d+v,t[5]=o*h,t[9]=m*d-_,t[2]=_*d-m,t[6]=a*h,t[10]=v*d+f}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(cT,e,uT)}lookAt(e,t,n){const i=this.elements;return Ci.subVectors(e,t),Ci.lengthSq()===0&&(Ci.z=1),Ci.normalize(),Gs.crossVectors(n,Ci),Gs.lengthSq()===0&&(Math.abs(n.z)===1?Ci.x+=1e-4:Ci.z+=1e-4,Ci.normalize(),Gs.crossVectors(n,Ci)),Gs.normalize(),U0.crossVectors(Ci,Gs),i[0]=Gs.x,i[4]=U0.x,i[8]=Ci.x,i[1]=Gs.y,i[5]=U0.y,i[9]=Ci.y,i[2]=Gs.z,i[6]=U0.z,i[10]=Ci.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,i=t.elements,s=this.elements,o=n[0],a=n[4],l=n[8],c=n[12],h=n[1],d=n[5],f=n[9],m=n[13],_=n[2],v=n[6],x=n[10],y=n[14],M=n[3],w=n[7],S=n[11],T=n[15],A=i[0],R=i[4],E=i[8],L=i[12],k=i[1],H=i[5],te=i[9],q=i[13],B=i[2],N=i[6],W=i[10],V=i[14],Y=i[3],X=i[7],O=i[11],de=i[15];return s[0]=o*A+a*k+l*B+c*Y,s[4]=o*R+a*H+l*N+c*X,s[8]=o*E+a*te+l*W+c*O,s[12]=o*L+a*q+l*V+c*de,s[1]=h*A+d*k+f*B+m*Y,s[5]=h*R+d*H+f*N+m*X,s[9]=h*E+d*te+f*W+m*O,s[13]=h*L+d*q+f*V+m*de,s[2]=_*A+v*k+x*B+y*Y,s[6]=_*R+v*H+x*N+y*X,s[10]=_*E+v*te+x*W+y*O,s[14]=_*L+v*q+x*V+y*de,s[3]=M*A+w*k+S*B+T*Y,s[7]=M*R+w*H+S*N+T*X,s[11]=M*E+w*te+S*W+T*O,s[15]=M*L+w*q+S*V+T*de,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],h=e[2],d=e[6],f=e[10],m=e[14],_=e[3],v=e[7],x=e[11],y=e[15];return _*(+s*l*d-i*c*d-s*a*f+n*c*f+i*a*m-n*l*m)+v*(+t*l*m-t*c*f+s*o*f-i*o*m+i*c*h-s*l*h)+x*(+t*c*d-t*a*m-s*o*d+n*o*m+s*a*h-n*c*h)+y*(-i*a*h-t*l*d+t*a*f+i*o*d-n*o*f+n*l*h)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],h=e[8],d=e[9],f=e[10],m=e[11],_=e[12],v=e[13],x=e[14],y=e[15],M=d*x*c-v*f*c+v*l*m-a*x*m-d*l*y+a*f*y,w=_*f*c-h*x*c-_*l*m+o*x*m+h*l*y-o*f*y,S=h*v*c-_*d*c+_*a*m-o*v*m-h*a*y+o*d*y,T=_*d*l-h*v*l-_*a*f+o*v*f+h*a*x-o*d*x,A=t*M+n*w+i*S+s*T;if(A===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const R=1/A;return e[0]=M*R,e[1]=(v*f*s-d*x*s-v*i*m+n*x*m+d*i*y-n*f*y)*R,e[2]=(a*x*s-v*l*s+v*i*c-n*x*c-a*i*y+n*l*y)*R,e[3]=(d*l*s-a*f*s-d*i*c+n*f*c+a*i*m-n*l*m)*R,e[4]=w*R,e[5]=(h*x*s-_*f*s+_*i*m-t*x*m-h*i*y+t*f*y)*R,e[6]=(_*l*s-o*x*s-_*i*c+t*x*c+o*i*y-t*l*y)*R,e[7]=(o*f*s-h*l*s+h*i*c-t*f*c-o*i*m+t*l*m)*R,e[8]=S*R,e[9]=(_*d*s-h*v*s-_*n*m+t*v*m+h*n*y-t*d*y)*R,e[10]=(o*v*s-_*a*s+_*n*c-t*v*c-o*n*y+t*a*y)*R,e[11]=(h*a*s-o*d*s-h*n*c+t*d*c+o*n*m-t*a*m)*R,e[12]=T*R,e[13]=(h*v*i-_*d*i+_*n*f-t*v*f-h*n*x+t*d*x)*R,e[14]=(_*a*i-o*v*i-_*n*l+t*v*l+o*n*x-t*a*x)*R,e[15]=(o*d*i-h*a*i+h*n*l-t*d*l-o*n*f+t*a*f)*R,this}scale(e){const t=this.elements,n=e.x,i=e.y,s=e.z;return t[0]*=n,t[4]*=i,t[8]*=s,t[1]*=n,t[5]*=i,t[9]*=s,t[2]*=n,t[6]*=i,t[10]*=s,t[3]*=n,t[7]*=i,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,i))}makeTranslation(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),i=Math.sin(t),s=1-n,o=e.x,a=e.y,l=e.z,c=s*o,h=s*a;return this.set(c*o+n,c*a-i*l,c*l+i*a,0,c*a+i*l,h*a+n,h*l-i*o,0,c*l-i*a,h*l+i*o,s*l*l+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,i,s,o){return this.set(1,n,s,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,n){const i=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,h=o+o,d=a+a,f=s*c,m=s*h,_=s*d,v=o*h,x=o*d,y=a*d,M=l*c,w=l*h,S=l*d,T=n.x,A=n.y,R=n.z;return i[0]=(1-(v+y))*T,i[1]=(m+S)*T,i[2]=(_-w)*T,i[3]=0,i[4]=(m-S)*A,i[5]=(1-(f+y))*A,i[6]=(x+M)*A,i[7]=0,i[8]=(_+w)*R,i[9]=(x-M)*R,i[10]=(1-(f+v))*R,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,n){const i=this.elements;let s=$a.set(i[0],i[1],i[2]).length();const o=$a.set(i[4],i[5],i[6]).length(),a=$a.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],vr.copy(this);const c=1/s,h=1/o,d=1/a;return vr.elements[0]*=c,vr.elements[1]*=c,vr.elements[2]*=c,vr.elements[4]*=h,vr.elements[5]*=h,vr.elements[6]*=h,vr.elements[8]*=d,vr.elements[9]*=d,vr.elements[10]*=d,t.setFromRotationMatrix(vr),n.x=s,n.y=o,n.z=a,this}makePerspective(e,t,n,i,s,o){const a=this.elements,l=2*s/(t-e),c=2*s/(n-i),h=(t+e)/(t-e),d=(n+i)/(n-i),f=-(o+s)/(o-s),m=-2*o*s/(o-s);return a[0]=l,a[4]=0,a[8]=h,a[12]=0,a[1]=0,a[5]=c,a[9]=d,a[13]=0,a[2]=0,a[6]=0,a[10]=f,a[14]=m,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,n,i,s,o){const a=this.elements,l=1/(t-e),c=1/(n-i),h=1/(o-s),d=(t+e)*l,f=(n+i)*c,m=(o+s)*h;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-d,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-f,a[2]=0,a[6]=0,a[10]=-2*h,a[14]=-m,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let i=0;i<16;i++)if(t[i]!==n[i])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const $a=new Z,vr=new Ke,cT=new Z(0,0,0),uT=new Z(1,1,1),Gs=new Z,U0=new Z,Ci=new Z,f9=new Ke,p9=new Gn;class zi{constructor(e=0,t=0,n=0,i=zi.DefaultOrder){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,i=this._order){return this._x=e,this._y=t,this._z=n,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],c=i[5],h=i[9],d=i[2],f=i[6],m=i[10];switch(t){case"XYZ":this._y=Math.asin(Rn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-h,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(f,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Rn(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,s),this._z=0);break;case"ZXY":this._x=Math.asin(Rn(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-d,m),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Rn(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(f,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(Rn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-h,c),this._y=Math.atan2(-d,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-Rn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(f,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-h,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,n===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return f9.makeRotationFromQuaternion(e),this.setFromRotationMatrix(f9,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return p9.setFromEuler(this),this.setFromQuaternion(p9,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}}zi.DefaultOrder="XYZ";zi.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class om{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let hT=0;const m9=new Z,Ka=new Gn,ls=new Ke,V0=new Z,jl=new Z,dT=new Z,fT=new Gn,g9=new Z(1,0,0),_9=new Z(0,1,0),v9=new Z(0,0,1),pT={type:"added"},x9={type:"removed"};class mt extends So{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:hT++}),this.uuid=or(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=mt.DefaultUp.clone();const e=new Z,t=new zi,n=new Gn,i=new Z(1,1,1);function s(){n.setFromEuler(t,!1)}function o(){t.setFromQuaternion(n,void 0,!1)}t._onChange(s),n._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Ke},normalMatrix:{value:new Ni}}),this.matrix=new Ke,this.matrixWorld=new Ke,this.matrixAutoUpdate=mt.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=mt.DefaultMatrixWorldAutoUpdate,this.layers=new om,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Ka.setFromAxisAngle(e,t),this.quaternion.multiply(Ka),this}rotateOnWorldAxis(e,t){return Ka.setFromAxisAngle(e,t),this.quaternion.premultiply(Ka),this}rotateX(e){return this.rotateOnAxis(g9,e)}rotateY(e){return this.rotateOnAxis(_9,e)}rotateZ(e){return this.rotateOnAxis(v9,e)}translateOnAxis(e,t){return m9.copy(e).applyQuaternion(this.quaternion),this.position.add(m9.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(g9,e)}translateY(e){return this.translateOnAxis(_9,e)}translateZ(e){return this.translateOnAxis(v9,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(ls.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?V0.copy(e):V0.set(e,t,n);const i=this.parent;this.updateWorldMatrix(!0,!1),jl.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ls.lookAt(jl,V0,this.up):ls.lookAt(V0,jl,this.up),this.quaternion.setFromRotationMatrix(ls),i&&(ls.extractRotation(i.matrixWorld),Ka.setFromRotationMatrix(ls),this.quaternion.premultiply(Ka.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(pT)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(x9)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(x9)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),ls.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),ls.multiply(e.parent.matrixWorld)),e.applyMatrix4(ls),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,i=this.children.length;n<i;n++){const o=this.children[n].getObjectByProperty(e,t);if(o!==void 0)return o}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(jl,e,dT),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(jl,fT,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,i=t.length;n<i;n++){const s=t[n];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const n=this.parent;if(e===!0&&n!==null&&n.matrixWorldAutoUpdate===!0&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++){const a=i[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,h=l.length;c<h;c++){const d=l[c];s(e.shapes,d)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),h=o(e.images),d=o(e.shapes),f=o(e.skeletons),m=o(e.animations),_=o(e.nodes);a.length>0&&(n.geometries=a),l.length>0&&(n.materials=l),c.length>0&&(n.textures=c),h.length>0&&(n.images=h),d.length>0&&(n.shapes=d),f.length>0&&(n.skeletons=f),m.length>0&&(n.animations=m),_.length>0&&(n.nodes=_)}return n.object=i,n;function o(a){const l=[];for(const c in a){const h=a[c];delete h.metadata,l.push(h)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let n=0;n<e.children.length;n++){const i=e.children[n];this.add(i.clone())}return this}}mt.DefaultUp=new Z(0,1,0);mt.DefaultMatrixAutoUpdate=!0;mt.DefaultMatrixWorldAutoUpdate=!0;const xr=new Z,cs=new Z,rh=new Z,us=new Z,Ya=new Z,Za=new Z,b9=new Z,sh=new Z,oh=new Z,ah=new Z;class Ur{constructor(e=new Z,t=new Z,n=new Z){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,i){i.subVectors(n,t),xr.subVectors(e,t),i.cross(xr);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,t,n,i,s){xr.subVectors(i,t),cs.subVectors(n,t),rh.subVectors(e,t);const o=xr.dot(xr),a=xr.dot(cs),l=xr.dot(rh),c=cs.dot(cs),h=cs.dot(rh),d=o*c-a*a;if(d===0)return s.set(-2,-1,-1);const f=1/d,m=(c*l-a*h)*f,_=(o*h-a*l)*f;return s.set(1-m-_,_,m)}static containsPoint(e,t,n,i){return this.getBarycoord(e,t,n,i,us),us.x>=0&&us.y>=0&&us.x+us.y<=1}static getUV(e,t,n,i,s,o,a,l){return this.getBarycoord(e,t,n,i,us),l.set(0,0),l.addScaledVector(s,us.x),l.addScaledVector(o,us.y),l.addScaledVector(a,us.z),l}static isFrontFacing(e,t,n,i){return xr.subVectors(n,t),cs.subVectors(e,t),xr.cross(cs).dot(i)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,i){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,n,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return xr.subVectors(this.c,this.b),cs.subVectors(this.a,this.b),xr.cross(cs).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ur.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Ur.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,n,i,s){return Ur.getUV(e,this.a,this.b,this.c,t,n,i,s)}containsPoint(e){return Ur.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ur.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,i=this.b,s=this.c;let o,a;Ya.subVectors(i,n),Za.subVectors(s,n),sh.subVectors(e,n);const l=Ya.dot(sh),c=Za.dot(sh);if(l<=0&&c<=0)return t.copy(n);oh.subVectors(e,i);const h=Ya.dot(oh),d=Za.dot(oh);if(h>=0&&d<=h)return t.copy(i);const f=l*d-h*c;if(f<=0&&l>=0&&h<=0)return o=l/(l-h),t.copy(n).addScaledVector(Ya,o);ah.subVectors(e,s);const m=Ya.dot(ah),_=Za.dot(ah);if(_>=0&&m<=_)return t.copy(s);const v=m*c-l*_;if(v<=0&&c>=0&&_<=0)return a=c/(c-_),t.copy(n).addScaledVector(Za,a);const x=h*_-m*d;if(x<=0&&d-h>=0&&m-_>=0)return b9.subVectors(s,i),a=(d-h)/(d-h+(m-_)),t.copy(i).addScaledVector(b9,a);const y=1/(x+v+f);return o=v*y,a=f*y,t.copy(n).addScaledVector(Ya,o).addScaledVector(Za,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let mT=0;class ar extends So{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:mT++}),this.uuid=or(),this.name="",this.type="Material",this.blending=C1,this.side=da,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=X7,this.blendDst=$7,this.blendEquation=c1,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=fd,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=qE,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=X3,this.stencilZFail=X3,this.stencilZPass=X3,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const n=e[t];if(n===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}const i=this[t];if(i===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[t]=n}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen!==void 0&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(n.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(n.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(n.combine=this.combine)),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(n.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(n.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(n.size=this.size),this.shadowSide!==null&&(n.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==C1&&(n.blending=this.blending),this.side!==da&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(n.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(n.flatShading=this.flatShading),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),this.fog===!1&&(n.fog=!1),JSON.stringify(this.userData)!=="{}"&&(n.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=i(e.textures),o=i(e.images);s.length>0&&(n.textures=s),o.length>0&&(n.images=o)}return n}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(t!==null){const i=t.length;n=new Array(i);for(let s=0;s!==i;++s)n[s]=t[s].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Wr extends ar{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new je(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Wu,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const pn=new Z,H0=new Ie;class jn{constructor(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=n===!0,this.usage=_d,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=t.array[n+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,n=this.count;t<n;t++)H0.fromBufferAttribute(this,t),H0.applyMatrix3(e),this.setXY(t,H0.x,H0.y);else if(this.itemSize===3)for(let t=0,n=this.count;t<n;t++)pn.fromBufferAttribute(this,t),pn.applyMatrix3(e),this.setXYZ(t,pn.x,pn.y,pn.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)pn.fromBufferAttribute(this,t),pn.applyMatrix4(e),this.setXYZ(t,pn.x,pn.y,pn.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)pn.fromBufferAttribute(this,t),pn.applyNormalMatrix(e),this.setXYZ(t,pn.x,pn.y,pn.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)pn.fromBufferAttribute(this,t),pn.transformDirection(e),this.setXYZ(t,pn.x,pn.y,pn.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=vs(t,this.array)),t}setX(e,t){return this.normalized&&(t=Bt(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=vs(t,this.array)),t}setY(e,t){return this.normalized&&(t=Bt(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=vs(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Bt(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=vs(t,this.array)),t}setW(e,t){return this.normalized&&(t=Bt(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=Bt(t,this.array),n=Bt(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,i){return e*=this.itemSize,this.normalized&&(t=Bt(t,this.array),n=Bt(n,this.array),i=Bt(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this}setXYZW(e,t,n,i,s){return e*=this.itemSize,this.normalized&&(t=Bt(t,this.array),n=Bt(n,this.array),i=Bt(i,this.array),s=Bt(s,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==_d&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class Gf extends jn{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class am extends jn{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class Lt extends jn{constructor(e,t,n){super(new Float32Array(e),t,n)}}let gT=0;const $i=new Ke,lh=new mt,Qa=new Z,Ai=new dl,ql=new dl,Pn=new Z;class Xt extends So{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:gT++}),this.uuid=or(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(tm(e)?am:Gf)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const s=new Ni().getNormalMatrix(e);n.applyNormalMatrix(s),n.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return $i.makeRotationFromQuaternion(e),this.applyMatrix4($i),this}rotateX(e){return $i.makeRotationX(e),this.applyMatrix4($i),this}rotateY(e){return $i.makeRotationY(e),this.applyMatrix4($i),this}rotateZ(e){return $i.makeRotationZ(e),this.applyMatrix4($i),this}translate(e,t,n){return $i.makeTranslation(e,t,n),this.applyMatrix4($i),this}scale(e,t,n){return $i.makeScale(e,t,n),this.applyMatrix4($i),this}lookAt(e){return lh.lookAt(e),lh.updateMatrix(),this.applyMatrix4(lh.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Qa).negate(),this.translate(Qa.x,Qa.y,Qa.z),this}setFromPoints(e){const t=[];for(let n=0,i=e.length;n<i;n++){const s=e[n];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Lt(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new dl);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new Z(-1/0,-1/0,-1/0),new Z(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,i=t.length;n<i;n++){const s=t[n];Ai.setFromBufferAttribute(s),this.morphTargetsRelative?(Pn.addVectors(this.boundingBox.min,Ai.min),this.boundingBox.expandByPoint(Pn),Pn.addVectors(this.boundingBox.max,Ai.max),this.boundingBox.expandByPoint(Pn)):(this.boundingBox.expandByPoint(Ai.min),this.boundingBox.expandByPoint(Ai.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new fl);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Z,1/0);return}if(e){const n=this.boundingSphere.center;if(Ai.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];ql.setFromBufferAttribute(a),this.morphTargetsRelative?(Pn.addVectors(Ai.min,ql.min),Ai.expandByPoint(Pn),Pn.addVectors(Ai.max,ql.max),Ai.expandByPoint(Pn)):(Ai.expandByPoint(ql.min),Ai.expandByPoint(ql.max))}Ai.getCenter(n);let i=0;for(let s=0,o=e.count;s<o;s++)Pn.fromBufferAttribute(e,s),i=Math.max(i,n.distanceToSquared(Pn));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let c=0,h=a.count;c<h;c++)Pn.fromBufferAttribute(a,c),l&&(Qa.fromBufferAttribute(e,c),Pn.add(Qa)),i=Math.max(i,n.distanceToSquared(Pn))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const n=e.array,i=t.position.array,s=t.normal.array,o=t.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new jn(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],h=[];for(let k=0;k<a;k++)c[k]=new Z,h[k]=new Z;const d=new Z,f=new Z,m=new Z,_=new Ie,v=new Ie,x=new Ie,y=new Z,M=new Z;function w(k,H,te){d.fromArray(i,k*3),f.fromArray(i,H*3),m.fromArray(i,te*3),_.fromArray(o,k*2),v.fromArray(o,H*2),x.fromArray(o,te*2),f.sub(d),m.sub(d),v.sub(_),x.sub(_);const q=1/(v.x*x.y-x.x*v.y);!isFinite(q)||(y.copy(f).multiplyScalar(x.y).addScaledVector(m,-v.y).multiplyScalar(q),M.copy(m).multiplyScalar(v.x).addScaledVector(f,-x.x).multiplyScalar(q),c[k].add(y),c[H].add(y),c[te].add(y),h[k].add(M),h[H].add(M),h[te].add(M))}let S=this.groups;S.length===0&&(S=[{start:0,count:n.length}]);for(let k=0,H=S.length;k<H;++k){const te=S[k],q=te.start,B=te.count;for(let N=q,W=q+B;N<W;N+=3)w(n[N+0],n[N+1],n[N+2])}const T=new Z,A=new Z,R=new Z,E=new Z;function L(k){R.fromArray(s,k*3),E.copy(R);const H=c[k];T.copy(H),T.sub(R.multiplyScalar(R.dot(H))).normalize(),A.crossVectors(E,H);const q=A.dot(h[k])<0?-1:1;l[k*4]=T.x,l[k*4+1]=T.y,l[k*4+2]=T.z,l[k*4+3]=q}for(let k=0,H=S.length;k<H;++k){const te=S[k],q=te.start,B=te.count;for(let N=q,W=q+B;N<W;N+=3)L(n[N+0]),L(n[N+1]),L(n[N+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new jn(new Float32Array(t.count*3),3),this.setAttribute("normal",n);else for(let f=0,m=n.count;f<m;f++)n.setXYZ(f,0,0,0);const i=new Z,s=new Z,o=new Z,a=new Z,l=new Z,c=new Z,h=new Z,d=new Z;if(e)for(let f=0,m=e.count;f<m;f+=3){const _=e.getX(f+0),v=e.getX(f+1),x=e.getX(f+2);i.fromBufferAttribute(t,_),s.fromBufferAttribute(t,v),o.fromBufferAttribute(t,x),h.subVectors(o,s),d.subVectors(i,s),h.cross(d),a.fromBufferAttribute(n,_),l.fromBufferAttribute(n,v),c.fromBufferAttribute(n,x),a.add(h),l.add(h),c.add(h),n.setXYZ(_,a.x,a.y,a.z),n.setXYZ(v,l.x,l.y,l.z),n.setXYZ(x,c.x,c.y,c.z)}else for(let f=0,m=t.count;f<m;f+=3)i.fromBufferAttribute(t,f+0),s.fromBufferAttribute(t,f+1),o.fromBufferAttribute(t,f+2),h.subVectors(o,s),d.subVectors(i,s),h.cross(d),n.setXYZ(f+0,h.x,h.y,h.z),n.setXYZ(f+1,h.x,h.y,h.z),n.setXYZ(f+2,h.x,h.y,h.z);this.normalizeNormals(),n.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)Pn.fromBufferAttribute(e,t),Pn.normalize(),e.setXYZ(t,Pn.x,Pn.y,Pn.z)}toNonIndexed(){function e(a,l){const c=a.array,h=a.itemSize,d=a.normalized,f=new c.constructor(l.length*h);let m=0,_=0;for(let v=0,x=l.length;v<x;v++){a.isInterleavedBufferAttribute?m=l[v]*a.data.stride+a.offset:m=l[v]*h;for(let y=0;y<h;y++)f[_++]=c[m++]}return new jn(f,h,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Xt,n=this.index.array,i=this.attributes;for(const a in i){const l=i[a],c=e(l,n);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let h=0,d=c.length;h<d;h++){const f=c[h],m=e(f,n);l.push(m)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const l in n){const c=n[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],h=[];for(let d=0,f=c.length;d<f;d++){const m=c[d];h.push(m.toJSON(e.data))}h.length>0&&(i[l]=h,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;n!==null&&this.setIndex(n.clone(t));const i=e.attributes;for(const c in i){const h=i[c];this.setAttribute(c,h.clone(t))}const s=e.morphAttributes;for(const c in s){const h=[],d=s[c];for(let f=0,m=d.length;f<m;f++)h.push(d[f].clone(t));this.morphAttributes[c]=h}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,h=o.length;c<h;c++){const d=o[c];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const y9=new Ke,Ja=new Hf,ch=new fl,Ws=new Z,js=new Z,qs=new Z,uh=new Z,hh=new Z,dh=new Z,G0=new Z,W0=new Z,j0=new Z,q0=new Ie,X0=new Ie,$0=new Ie,fh=new Z,K0=new Z;class $t extends mt{constructor(e=new Xt,t=new Wr){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}raycast(e,t){const n=this.geometry,i=this.material,s=this.matrixWorld;if(i===void 0||(n.boundingSphere===null&&n.computeBoundingSphere(),ch.copy(n.boundingSphere),ch.applyMatrix4(s),e.ray.intersectsSphere(ch)===!1)||(y9.copy(s).invert(),Ja.copy(e.ray).applyMatrix4(y9),n.boundingBox!==null&&Ja.intersectsBox(n.boundingBox)===!1))return;let o;const a=n.index,l=n.attributes.position,c=n.morphAttributes.position,h=n.morphTargetsRelative,d=n.attributes.uv,f=n.attributes.uv2,m=n.groups,_=n.drawRange;if(a!==null)if(Array.isArray(i))for(let v=0,x=m.length;v<x;v++){const y=m[v],M=i[y.materialIndex],w=Math.max(y.start,_.start),S=Math.min(a.count,Math.min(y.start+y.count,_.start+_.count));for(let T=w,A=S;T<A;T+=3){const R=a.getX(T),E=a.getX(T+1),L=a.getX(T+2);o=Y0(this,M,e,Ja,l,c,h,d,f,R,E,L),o&&(o.faceIndex=Math.floor(T/3),o.face.materialIndex=y.materialIndex,t.push(o))}}else{const v=Math.max(0,_.start),x=Math.min(a.count,_.start+_.count);for(let y=v,M=x;y<M;y+=3){const w=a.getX(y),S=a.getX(y+1),T=a.getX(y+2);o=Y0(this,i,e,Ja,l,c,h,d,f,w,S,T),o&&(o.faceIndex=Math.floor(y/3),t.push(o))}}else if(l!==void 0)if(Array.isArray(i))for(let v=0,x=m.length;v<x;v++){const y=m[v],M=i[y.materialIndex],w=Math.max(y.start,_.start),S=Math.min(l.count,Math.min(y.start+y.count,_.start+_.count));for(let T=w,A=S;T<A;T+=3){const R=T,E=T+1,L=T+2;o=Y0(this,M,e,Ja,l,c,h,d,f,R,E,L),o&&(o.faceIndex=Math.floor(T/3),o.face.materialIndex=y.materialIndex,t.push(o))}}else{const v=Math.max(0,_.start),x=Math.min(l.count,_.start+_.count);for(let y=v,M=x;y<M;y+=3){const w=y,S=y+1,T=y+2;o=Y0(this,i,e,Ja,l,c,h,d,f,w,S,T),o&&(o.faceIndex=Math.floor(y/3),t.push(o))}}}}function _T(r,e,t,n,i,s,o,a){let l;if(e.side===Bi?l=n.intersectTriangle(o,s,i,!0,a):l=n.intersectTriangle(i,s,o,e.side!==_s,a),l===null)return null;K0.copy(a),K0.applyMatrix4(r.matrixWorld);const c=t.ray.origin.distanceTo(K0);return c<t.near||c>t.far?null:{distance:c,point:K0.clone(),object:r}}function Y0(r,e,t,n,i,s,o,a,l,c,h,d){Ws.fromBufferAttribute(i,c),js.fromBufferAttribute(i,h),qs.fromBufferAttribute(i,d);const f=r.morphTargetInfluences;if(s&&f){G0.set(0,0,0),W0.set(0,0,0),j0.set(0,0,0);for(let _=0,v=s.length;_<v;_++){const x=f[_],y=s[_];x!==0&&(uh.fromBufferAttribute(y,c),hh.fromBufferAttribute(y,h),dh.fromBufferAttribute(y,d),o?(G0.addScaledVector(uh,x),W0.addScaledVector(hh,x),j0.addScaledVector(dh,x)):(G0.addScaledVector(uh.sub(Ws),x),W0.addScaledVector(hh.sub(js),x),j0.addScaledVector(dh.sub(qs),x)))}Ws.add(G0),js.add(W0),qs.add(j0)}r.isSkinnedMesh&&(r.boneTransform(c,Ws),r.boneTransform(h,js),r.boneTransform(d,qs));const m=_T(r,e,t,n,Ws,js,qs,fh);if(m){a&&(q0.fromBufferAttribute(a,c),X0.fromBufferAttribute(a,h),$0.fromBufferAttribute(a,d),m.uv=Ur.getUV(fh,Ws,js,qs,q0,X0,$0,new Ie)),l&&(q0.fromBufferAttribute(l,c),X0.fromBufferAttribute(l,h),$0.fromBufferAttribute(l,d),m.uv2=Ur.getUV(fh,Ws,js,qs,q0,X0,$0,new Ie));const _={a:c,b:h,c:d,normal:new Z,materialIndex:0};Ur.getNormal(Ws,js,qs,_.normal),m.face=_}return m}class Qt extends Xt{constructor(e=1,t=1,n=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],h=[],d=[];let f=0,m=0;_("z","y","x",-1,-1,n,t,e,o,s,0),_("z","y","x",1,-1,n,t,-e,o,s,1),_("x","z","y",1,1,e,n,t,i,o,2),_("x","z","y",1,-1,e,n,-t,i,o,3),_("x","y","z",1,-1,e,t,n,i,s,4),_("x","y","z",-1,-1,e,t,-n,i,s,5),this.setIndex(l),this.setAttribute("position",new Lt(c,3)),this.setAttribute("normal",new Lt(h,3)),this.setAttribute("uv",new Lt(d,2));function _(v,x,y,M,w,S,T,A,R,E,L){const k=S/R,H=T/E,te=S/2,q=T/2,B=A/2,N=R+1,W=E+1;let V=0,Y=0;const X=new Z;for(let O=0;O<W;O++){const de=O*H-q;for(let _e=0;_e<N;_e++){const pe=_e*k-te;X[v]=pe*M,X[x]=de*w,X[y]=B,c.push(X.x,X.y,X.z),X[v]=0,X[x]=0,X[y]=A>0?1:-1,h.push(X.x,X.y,X.z),d.push(_e/R),d.push(1-O/E),V+=1}}for(let O=0;O<E;O++)for(let de=0;de<R;de++){const _e=f+de+N*O,pe=f+de+N*(O+1),Ee=f+(de+1)+N*(O+1),se=f+(de+1)+N*O;l.push(_e,pe,se),l.push(pe,Ee,se),Y+=6}a.addGroup(m,Y,L),m+=Y,f+=V}}static fromJSON(e){return new Qt(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function G1(r){const e={};for(const t in r){e[t]={};for(const n in r[t]){const i=r[t][n];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?e[t][n]=i.clone():Array.isArray(i)?e[t][n]=i.slice():e[t][n]=i}}return e}function oi(r){const e={};for(let t=0;t<r.length;t++){const n=G1(r[t]);for(const i in n)e[i]=n[i]}return e}function vT(r){const e=[];for(let t=0;t<r.length;t++)e.push(r[t].clone());return e}const xT={clone:G1,merge:oi};var bT=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,yT=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Yr extends ar{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=bT,this.fragmentShader=yT,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=G1(e.uniforms),this.uniformsGroups=vT(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?t.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[i]={type:"m4",value:o.toArray()}:t.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const n={};for(const i in this.extensions)this.extensions[i]===!0&&(n[i]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class lm extends mt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Ke,this.projectionMatrix=new Ke,this.projectionMatrixInverse=new Ke}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class gn extends lm{constructor(e=50,t=1,n=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Uc*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(mc*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Uc*2*Math.atan(Math.tan(mc*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,n,i,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(mc*.5*this.fov)/this.zoom,n=2*t,i=this.aspect*n,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*i/l,t-=o.offsetY*n/c,i*=o.width/l,n*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,t,t-n,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const e1=90,t1=1;class wT extends mt{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n;const i=new gn(e1,t1,e,t);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new Z(1,0,0)),this.add(i);const s=new gn(e1,t1,e,t);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new Z(-1,0,0)),this.add(s);const o=new gn(e1,t1,e,t);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new Z(0,1,0)),this.add(o);const a=new gn(e1,t1,e,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new Z(0,-1,0)),this.add(a);const l=new gn(e1,t1,e,t);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new Z(0,0,1)),this.add(l);const c=new gn(e1,t1,e,t);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new Z(0,0,-1)),this.add(c)}update(e,t){this.parent===null&&this.updateMatrixWorld();const n=this.renderTarget,[i,s,o,a,l,c]=this.children,h=e.getRenderTarget(),d=e.toneMapping,f=e.xr.enabled;e.toneMapping=Ss,e.xr.enabled=!1;const m=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,i),e.setRenderTarget(n,1),e.render(t,s),e.setRenderTarget(n,2),e.render(t,o),e.setRenderTarget(n,3),e.render(t,a),e.setRenderTarget(n,4),e.render(t,l),n.texture.generateMipmaps=m,e.setRenderTarget(n,5),e.render(t,c),e.setRenderTarget(h),e.toneMapping=d,e.xr.enabled=f,n.texture.needsPMREMUpdate=!0}}class cm extends Tn{constructor(e,t,n,i,s,o,a,l,c,h){e=e!==void 0?e:[],t=t!==void 0?t:B1,super(e,t,n,i,s,o,a,l,c,h),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class ST extends ma{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},i=[n,n,n,n,n,n];this.texture=new cm(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Vn}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Qt(5,5,5),s=new Yr({name:"CubemapFromEquirect",uniforms:G1(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:Bi,blending:lo});s.uniforms.tEquirect.value=t;const o=new $t(i,s),a=t.minFilter;return t.minFilter===hl&&(t.minFilter=Vn),new wT(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,n,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,n,i);e.setRenderTarget(s)}}const ph=new Z,MT=new Z,ET=new Ni;class Vo{constructor(e=new Z(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,i){return this.normal.set(e,t,n),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const i=ph.subVectors(n,t).cross(MT.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const n=e.delta(ph),i=this.normal.dot(n);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:t.copy(n).multiplyScalar(s).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||ET.getNormalMatrix(e),i=this.coplanarPoint(ph).applyMatrix4(e),s=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const n1=new fl,Z0=new Z;class Wf{constructor(e=new Vo,t=new Vo,n=new Vo,i=new Vo,s=new Vo,o=new Vo){this.planes=[e,t,n,i,s,o]}set(e,t,n,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(n),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e){const t=this.planes,n=e.elements,i=n[0],s=n[1],o=n[2],a=n[3],l=n[4],c=n[5],h=n[6],d=n[7],f=n[8],m=n[9],_=n[10],v=n[11],x=n[12],y=n[13],M=n[14],w=n[15];return t[0].setComponents(a-i,d-l,v-f,w-x).normalize(),t[1].setComponents(a+i,d+l,v+f,w+x).normalize(),t[2].setComponents(a+s,d+c,v+m,w+y).normalize(),t[3].setComponents(a-s,d-c,v-m,w-y).normalize(),t[4].setComponents(a-o,d-h,v-_,w-M).normalize(),t[5].setComponents(a+o,d+h,v+_,w+M).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),n1.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(n1)}intersectsSprite(e){return n1.center.set(0,0,0),n1.radius=.7071067811865476,n1.applyMatrix4(e.matrixWorld),this.intersectsSphere(n1)}intersectsSphere(e){const t=this.planes,n=e.center,i=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(n)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const i=t[n];if(Z0.x=i.normal.x>0?e.max.x:e.min.x,Z0.y=i.normal.y>0?e.max.y:e.min.y,Z0.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Z0)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function um(){let r=null,e=!1,t=null,n=null;function i(s,o){t(s,o),n=r.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(n=r.requestAnimationFrame(i),e=!0)},stop:function(){r.cancelAnimationFrame(n),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){r=s}}}function TT(r,e){const t=e.isWebGL2,n=new WeakMap;function i(c,h){const d=c.array,f=c.usage,m=r.createBuffer();r.bindBuffer(h,m),r.bufferData(h,d,f),c.onUploadCallback();let _;if(d instanceof Float32Array)_=5126;else if(d instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(t)_=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else _=5123;else if(d instanceof Int16Array)_=5122;else if(d instanceof Uint32Array)_=5125;else if(d instanceof Int32Array)_=5124;else if(d instanceof Int8Array)_=5120;else if(d instanceof Uint8Array)_=5121;else if(d instanceof Uint8ClampedArray)_=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:m,type:_,bytesPerElement:d.BYTES_PER_ELEMENT,version:c.version}}function s(c,h,d){const f=h.array,m=h.updateRange;r.bindBuffer(d,c),m.count===-1?r.bufferSubData(d,0,f):(t?r.bufferSubData(d,m.offset*f.BYTES_PER_ELEMENT,f,m.offset,m.count):r.bufferSubData(d,m.offset*f.BYTES_PER_ELEMENT,f.subarray(m.offset,m.offset+m.count)),m.count=-1)}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),n.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const h=n.get(c);h&&(r.deleteBuffer(h.buffer),n.delete(c))}function l(c,h){if(c.isGLBufferAttribute){const f=n.get(c);(!f||f.version<c.version)&&n.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const d=n.get(c);d===void 0?n.set(c,i(c,h)):d.version<c.version&&(s(d.buffer,c,h),d.version=c.version)}return{get:o,remove:a,update:l}}class ga extends Xt{constructor(e=1,t=1,n=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:i};const s=e/2,o=t/2,a=Math.floor(n),l=Math.floor(i),c=a+1,h=l+1,d=e/a,f=t/l,m=[],_=[],v=[],x=[];for(let y=0;y<h;y++){const M=y*f-o;for(let w=0;w<c;w++){const S=w*d-s;_.push(S,-M,0),v.push(0,0,1),x.push(w/a),x.push(1-y/l)}}for(let y=0;y<l;y++)for(let M=0;M<a;M++){const w=M+c*y,S=M+c*(y+1),T=M+1+c*(y+1),A=M+1+c*y;m.push(w,S,A),m.push(S,T,A)}this.setIndex(m),this.setAttribute("position",new Lt(_,3)),this.setAttribute("normal",new Lt(v,3)),this.setAttribute("uv",new Lt(x,2))}static fromJSON(e){return new ga(e.width,e.height,e.widthSegments,e.heightSegments)}}var CT=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,AT=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,PT=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,LT=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,RT=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,IT=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,DT="vec3 transformed = vec3( position );",kT=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,OT=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,FT=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,NT=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,zT=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,BT=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,UT=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,VT=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,HT=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,GT=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,WT=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,jT=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,qT=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,XT=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,$T=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,KT=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,YT=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,ZT=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,QT=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,JT="gl_FragColor = linearToOutputTexel( gl_FragColor );",eC=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,tC=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,nC=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,iC=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,rC=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,sC=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,oC=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,aC=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,lC=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,cC=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,uC=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,hC=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,dC=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,fC=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,pC=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert
#define Material_LightProbeLOD( material )	(0)`,mC=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,gC=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,_C=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,vC=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,xC=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,bC=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,yC=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,wC=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,SC=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,MC=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,EC=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,TC=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,CC=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,AC=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,PC=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,LC=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,RC=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,IC=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,DC=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,kC=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,OC=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,FC=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,NC=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,zC=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,BC=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,UC=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,VC=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,HC=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,GC=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,WC=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,jC=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,qC=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,XC=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,$C=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,KC=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,YC=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,ZC=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,QC=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,JC=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,eA=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,tA=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,nA=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,iA=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,rA=`#if NUM_SPOT_LIGHT_COORDS > 0
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,sA=`#if NUM_SPOT_LIGHT_COORDS > 0
  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,oA=`#if defined( USE_SHADOWMAP ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_COORDS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,aA=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,lA=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,cA=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,uA=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,hA=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,dA=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,fA=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,pA=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,mA=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,gA=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,_A=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,vA=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,xA=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,bA=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,yA=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,wA=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,SA=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,MA=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const EA=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,TA=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	gl_FragColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		gl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );
	#endif
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,CA=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,AA=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,PA=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,LA=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,RA=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,IA=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,DA=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,kA=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,OA=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,FA=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,NA=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,zA=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,BA=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,UA=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,VA=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,HA=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,GA=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,WA=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,jA=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,qA=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,XA=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,$A=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,KA=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,YA=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ZA=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,QA=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,JA=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,eP=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,tP=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,nP=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,iP=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,rP=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,ft={alphamap_fragment:CT,alphamap_pars_fragment:AT,alphatest_fragment:PT,alphatest_pars_fragment:LT,aomap_fragment:RT,aomap_pars_fragment:IT,begin_vertex:DT,beginnormal_vertex:kT,bsdfs:OT,iridescence_fragment:FT,bumpmap_pars_fragment:NT,clipping_planes_fragment:zT,clipping_planes_pars_fragment:BT,clipping_planes_pars_vertex:UT,clipping_planes_vertex:VT,color_fragment:HT,color_pars_fragment:GT,color_pars_vertex:WT,color_vertex:jT,common:qT,cube_uv_reflection_fragment:XT,defaultnormal_vertex:$T,displacementmap_pars_vertex:KT,displacementmap_vertex:YT,emissivemap_fragment:ZT,emissivemap_pars_fragment:QT,encodings_fragment:JT,encodings_pars_fragment:eC,envmap_fragment:tC,envmap_common_pars_fragment:nC,envmap_pars_fragment:iC,envmap_pars_vertex:rC,envmap_physical_pars_fragment:gC,envmap_vertex:sC,fog_vertex:oC,fog_pars_vertex:aC,fog_fragment:lC,fog_pars_fragment:cC,gradientmap_pars_fragment:uC,lightmap_fragment:hC,lightmap_pars_fragment:dC,lights_lambert_fragment:fC,lights_lambert_pars_fragment:pC,lights_pars_begin:mC,lights_toon_fragment:_C,lights_toon_pars_fragment:vC,lights_phong_fragment:xC,lights_phong_pars_fragment:bC,lights_physical_fragment:yC,lights_physical_pars_fragment:wC,lights_fragment_begin:SC,lights_fragment_maps:MC,lights_fragment_end:EC,logdepthbuf_fragment:TC,logdepthbuf_pars_fragment:CC,logdepthbuf_pars_vertex:AC,logdepthbuf_vertex:PC,map_fragment:LC,map_pars_fragment:RC,map_particle_fragment:IC,map_particle_pars_fragment:DC,metalnessmap_fragment:kC,metalnessmap_pars_fragment:OC,morphcolor_vertex:FC,morphnormal_vertex:NC,morphtarget_pars_vertex:zC,morphtarget_vertex:BC,normal_fragment_begin:UC,normal_fragment_maps:VC,normal_pars_fragment:HC,normal_pars_vertex:GC,normal_vertex:WC,normalmap_pars_fragment:jC,clearcoat_normal_fragment_begin:qC,clearcoat_normal_fragment_maps:XC,clearcoat_pars_fragment:$C,iridescence_pars_fragment:KC,output_fragment:YC,packing:ZC,premultiplied_alpha_fragment:QC,project_vertex:JC,dithering_fragment:eA,dithering_pars_fragment:tA,roughnessmap_fragment:nA,roughnessmap_pars_fragment:iA,shadowmap_pars_fragment:rA,shadowmap_pars_vertex:sA,shadowmap_vertex:oA,shadowmask_pars_fragment:aA,skinbase_vertex:lA,skinning_pars_vertex:cA,skinning_vertex:uA,skinnormal_vertex:hA,specularmap_fragment:dA,specularmap_pars_fragment:fA,tonemapping_fragment:pA,tonemapping_pars_fragment:mA,transmission_fragment:gA,transmission_pars_fragment:_A,uv_pars_fragment:vA,uv_pars_vertex:xA,uv_vertex:bA,uv2_pars_fragment:yA,uv2_pars_vertex:wA,uv2_vertex:SA,worldpos_vertex:MA,background_vert:EA,background_frag:TA,backgroundCube_vert:CA,backgroundCube_frag:AA,cube_vert:PA,cube_frag:LA,depth_vert:RA,depth_frag:IA,distanceRGBA_vert:DA,distanceRGBA_frag:kA,equirect_vert:OA,equirect_frag:FA,linedashed_vert:NA,linedashed_frag:zA,meshbasic_vert:BA,meshbasic_frag:UA,meshlambert_vert:VA,meshlambert_frag:HA,meshmatcap_vert:GA,meshmatcap_frag:WA,meshnormal_vert:jA,meshnormal_frag:qA,meshphong_vert:XA,meshphong_frag:$A,meshphysical_vert:KA,meshphysical_frag:YA,meshtoon_vert:ZA,meshtoon_frag:QA,points_vert:JA,points_frag:eP,shadow_vert:tP,shadow_frag:nP,sprite_vert:iP,sprite_frag:rP},Ne={common:{diffuse:{value:new je(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Ni},uv2Transform:{value:new Ni},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Ie(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new je(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new je(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Ni}},sprite:{diffuse:{value:new je(16777215)},opacity:{value:1},center:{value:new Ie(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Ni}}},zr={basic:{uniforms:oi([Ne.common,Ne.specularmap,Ne.envmap,Ne.aomap,Ne.lightmap,Ne.fog]),vertexShader:ft.meshbasic_vert,fragmentShader:ft.meshbasic_frag},lambert:{uniforms:oi([Ne.common,Ne.specularmap,Ne.envmap,Ne.aomap,Ne.lightmap,Ne.emissivemap,Ne.bumpmap,Ne.normalmap,Ne.displacementmap,Ne.fog,Ne.lights,{emissive:{value:new je(0)}}]),vertexShader:ft.meshlambert_vert,fragmentShader:ft.meshlambert_frag},phong:{uniforms:oi([Ne.common,Ne.specularmap,Ne.envmap,Ne.aomap,Ne.lightmap,Ne.emissivemap,Ne.bumpmap,Ne.normalmap,Ne.displacementmap,Ne.fog,Ne.lights,{emissive:{value:new je(0)},specular:{value:new je(1118481)},shininess:{value:30}}]),vertexShader:ft.meshphong_vert,fragmentShader:ft.meshphong_frag},standard:{uniforms:oi([Ne.common,Ne.envmap,Ne.aomap,Ne.lightmap,Ne.emissivemap,Ne.bumpmap,Ne.normalmap,Ne.displacementmap,Ne.roughnessmap,Ne.metalnessmap,Ne.fog,Ne.lights,{emissive:{value:new je(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ft.meshphysical_vert,fragmentShader:ft.meshphysical_frag},toon:{uniforms:oi([Ne.common,Ne.aomap,Ne.lightmap,Ne.emissivemap,Ne.bumpmap,Ne.normalmap,Ne.displacementmap,Ne.gradientmap,Ne.fog,Ne.lights,{emissive:{value:new je(0)}}]),vertexShader:ft.meshtoon_vert,fragmentShader:ft.meshtoon_frag},matcap:{uniforms:oi([Ne.common,Ne.bumpmap,Ne.normalmap,Ne.displacementmap,Ne.fog,{matcap:{value:null}}]),vertexShader:ft.meshmatcap_vert,fragmentShader:ft.meshmatcap_frag},points:{uniforms:oi([Ne.points,Ne.fog]),vertexShader:ft.points_vert,fragmentShader:ft.points_frag},dashed:{uniforms:oi([Ne.common,Ne.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ft.linedashed_vert,fragmentShader:ft.linedashed_frag},depth:{uniforms:oi([Ne.common,Ne.displacementmap]),vertexShader:ft.depth_vert,fragmentShader:ft.depth_frag},normal:{uniforms:oi([Ne.common,Ne.bumpmap,Ne.normalmap,Ne.displacementmap,{opacity:{value:1}}]),vertexShader:ft.meshnormal_vert,fragmentShader:ft.meshnormal_frag},sprite:{uniforms:oi([Ne.sprite,Ne.fog]),vertexShader:ft.sprite_vert,fragmentShader:ft.sprite_frag},background:{uniforms:{uvTransform:{value:new Ni},t2D:{value:null}},vertexShader:ft.background_vert,fragmentShader:ft.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0}},vertexShader:ft.backgroundCube_vert,fragmentShader:ft.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ft.cube_vert,fragmentShader:ft.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ft.equirect_vert,fragmentShader:ft.equirect_frag},distanceRGBA:{uniforms:oi([Ne.common,Ne.displacementmap,{referencePosition:{value:new Z},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ft.distanceRGBA_vert,fragmentShader:ft.distanceRGBA_frag},shadow:{uniforms:oi([Ne.lights,Ne.fog,{color:{value:new je(0)},opacity:{value:1}}]),vertexShader:ft.shadow_vert,fragmentShader:ft.shadow_frag}};zr.physical={uniforms:oi([zr.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Ie(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new je(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Ie},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new je(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new je(1,1,1)},specularColorMap:{value:null}}]),vertexShader:ft.meshphysical_vert,fragmentShader:ft.meshphysical_frag};function sP(r,e,t,n,i,s,o){const a=new je(0);let l=s===!0?0:1,c,h,d=null,f=0,m=null;function _(x,y){let M=!1,w=y.isScene===!0?y.background:null;w&&w.isTexture&&(w=(y.backgroundBlurriness>0?t:e).get(w));const S=r.xr,T=S.getSession&&S.getSession();T&&T.environmentBlendMode==="additive"&&(w=null),w===null?v(a,l):w&&w.isColor&&(v(w,1),M=!0),(r.autoClear||M)&&r.clear(r.autoClearColor,r.autoClearDepth,r.autoClearStencil),w&&(w.isCubeTexture||w.mapping===ju)?(h===void 0&&(h=new $t(new Qt(1,1,1),new Yr({name:"BackgroundCubeMaterial",uniforms:G1(zr.backgroundCube.uniforms),vertexShader:zr.backgroundCube.vertexShader,fragmentShader:zr.backgroundCube.fragmentShader,side:Bi,depthTest:!1,depthWrite:!1,fog:!1})),h.geometry.deleteAttribute("normal"),h.geometry.deleteAttribute("uv"),h.onBeforeRender=function(A,R,E){this.matrixWorld.copyPosition(E.matrixWorld)},Object.defineProperty(h.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(h)),h.material.uniforms.envMap.value=w,h.material.uniforms.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,h.material.uniforms.backgroundBlurriness.value=y.backgroundBlurriness,(d!==w||f!==w.version||m!==r.toneMapping)&&(h.material.needsUpdate=!0,d=w,f=w.version,m=r.toneMapping),h.layers.enableAll(),x.unshift(h,h.geometry,h.material,0,0,null)):w&&w.isTexture&&(c===void 0&&(c=new $t(new ga(2,2),new Yr({name:"BackgroundMaterial",uniforms:G1(zr.background.uniforms),vertexShader:zr.background.vertexShader,fragmentShader:zr.background.fragmentShader,side:da,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=w,w.matrixAutoUpdate===!0&&w.updateMatrix(),c.material.uniforms.uvTransform.value.copy(w.matrix),(d!==w||f!==w.version||m!==r.toneMapping)&&(c.material.needsUpdate=!0,d=w,f=w.version,m=r.toneMapping),c.layers.enableAll(),x.unshift(c,c.geometry,c.material,0,0,null))}function v(x,y){n.buffers.color.setClear(x.r,x.g,x.b,y,o)}return{getClearColor:function(){return a},setClearColor:function(x,y=1){a.set(x),l=y,v(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(x){l=x,v(a,l)},render:_}}function oP(r,e,t,n){const i=r.getParameter(34921),s=n.isWebGL2?null:e.get("OES_vertex_array_object"),o=n.isWebGL2||s!==null,a={},l=x(null);let c=l,h=!1;function d(B,N,W,V,Y){let X=!1;if(o){const O=v(V,W,N);c!==O&&(c=O,m(c.object)),X=y(B,V,W,Y),X&&M(B,V,W,Y)}else{const O=N.wireframe===!0;(c.geometry!==V.id||c.program!==W.id||c.wireframe!==O)&&(c.geometry=V.id,c.program=W.id,c.wireframe=O,X=!0)}Y!==null&&t.update(Y,34963),(X||h)&&(h=!1,E(B,N,W,V),Y!==null&&r.bindBuffer(34963,t.get(Y).buffer))}function f(){return n.isWebGL2?r.createVertexArray():s.createVertexArrayOES()}function m(B){return n.isWebGL2?r.bindVertexArray(B):s.bindVertexArrayOES(B)}function _(B){return n.isWebGL2?r.deleteVertexArray(B):s.deleteVertexArrayOES(B)}function v(B,N,W){const V=W.wireframe===!0;let Y=a[B.id];Y===void 0&&(Y={},a[B.id]=Y);let X=Y[N.id];X===void 0&&(X={},Y[N.id]=X);let O=X[V];return O===void 0&&(O=x(f()),X[V]=O),O}function x(B){const N=[],W=[],V=[];for(let Y=0;Y<i;Y++)N[Y]=0,W[Y]=0,V[Y]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:N,enabledAttributes:W,attributeDivisors:V,object:B,attributes:{},index:null}}function y(B,N,W,V){const Y=c.attributes,X=N.attributes;let O=0;const de=W.getAttributes();for(const _e in de)if(de[_e].location>=0){const Ee=Y[_e];let se=X[_e];if(se===void 0&&(_e==="instanceMatrix"&&B.instanceMatrix&&(se=B.instanceMatrix),_e==="instanceColor"&&B.instanceColor&&(se=B.instanceColor)),Ee===void 0||Ee.attribute!==se||se&&Ee.data!==se.data)return!0;O++}return c.attributesNum!==O||c.index!==V}function M(B,N,W,V){const Y={},X=N.attributes;let O=0;const de=W.getAttributes();for(const _e in de)if(de[_e].location>=0){let Ee=X[_e];Ee===void 0&&(_e==="instanceMatrix"&&B.instanceMatrix&&(Ee=B.instanceMatrix),_e==="instanceColor"&&B.instanceColor&&(Ee=B.instanceColor));const se={};se.attribute=Ee,Ee&&Ee.data&&(se.data=Ee.data),Y[_e]=se,O++}c.attributes=Y,c.attributesNum=O,c.index=V}function w(){const B=c.newAttributes;for(let N=0,W=B.length;N<W;N++)B[N]=0}function S(B){T(B,0)}function T(B,N){const W=c.newAttributes,V=c.enabledAttributes,Y=c.attributeDivisors;W[B]=1,V[B]===0&&(r.enableVertexAttribArray(B),V[B]=1),Y[B]!==N&&((n.isWebGL2?r:e.get("ANGLE_instanced_arrays"))[n.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](B,N),Y[B]=N)}function A(){const B=c.newAttributes,N=c.enabledAttributes;for(let W=0,V=N.length;W<V;W++)N[W]!==B[W]&&(r.disableVertexAttribArray(W),N[W]=0)}function R(B,N,W,V,Y,X){n.isWebGL2===!0&&(W===5124||W===5125)?r.vertexAttribIPointer(B,N,W,Y,X):r.vertexAttribPointer(B,N,W,V,Y,X)}function E(B,N,W,V){if(n.isWebGL2===!1&&(B.isInstancedMesh||V.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;w();const Y=V.attributes,X=W.getAttributes(),O=N.defaultAttributeValues;for(const de in X){const _e=X[de];if(_e.location>=0){let pe=Y[de];if(pe===void 0&&(de==="instanceMatrix"&&B.instanceMatrix&&(pe=B.instanceMatrix),de==="instanceColor"&&B.instanceColor&&(pe=B.instanceColor)),pe!==void 0){const Ee=pe.normalized,se=pe.itemSize,ie=t.get(pe);if(ie===void 0)continue;const J=ie.buffer,z=ie.type,$=ie.bytesPerElement;if(pe.isInterleavedBufferAttribute){const oe=pe.data,ve=oe.stride,C=pe.offset;if(oe.isInstancedInterleavedBuffer){for(let I=0;I<_e.locationSize;I++)T(_e.location+I,oe.meshPerAttribute);B.isInstancedMesh!==!0&&V._maxInstanceCount===void 0&&(V._maxInstanceCount=oe.meshPerAttribute*oe.count)}else for(let I=0;I<_e.locationSize;I++)S(_e.location+I);r.bindBuffer(34962,J);for(let I=0;I<_e.locationSize;I++)R(_e.location+I,se/_e.locationSize,z,Ee,ve*$,(C+se/_e.locationSize*I)*$)}else{if(pe.isInstancedBufferAttribute){for(let oe=0;oe<_e.locationSize;oe++)T(_e.location+oe,pe.meshPerAttribute);B.isInstancedMesh!==!0&&V._maxInstanceCount===void 0&&(V._maxInstanceCount=pe.meshPerAttribute*pe.count)}else for(let oe=0;oe<_e.locationSize;oe++)S(_e.location+oe);r.bindBuffer(34962,J);for(let oe=0;oe<_e.locationSize;oe++)R(_e.location+oe,se/_e.locationSize,z,Ee,se*$,se/_e.locationSize*oe*$)}}else if(O!==void 0){const Ee=O[de];if(Ee!==void 0)switch(Ee.length){case 2:r.vertexAttrib2fv(_e.location,Ee);break;case 3:r.vertexAttrib3fv(_e.location,Ee);break;case 4:r.vertexAttrib4fv(_e.location,Ee);break;default:r.vertexAttrib1fv(_e.location,Ee)}}}}A()}function L(){te();for(const B in a){const N=a[B];for(const W in N){const V=N[W];for(const Y in V)_(V[Y].object),delete V[Y];delete N[W]}delete a[B]}}function k(B){if(a[B.id]===void 0)return;const N=a[B.id];for(const W in N){const V=N[W];for(const Y in V)_(V[Y].object),delete V[Y];delete N[W]}delete a[B.id]}function H(B){for(const N in a){const W=a[N];if(W[B.id]===void 0)continue;const V=W[B.id];for(const Y in V)_(V[Y].object),delete V[Y];delete W[B.id]}}function te(){q(),h=!0,c!==l&&(c=l,m(c.object))}function q(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:d,reset:te,resetDefaultState:q,dispose:L,releaseStatesOfGeometry:k,releaseStatesOfProgram:H,initAttributes:w,enableAttribute:S,disableUnusedAttributes:A}}function aP(r,e,t,n){const i=n.isWebGL2;let s;function o(c){s=c}function a(c,h){r.drawArrays(s,c,h),t.update(h,s,1)}function l(c,h,d){if(d===0)return;let f,m;if(i)f=r,m="drawArraysInstanced";else if(f=e.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",f===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}f[m](s,c,h,d),t.update(h,s,d)}this.setMode=o,this.render=a,this.renderInstances=l}function lP(r,e,t){let n;function i(){if(n!==void 0)return n;if(e.has("EXT_texture_filter_anisotropic")===!0){const R=e.get("EXT_texture_filter_anisotropic");n=r.getParameter(R.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else n=0;return n}function s(R){if(R==="highp"){if(r.getShaderPrecisionFormat(35633,36338).precision>0&&r.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";R="mediump"}return R==="mediump"&&r.getShaderPrecisionFormat(35633,36337).precision>0&&r.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&r instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&r instanceof WebGL2ComputeRenderingContext;let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),h=t.logarithmicDepthBuffer===!0,d=r.getParameter(34930),f=r.getParameter(35660),m=r.getParameter(3379),_=r.getParameter(34076),v=r.getParameter(34921),x=r.getParameter(36347),y=r.getParameter(36348),M=r.getParameter(36349),w=f>0,S=o||e.has("OES_texture_float"),T=w&&S,A=o?r.getParameter(36183):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:h,maxTextures:d,maxVertexTextures:f,maxTextureSize:m,maxCubemapSize:_,maxAttributes:v,maxVertexUniforms:x,maxVaryings:y,maxFragmentUniforms:M,vertexTextures:w,floatFragmentTextures:S,floatVertexTextures:T,maxSamples:A}}function cP(r){const e=this;let t=null,n=0,i=!1,s=!1;const o=new Vo,a=new Ni,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,f,m){const _=d.length!==0||f||n!==0||i;return i=f,t=h(d,m,0),n=d.length,_},this.beginShadows=function(){s=!0,h(null)},this.endShadows=function(){s=!1,c()},this.setState=function(d,f,m){const _=d.clippingPlanes,v=d.clipIntersection,x=d.clipShadows,y=r.get(d);if(!i||_===null||_.length===0||s&&!x)s?h(null):c();else{const M=s?0:n,w=M*4;let S=y.clippingState||null;l.value=S,S=h(_,f,w,m);for(let T=0;T!==w;++T)S[T]=t[T];y.clippingState=S,this.numIntersection=v?this.numPlanes:0,this.numPlanes+=M}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function h(d,f,m,_){const v=d!==null?d.length:0;let x=null;if(v!==0){if(x=l.value,_!==!0||x===null){const y=m+v*4,M=f.matrixWorldInverse;a.getNormalMatrix(M),(x===null||x.length<y)&&(x=new Float32Array(y));for(let w=0,S=m;w!==v;++w,S+=4)o.copy(d[w]).applyMatrix4(M,a),o.normal.toArray(x,S),x[S+3]=o.constant}l.value=x,l.needsUpdate=!0}return e.numPlanes=v,e.numIntersection=0,x}}function uP(r){let e=new WeakMap;function t(o,a){return a===tu?o.mapping=B1:a===pd&&(o.mapping=U1),o}function n(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===tu||a===pd)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new ST(l.height/2);return c.fromEquirectangularTexture(r,o),e.set(o,c),o.addEventListener("dispose",i),t(c.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:n,dispose:s}}class Ta extends lm{constructor(e=-1,t=1,n=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,n,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=n-e,o=n+e,a=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,h=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=h*this.view.offsetY,l=a-h*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const _1=4,w9=[.125,.215,.35,.446,.526,.582],Ko=20,mh=new Ta,S9=new je;let gh=null;const Ho=(1+Math.sqrt(5))/2,i1=1/Ho,M9=[new Z(1,1,1),new Z(-1,1,1),new Z(1,1,-1),new Z(-1,1,-1),new Z(0,Ho,i1),new Z(0,Ho,-i1),new Z(i1,0,Ho),new Z(-i1,0,Ho),new Z(Ho,i1,0),new Z(-Ho,i1,0)];class E9{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,n=.1,i=100){gh=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,n,i,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=A9(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=C9(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(gh),e.scissorTest=!1,Q0(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===B1||e.mapping===U1?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),gh=this._renderer.getRenderTarget();const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:Vn,minFilter:Vn,generateMipmaps:!1,type:zc,format:ki,encoding:pa,depthBuffer:!1},i=T9(e,t,n);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=T9(e,t,n);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=hP(s)),this._blurMaterial=dP(s,e,t)}return i}_compileMaterial(e){const t=new $t(this._lodPlanes[0],e);this._renderer.compile(t,mh)}_sceneToCubeUV(e,t,n,i){const a=new gn(90,1,t,n),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],h=this._renderer,d=h.autoClear,f=h.toneMapping;h.getClearColor(S9),h.toneMapping=Ss,h.autoClear=!1;const m=new Wr({name:"PMREM.Background",side:Bi,depthWrite:!1,depthTest:!1}),_=new $t(new Qt,m);let v=!1;const x=e.background;x?x.isColor&&(m.color.copy(x),e.background=null,v=!0):(m.color.copy(S9),v=!0);for(let y=0;y<6;y++){const M=y%3;M===0?(a.up.set(0,l[y],0),a.lookAt(c[y],0,0)):M===1?(a.up.set(0,0,l[y]),a.lookAt(0,c[y],0)):(a.up.set(0,l[y],0),a.lookAt(0,0,c[y]));const w=this._cubeSize;Q0(i,M*w,y>2?w:0,w,w),h.setRenderTarget(i),v&&h.render(_,a),h.render(e,a)}_.geometry.dispose(),_.material.dispose(),h.toneMapping=f,h.autoClear=d,e.background=x}_textureToCubeUV(e,t){const n=this._renderer,i=e.mapping===B1||e.mapping===U1;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=A9()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=C9());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new $t(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;Q0(t,0,0,3*l,2*l),n.setRenderTarget(t),n.render(o,mh)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=M9[(i-1)%M9.length];this._blur(e,i-1,i,s,o)}t.autoClear=n}_blur(e,t,n,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,n,i,"latitudinal",s),this._halfBlur(o,e,n,n,i,"longitudinal",s)}_halfBlur(e,t,n,i,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const h=3,d=new $t(this._lodPlanes[i],c),f=c.uniforms,m=this._sizeLods[n]-1,_=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*Ko-1),v=s/_,x=isFinite(s)?1+Math.floor(h*v):Ko;x>Ko&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${x} samples when the maximum is set to ${Ko}`);const y=[];let M=0;for(let R=0;R<Ko;++R){const E=R/v,L=Math.exp(-E*E/2);y.push(L),R===0?M+=L:R<x&&(M+=2*L)}for(let R=0;R<y.length;R++)y[R]=y[R]/M;f.envMap.value=e.texture,f.samples.value=x,f.weights.value=y,f.latitudinal.value=o==="latitudinal",a&&(f.poleAxis.value=a);const{_lodMax:w}=this;f.dTheta.value=_,f.mipInt.value=w-n;const S=this._sizeLods[i],T=3*S*(i>w-_1?i-w+_1:0),A=4*(this._cubeSize-S);Q0(t,T,A,3*S,2*S),l.setRenderTarget(t),l.render(d,mh)}}function hP(r){const e=[],t=[],n=[];let i=r;const s=r-_1+1+w9.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);t.push(a);let l=1/a;o>r-_1?l=w9[o-r+_1-1]:o===0&&(l=0),n.push(l);const c=1/(a-2),h=-c,d=1+c,f=[h,h,d,h,d,d,h,h,d,d,h,d],m=6,_=6,v=3,x=2,y=1,M=new Float32Array(v*_*m),w=new Float32Array(x*_*m),S=new Float32Array(y*_*m);for(let A=0;A<m;A++){const R=A%3*2/3-1,E=A>2?0:-1,L=[R,E,0,R+2/3,E,0,R+2/3,E+1,0,R,E,0,R+2/3,E+1,0,R,E+1,0];M.set(L,v*_*A),w.set(f,x*_*A);const k=[A,A,A,A,A,A];S.set(k,y*_*A)}const T=new Xt;T.setAttribute("position",new jn(M,v)),T.setAttribute("uv",new jn(w,x)),T.setAttribute("faceIndex",new jn(S,y)),e.push(T),i>_1&&i--}return{lodPlanes:e,sizeLods:t,sigmas:n}}function T9(r,e,t){const n=new ma(r,e,t);return n.texture.mapping=ju,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function Q0(r,e,t,n,i){r.viewport.set(e,t,n,i),r.scissor.set(e,t,n,i)}function dP(r,e,t){const n=new Float32Array(Ko),i=new Z(0,1,0);return new Yr({name:"SphericalGaussianBlur",defines:{n:Ko,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${r}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:jf(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:lo,depthTest:!1,depthWrite:!1})}function C9(){return new Yr({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:jf(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:lo,depthTest:!1,depthWrite:!1})}function A9(){return new Yr({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:jf(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:lo,depthTest:!1,depthWrite:!1})}function jf(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function fP(r){let e=new WeakMap,t=null;function n(a){if(a&&a.isTexture){const l=a.mapping,c=l===tu||l===pd,h=l===B1||l===U1;if(c||h)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let d=e.get(a);return t===null&&(t=new E9(r)),d=c?t.fromEquirectangular(a,d):t.fromCubemap(a,d),e.set(a,d),d.texture}else{if(e.has(a))return e.get(a).texture;{const d=a.image;if(c&&d&&d.height>0||h&&d&&i(d)){t===null&&(t=new E9(r));const f=c?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,f),a.addEventListener("dispose",s),f.texture}else return null}}}return a}function i(a){let l=0;const c=6;for(let h=0;h<c;h++)a[h]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:n,dispose:o}}function pP(r){const e={};function t(n){if(e[n]!==void 0)return e[n];let i;switch(n){case"WEBGL_depth_texture":i=r.getExtension("WEBGL_depth_texture")||r.getExtension("MOZ_WEBGL_depth_texture")||r.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=r.getExtension("EXT_texture_filter_anisotropic")||r.getExtension("MOZ_EXT_texture_filter_anisotropic")||r.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=r.getExtension("WEBGL_compressed_texture_s3tc")||r.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=r.getExtension("WEBGL_compressed_texture_pvrtc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=r.getExtension(n)}return e[n]=i,i}return{has:function(n){return t(n)!==null},init:function(n){n.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(n){const i=t(n);return i===null&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),i}}}function mP(r,e,t,n){const i={},s=new WeakMap;function o(d){const f=d.target;f.index!==null&&e.remove(f.index);for(const _ in f.attributes)e.remove(f.attributes[_]);f.removeEventListener("dispose",o),delete i[f.id];const m=s.get(f);m&&(e.remove(m),s.delete(f)),n.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,t.memory.geometries--}function a(d,f){return i[f.id]===!0||(f.addEventListener("dispose",o),i[f.id]=!0,t.memory.geometries++),f}function l(d){const f=d.attributes;for(const _ in f)e.update(f[_],34962);const m=d.morphAttributes;for(const _ in m){const v=m[_];for(let x=0,y=v.length;x<y;x++)e.update(v[x],34962)}}function c(d){const f=[],m=d.index,_=d.attributes.position;let v=0;if(m!==null){const M=m.array;v=m.version;for(let w=0,S=M.length;w<S;w+=3){const T=M[w+0],A=M[w+1],R=M[w+2];f.push(T,A,A,R,R,T)}}else{const M=_.array;v=_.version;for(let w=0,S=M.length/3-1;w<S;w+=3){const T=w+0,A=w+1,R=w+2;f.push(T,A,A,R,R,T)}}const x=new(tm(f)?am:Gf)(f,1);x.version=v;const y=s.get(d);y&&e.remove(y),s.set(d,x)}function h(d){const f=s.get(d);if(f){const m=d.index;m!==null&&f.version<m.version&&c(d)}else c(d);return s.get(d)}return{get:a,update:l,getWireframeAttribute:h}}function gP(r,e,t,n){const i=n.isWebGL2;let s;function o(f){s=f}let a,l;function c(f){a=f.type,l=f.bytesPerElement}function h(f,m){r.drawElements(s,m,a,f*l),t.update(m,s,1)}function d(f,m,_){if(_===0)return;let v,x;if(i)v=r,x="drawElementsInstanced";else if(v=e.get("ANGLE_instanced_arrays"),x="drawElementsInstancedANGLE",v===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}v[x](s,m,a,f*l,_),t.update(m,s,_)}this.setMode=o,this.setIndex=c,this.render=h,this.renderInstances=d}function _P(r){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function n(s,o,a){switch(t.calls++,o){case 4:t.triangles+=a*(s/3);break;case 1:t.lines+=a*(s/2);break;case 3:t.lines+=a*(s-1);break;case 2:t.lines+=a*s;break;case 0:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:n}}function vP(r,e){return r[0]-e[0]}function xP(r,e){return Math.abs(e[1])-Math.abs(r[1])}function bP(r,e,t){const n={},i=new Float32Array(8),s=new WeakMap,o=new It,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,h,d,f){const m=c.morphTargetInfluences;if(e.isWebGL2===!0){const v=h.morphAttributes.position||h.morphAttributes.normal||h.morphAttributes.color,x=v!==void 0?v.length:0;let y=s.get(h);if(y===void 0||y.count!==x){let W=function(){B.dispose(),s.delete(h),h.removeEventListener("dispose",W)};var _=W;y!==void 0&&y.texture.dispose();const S=h.morphAttributes.position!==void 0,T=h.morphAttributes.normal!==void 0,A=h.morphAttributes.color!==void 0,R=h.morphAttributes.position||[],E=h.morphAttributes.normal||[],L=h.morphAttributes.color||[];let k=0;S===!0&&(k=1),T===!0&&(k=2),A===!0&&(k=3);let H=h.attributes.position.count*k,te=1;H>e.maxTextureSize&&(te=Math.ceil(H/e.maxTextureSize),H=e.maxTextureSize);const q=new Float32Array(H*te*4*x),B=new sm(q,H,te,x);B.type=Js,B.needsUpdate=!0;const N=k*4;for(let V=0;V<x;V++){const Y=R[V],X=E[V],O=L[V],de=H*te*4*V;for(let _e=0;_e<Y.count;_e++){const pe=_e*N;S===!0&&(o.fromBufferAttribute(Y,_e),q[de+pe+0]=o.x,q[de+pe+1]=o.y,q[de+pe+2]=o.z,q[de+pe+3]=0),T===!0&&(o.fromBufferAttribute(X,_e),q[de+pe+4]=o.x,q[de+pe+5]=o.y,q[de+pe+6]=o.z,q[de+pe+7]=0),A===!0&&(o.fromBufferAttribute(O,_e),q[de+pe+8]=o.x,q[de+pe+9]=o.y,q[de+pe+10]=o.z,q[de+pe+11]=O.itemSize===4?o.w:1)}}y={count:x,texture:B,size:new Ie(H,te)},s.set(h,y),h.addEventListener("dispose",W)}let M=0;for(let S=0;S<m.length;S++)M+=m[S];const w=h.morphTargetsRelative?1:1-M;f.getUniforms().setValue(r,"morphTargetBaseInfluence",w),f.getUniforms().setValue(r,"morphTargetInfluences",m),f.getUniforms().setValue(r,"morphTargetsTexture",y.texture,t),f.getUniforms().setValue(r,"morphTargetsTextureSize",y.size)}else{const v=m===void 0?0:m.length;let x=n[h.id];if(x===void 0||x.length!==v){x=[];for(let T=0;T<v;T++)x[T]=[T,0];n[h.id]=x}for(let T=0;T<v;T++){const A=x[T];A[0]=T,A[1]=m[T]}x.sort(xP);for(let T=0;T<8;T++)T<v&&x[T][1]?(a[T][0]=x[T][0],a[T][1]=x[T][1]):(a[T][0]=Number.MAX_SAFE_INTEGER,a[T][1]=0);a.sort(vP);const y=h.morphAttributes.position,M=h.morphAttributes.normal;let w=0;for(let T=0;T<8;T++){const A=a[T],R=A[0],E=A[1];R!==Number.MAX_SAFE_INTEGER&&E?(y&&h.getAttribute("morphTarget"+T)!==y[R]&&h.setAttribute("morphTarget"+T,y[R]),M&&h.getAttribute("morphNormal"+T)!==M[R]&&h.setAttribute("morphNormal"+T,M[R]),i[T]=E,w+=E):(y&&h.hasAttribute("morphTarget"+T)===!0&&h.deleteAttribute("morphTarget"+T),M&&h.hasAttribute("morphNormal"+T)===!0&&h.deleteAttribute("morphNormal"+T),i[T]=0)}const S=h.morphTargetsRelative?1:1-w;f.getUniforms().setValue(r,"morphTargetBaseInfluence",S),f.getUniforms().setValue(r,"morphTargetInfluences",i)}}return{update:l}}function yP(r,e,t,n){let i=new WeakMap;function s(l){const c=n.render.frame,h=l.geometry,d=e.get(l,h);return i.get(d)!==c&&(e.update(d),i.set(d,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),t.update(l.instanceMatrix,34962),l.instanceColor!==null&&t.update(l.instanceColor,34962)),d}function o(){i=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:o}}const hm=new Tn,dm=new sm,fm=new aT,pm=new cm,P9=[],L9=[],R9=new Float32Array(16),I9=new Float32Array(9),D9=new Float32Array(4);function pl(r,e,t){const n=r[0];if(n<=0||n>0)return r;const i=e*t;let s=P9[i];if(s===void 0&&(s=new Float32Array(i),P9[i]=s),e!==0){n.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,r[o].toArray(s,a)}return s}function Cn(r,e){if(r.length!==e.length)return!1;for(let t=0,n=r.length;t<n;t++)if(r[t]!==e[t])return!1;return!0}function An(r,e){for(let t=0,n=e.length;t<n;t++)r[t]=e[t]}function qu(r,e){let t=L9[e];t===void 0&&(t=new Int32Array(e),L9[e]=t);for(let n=0;n!==e;++n)t[n]=r.allocateTextureUnit();return t}function wP(r,e){const t=this.cache;t[0]!==e&&(r.uniform1f(this.addr,e),t[0]=e)}function SP(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(r.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Cn(t,e))return;r.uniform2fv(this.addr,e),An(t,e)}}function MP(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(r.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(r.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Cn(t,e))return;r.uniform3fv(this.addr,e),An(t,e)}}function EP(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(r.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Cn(t,e))return;r.uniform4fv(this.addr,e),An(t,e)}}function TP(r,e){const t=this.cache,n=e.elements;if(n===void 0){if(Cn(t,e))return;r.uniformMatrix2fv(this.addr,!1,e),An(t,e)}else{if(Cn(t,n))return;D9.set(n),r.uniformMatrix2fv(this.addr,!1,D9),An(t,n)}}function CP(r,e){const t=this.cache,n=e.elements;if(n===void 0){if(Cn(t,e))return;r.uniformMatrix3fv(this.addr,!1,e),An(t,e)}else{if(Cn(t,n))return;I9.set(n),r.uniformMatrix3fv(this.addr,!1,I9),An(t,n)}}function AP(r,e){const t=this.cache,n=e.elements;if(n===void 0){if(Cn(t,e))return;r.uniformMatrix4fv(this.addr,!1,e),An(t,e)}else{if(Cn(t,n))return;R9.set(n),r.uniformMatrix4fv(this.addr,!1,R9),An(t,n)}}function PP(r,e){const t=this.cache;t[0]!==e&&(r.uniform1i(this.addr,e),t[0]=e)}function LP(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(r.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Cn(t,e))return;r.uniform2iv(this.addr,e),An(t,e)}}function RP(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(r.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Cn(t,e))return;r.uniform3iv(this.addr,e),An(t,e)}}function IP(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(r.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Cn(t,e))return;r.uniform4iv(this.addr,e),An(t,e)}}function DP(r,e){const t=this.cache;t[0]!==e&&(r.uniform1ui(this.addr,e),t[0]=e)}function kP(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(r.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Cn(t,e))return;r.uniform2uiv(this.addr,e),An(t,e)}}function OP(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(r.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Cn(t,e))return;r.uniform3uiv(this.addr,e),An(t,e)}}function FP(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(r.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Cn(t,e))return;r.uniform4uiv(this.addr,e),An(t,e)}}function NP(r,e,t){const n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(r.uniform1i(this.addr,i),n[0]=i),t.setTexture2D(e||hm,i)}function zP(r,e,t){const n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(r.uniform1i(this.addr,i),n[0]=i),t.setTexture3D(e||fm,i)}function BP(r,e,t){const n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(r.uniform1i(this.addr,i),n[0]=i),t.setTextureCube(e||pm,i)}function UP(r,e,t){const n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(r.uniform1i(this.addr,i),n[0]=i),t.setTexture2DArray(e||dm,i)}function VP(r){switch(r){case 5126:return wP;case 35664:return SP;case 35665:return MP;case 35666:return EP;case 35674:return TP;case 35675:return CP;case 35676:return AP;case 5124:case 35670:return PP;case 35667:case 35671:return LP;case 35668:case 35672:return RP;case 35669:case 35673:return IP;case 5125:return DP;case 36294:return kP;case 36295:return OP;case 36296:return FP;case 35678:case 36198:case 36298:case 36306:case 35682:return NP;case 35679:case 36299:case 36307:return zP;case 35680:case 36300:case 36308:case 36293:return BP;case 36289:case 36303:case 36311:case 36292:return UP}}function HP(r,e){r.uniform1fv(this.addr,e)}function GP(r,e){const t=pl(e,this.size,2);r.uniform2fv(this.addr,t)}function WP(r,e){const t=pl(e,this.size,3);r.uniform3fv(this.addr,t)}function jP(r,e){const t=pl(e,this.size,4);r.uniform4fv(this.addr,t)}function qP(r,e){const t=pl(e,this.size,4);r.uniformMatrix2fv(this.addr,!1,t)}function XP(r,e){const t=pl(e,this.size,9);r.uniformMatrix3fv(this.addr,!1,t)}function $P(r,e){const t=pl(e,this.size,16);r.uniformMatrix4fv(this.addr,!1,t)}function KP(r,e){r.uniform1iv(this.addr,e)}function YP(r,e){r.uniform2iv(this.addr,e)}function ZP(r,e){r.uniform3iv(this.addr,e)}function QP(r,e){r.uniform4iv(this.addr,e)}function JP(r,e){r.uniform1uiv(this.addr,e)}function eL(r,e){r.uniform2uiv(this.addr,e)}function tL(r,e){r.uniform3uiv(this.addr,e)}function nL(r,e){r.uniform4uiv(this.addr,e)}function iL(r,e,t){const n=this.cache,i=e.length,s=qu(t,i);Cn(n,s)||(r.uniform1iv(this.addr,s),An(n,s));for(let o=0;o!==i;++o)t.setTexture2D(e[o]||hm,s[o])}function rL(r,e,t){const n=this.cache,i=e.length,s=qu(t,i);Cn(n,s)||(r.uniform1iv(this.addr,s),An(n,s));for(let o=0;o!==i;++o)t.setTexture3D(e[o]||fm,s[o])}function sL(r,e,t){const n=this.cache,i=e.length,s=qu(t,i);Cn(n,s)||(r.uniform1iv(this.addr,s),An(n,s));for(let o=0;o!==i;++o)t.setTextureCube(e[o]||pm,s[o])}function oL(r,e,t){const n=this.cache,i=e.length,s=qu(t,i);Cn(n,s)||(r.uniform1iv(this.addr,s),An(n,s));for(let o=0;o!==i;++o)t.setTexture2DArray(e[o]||dm,s[o])}function aL(r){switch(r){case 5126:return HP;case 35664:return GP;case 35665:return WP;case 35666:return jP;case 35674:return qP;case 35675:return XP;case 35676:return $P;case 5124:case 35670:return KP;case 35667:case 35671:return YP;case 35668:case 35672:return ZP;case 35669:case 35673:return QP;case 5125:return JP;case 36294:return eL;case 36295:return tL;case 36296:return nL;case 35678:case 36198:case 36298:case 36306:case 35682:return iL;case 35679:case 36299:case 36307:return rL;case 35680:case 36300:case 36308:case 36293:return sL;case 36289:case 36303:case 36311:case 36292:return oL}}class lL{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=VP(t.type)}}class cL{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=aL(t.type)}}class uL{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,t[a.id],n)}}}const _h=/(\w+)(\])?(\[|\.)?/g;function k9(r,e){r.seq.push(e),r.map[e.id]=e}function hL(r,e,t){const n=r.name,i=n.length;for(_h.lastIndex=0;;){const s=_h.exec(n),o=_h.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===i){k9(t,c===void 0?new lL(a,r,e):new cL(a,r,e));break}else{let d=t.map[a];d===void 0&&(d=new uL(a),k9(t,d)),t=d}}}class D2{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,35718);for(let i=0;i<n;++i){const s=e.getActiveUniform(t,i),o=e.getUniformLocation(t,s.name);hL(s,o,this)}}setValue(e,t,n,i){const s=this.map[t];s!==void 0&&s.setValue(e,n,i)}setOptional(e,t,n){const i=t[n];i!==void 0&&this.setValue(e,n,i)}static upload(e,t,n,i){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=n[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,t){const n=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in t&&n.push(o)}return n}}function O9(r,e,t){const n=r.createShader(e);return r.shaderSource(n,t),r.compileShader(n),n}let dL=0;function fL(r,e){const t=r.split(`
`),n=[],i=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=i;o<s;o++){const a=o+1;n.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return n.join(`
`)}function pL(r){switch(r){case pa:return["Linear","( value )"];case pt:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",r),["Linear","( value )"]}}function F9(r,e,t){const n=r.getShaderParameter(e,35713),i=r.getShaderInfoLog(e).trim();if(n&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+i+`

`+fL(r.getShaderSource(e),o)}else return i}function mL(r,e){const t=pL(e);return"vec4 "+r+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function gL(r,e){let t;switch(e){case xE:t="Linear";break;case bE:t="Reinhard";break;case K7:t="OptimizedCineon";break;case yE:t="ACESFilmic";break;case wE:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+r+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function _L(r){return[r.extensionDerivatives||!!r.envMapCubeUVHeight||r.bumpMap||r.tangentSpaceNormalMap||r.clearcoatNormalMap||r.flatShading||r.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(r.extensionFragDepth||r.logarithmicDepthBuffer)&&r.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",r.extensionDrawBuffers&&r.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(r.extensionShaderTextureLOD||r.envMap||r.transmission)&&r.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(ic).join(`
`)}function vL(r){const e=[];for(const t in r){const n=r[t];n!==!1&&e.push("#define "+t+" "+n)}return e.join(`
`)}function xL(r,e){const t={},n=r.getProgramParameter(e,35721);for(let i=0;i<n;i++){const s=r.getActiveAttrib(e,i),o=s.name;let a=1;s.type===35674&&(a=2),s.type===35675&&(a=3),s.type===35676&&(a=4),t[o]={type:s.type,location:r.getAttribLocation(e,o),locationSize:a}}return t}function ic(r){return r!==""}function N9(r,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return r.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function z9(r,e){return r.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const bL=/^[ \t]*#include +<([\w\d./]+)>/gm;function bd(r){return r.replace(bL,yL)}function yL(r,e){const t=ft[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return bd(t)}const wL=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function B9(r){return r.replace(wL,SL)}function SL(r,e,t,n){let i="";for(let s=parseInt(e);s<parseInt(t);s++)i+=n.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function U9(r){let e="precision "+r.precision+` float;
precision `+r.precision+" int;";return r.precision==="highp"?e+=`
#define HIGH_PRECISION`:r.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:r.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function ML(r){let e="SHADOWMAP_TYPE_BASIC";return r.shadowMapType===q7?e="SHADOWMAP_TYPE_PCF":r.shadowMapType===Bf?e="SHADOWMAP_TYPE_PCF_SOFT":r.shadowMapType===nc&&(e="SHADOWMAP_TYPE_VSM"),e}function EL(r){let e="ENVMAP_TYPE_CUBE";if(r.envMap)switch(r.envMapMode){case B1:case U1:e="ENVMAP_TYPE_CUBE";break;case ju:e="ENVMAP_TYPE_CUBE_UV";break}return e}function TL(r){let e="ENVMAP_MODE_REFLECTION";if(r.envMap)switch(r.envMapMode){case U1:e="ENVMAP_MODE_REFRACTION";break}return e}function CL(r){let e="ENVMAP_BLENDING_NONE";if(r.envMap)switch(r.combine){case Wu:e="ENVMAP_BLENDING_MULTIPLY";break;case _E:e="ENVMAP_BLENDING_MIX";break;case vE:e="ENVMAP_BLENDING_ADD";break}return e}function AL(r){const e=r.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,n=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:n,maxMip:t}}function PL(r,e,t,n){const i=r.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=ML(t),c=EL(t),h=TL(t),d=CL(t),f=AL(t),m=t.isWebGL2?"":_L(t),_=vL(s),v=i.createProgram();let x,y,M=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(x=[_].filter(ic).join(`
`),x.length>0&&(x+=`
`),y=[m,_].filter(ic).join(`
`),y.length>0&&(y+=`
`)):(x=[U9(t),"#define SHADER_NAME "+t.shaderName,_,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+h:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(ic).join(`
`),y=[m,U9(t),"#define SHADER_NAME "+t.shaderName,_,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+h:"",t.envMap?"#define "+d:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Ss?"#define TONE_MAPPING":"",t.toneMapping!==Ss?ft.tonemapping_pars_fragment:"",t.toneMapping!==Ss?gL("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",ft.encodings_pars_fragment,mL("linearToOutputTexel",t.outputEncoding),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(ic).join(`
`)),o=bd(o),o=N9(o,t),o=z9(o,t),a=bd(a),a=N9(a,t),a=z9(a,t),o=B9(o),a=B9(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(M=`#version 300 es
`,x=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+x,y=["#define varying in",t.glslVersion===u9?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===u9?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+y);const w=M+x+o,S=M+y+a,T=O9(i,35633,w),A=O9(i,35632,S);if(i.attachShader(v,T),i.attachShader(v,A),t.index0AttributeName!==void 0?i.bindAttribLocation(v,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(v,0,"position"),i.linkProgram(v),r.debug.checkShaderErrors){const L=i.getProgramInfoLog(v).trim(),k=i.getShaderInfoLog(T).trim(),H=i.getShaderInfoLog(A).trim();let te=!0,q=!0;if(i.getProgramParameter(v,35714)===!1){te=!1;const B=F9(i,T,"vertex"),N=F9(i,A,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(v,35715)+`

Program Info Log: `+L+`
`+B+`
`+N)}else L!==""?console.warn("THREE.WebGLProgram: Program Info Log:",L):(k===""||H==="")&&(q=!1);q&&(this.diagnostics={runnable:te,programLog:L,vertexShader:{log:k,prefix:x},fragmentShader:{log:H,prefix:y}})}i.deleteShader(T),i.deleteShader(A);let R;this.getUniforms=function(){return R===void 0&&(R=new D2(i,v)),R};let E;return this.getAttributes=function(){return E===void 0&&(E=xL(i,v)),E},this.destroy=function(){n.releaseStatesOfProgram(this),i.deleteProgram(v),this.program=void 0},this.name=t.shaderName,this.id=dL++,this.cacheKey=e,this.usedTimes=1,this.program=v,this.vertexShader=T,this.fragmentShader=A,this}let LL=0;class RL{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,i=this._getShaderStage(t),s=this._getShaderStage(n),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,n.usedTimes===0&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return n===void 0&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return n===void 0&&(n=new IL(e),t.set(e,n)),n}}class IL{constructor(e){this.id=LL++,this.code=e,this.usedTimes=0}}function DL(r,e,t,n,i,s,o){const a=new om,l=new RL,c=[],h=i.isWebGL2,d=i.logarithmicDepthBuffer,f=i.vertexTextures;let m=i.precision;const _={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function v(E,L,k,H,te){const q=H.fog,B=te.geometry,N=E.isMeshStandardMaterial?H.environment:null,W=(E.isMeshStandardMaterial?t:e).get(E.envMap||N),V=!!W&&W.mapping===ju?W.image.height:null,Y=_[E.type];E.precision!==null&&(m=i.getMaxPrecision(E.precision),m!==E.precision&&console.warn("THREE.WebGLProgram.getParameters:",E.precision,"not supported, using",m,"instead."));const X=B.morphAttributes.position||B.morphAttributes.normal||B.morphAttributes.color,O=X!==void 0?X.length:0;let de=0;B.morphAttributes.position!==void 0&&(de=1),B.morphAttributes.normal!==void 0&&(de=2),B.morphAttributes.color!==void 0&&(de=3);let _e,pe,Ee,se;if(Y){const ve=zr[Y];_e=ve.vertexShader,pe=ve.fragmentShader}else _e=E.vertexShader,pe=E.fragmentShader,l.update(E),Ee=l.getVertexShaderID(E),se=l.getFragmentShaderID(E);const ie=r.getRenderTarget(),J=E.alphaTest>0,z=E.clearcoat>0,$=E.iridescence>0;return{isWebGL2:h,shaderID:Y,shaderName:E.type,vertexShader:_e,fragmentShader:pe,defines:E.defines,customVertexShaderID:Ee,customFragmentShaderID:se,isRawShaderMaterial:E.isRawShaderMaterial===!0,glslVersion:E.glslVersion,precision:m,instancing:te.isInstancedMesh===!0,instancingColor:te.isInstancedMesh===!0&&te.instanceColor!==null,supportsVertexTextures:f,outputEncoding:ie===null?r.outputEncoding:ie.isXRRenderTarget===!0?ie.texture.encoding:pa,map:!!E.map,matcap:!!E.matcap,envMap:!!W,envMapMode:W&&W.mapping,envMapCubeUVHeight:V,lightMap:!!E.lightMap,aoMap:!!E.aoMap,emissiveMap:!!E.emissiveMap,bumpMap:!!E.bumpMap,normalMap:!!E.normalMap,objectSpaceNormalMap:E.normalMapType===jE,tangentSpaceNormalMap:E.normalMapType===c0,decodeVideoTexture:!!E.map&&E.map.isVideoTexture===!0&&E.map.encoding===pt,clearcoat:z,clearcoatMap:z&&!!E.clearcoatMap,clearcoatRoughnessMap:z&&!!E.clearcoatRoughnessMap,clearcoatNormalMap:z&&!!E.clearcoatNormalMap,iridescence:$,iridescenceMap:$&&!!E.iridescenceMap,iridescenceThicknessMap:$&&!!E.iridescenceThicknessMap,displacementMap:!!E.displacementMap,roughnessMap:!!E.roughnessMap,metalnessMap:!!E.metalnessMap,specularMap:!!E.specularMap,specularIntensityMap:!!E.specularIntensityMap,specularColorMap:!!E.specularColorMap,opaque:E.transparent===!1&&E.blending===C1,alphaMap:!!E.alphaMap,alphaTest:J,gradientMap:!!E.gradientMap,sheen:E.sheen>0,sheenColorMap:!!E.sheenColorMap,sheenRoughnessMap:!!E.sheenRoughnessMap,transmission:E.transmission>0,transmissionMap:!!E.transmissionMap,thicknessMap:!!E.thicknessMap,combine:E.combine,vertexTangents:!!E.normalMap&&!!B.attributes.tangent,vertexColors:E.vertexColors,vertexAlphas:E.vertexColors===!0&&!!B.attributes.color&&B.attributes.color.itemSize===4,vertexUvs:!!E.map||!!E.bumpMap||!!E.normalMap||!!E.specularMap||!!E.alphaMap||!!E.emissiveMap||!!E.roughnessMap||!!E.metalnessMap||!!E.clearcoatMap||!!E.clearcoatRoughnessMap||!!E.clearcoatNormalMap||!!E.iridescenceMap||!!E.iridescenceThicknessMap||!!E.displacementMap||!!E.transmissionMap||!!E.thicknessMap||!!E.specularIntensityMap||!!E.specularColorMap||!!E.sheenColorMap||!!E.sheenRoughnessMap,uvsVertexOnly:!(!!E.map||!!E.bumpMap||!!E.normalMap||!!E.specularMap||!!E.alphaMap||!!E.emissiveMap||!!E.roughnessMap||!!E.metalnessMap||!!E.clearcoatNormalMap||!!E.iridescenceMap||!!E.iridescenceThicknessMap||E.transmission>0||!!E.transmissionMap||!!E.thicknessMap||!!E.specularIntensityMap||!!E.specularColorMap||E.sheen>0||!!E.sheenColorMap||!!E.sheenRoughnessMap)&&!!E.displacementMap,fog:!!q,useFog:E.fog===!0,fogExp2:q&&q.isFogExp2,flatShading:!!E.flatShading,sizeAttenuation:E.sizeAttenuation,logarithmicDepthBuffer:d,skinning:te.isSkinnedMesh===!0,morphTargets:B.morphAttributes.position!==void 0,morphNormals:B.morphAttributes.normal!==void 0,morphColors:B.morphAttributes.color!==void 0,morphTargetsCount:O,morphTextureStride:de,numDirLights:L.directional.length,numPointLights:L.point.length,numSpotLights:L.spot.length,numSpotLightMaps:L.spotLightMap.length,numRectAreaLights:L.rectArea.length,numHemiLights:L.hemi.length,numDirLightShadows:L.directionalShadowMap.length,numPointLightShadows:L.pointShadowMap.length,numSpotLightShadows:L.spotShadowMap.length,numSpotLightShadowsWithMaps:L.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:E.dithering,shadowMapEnabled:r.shadowMap.enabled&&k.length>0,shadowMapType:r.shadowMap.type,toneMapping:E.toneMapped?r.toneMapping:Ss,physicallyCorrectLights:r.physicallyCorrectLights,premultipliedAlpha:E.premultipliedAlpha,doubleSided:E.side===_s,flipSided:E.side===Bi,useDepthPacking:!!E.depthPacking,depthPacking:E.depthPacking||0,index0AttributeName:E.index0AttributeName,extensionDerivatives:E.extensions&&E.extensions.derivatives,extensionFragDepth:E.extensions&&E.extensions.fragDepth,extensionDrawBuffers:E.extensions&&E.extensions.drawBuffers,extensionShaderTextureLOD:E.extensions&&E.extensions.shaderTextureLOD,rendererExtensionFragDepth:h||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:h||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:h||n.has("EXT_shader_texture_lod"),customProgramCacheKey:E.customProgramCacheKey()}}function x(E){const L=[];if(E.shaderID?L.push(E.shaderID):(L.push(E.customVertexShaderID),L.push(E.customFragmentShaderID)),E.defines!==void 0)for(const k in E.defines)L.push(k),L.push(E.defines[k]);return E.isRawShaderMaterial===!1&&(y(L,E),M(L,E),L.push(r.outputEncoding)),L.push(E.customProgramCacheKey),L.join()}function y(E,L){E.push(L.precision),E.push(L.outputEncoding),E.push(L.envMapMode),E.push(L.envMapCubeUVHeight),E.push(L.combine),E.push(L.vertexUvs),E.push(L.fogExp2),E.push(L.sizeAttenuation),E.push(L.morphTargetsCount),E.push(L.morphAttributeCount),E.push(L.numDirLights),E.push(L.numPointLights),E.push(L.numSpotLights),E.push(L.numSpotLightMaps),E.push(L.numHemiLights),E.push(L.numRectAreaLights),E.push(L.numDirLightShadows),E.push(L.numPointLightShadows),E.push(L.numSpotLightShadows),E.push(L.numSpotLightShadowsWithMaps),E.push(L.shadowMapType),E.push(L.toneMapping),E.push(L.numClippingPlanes),E.push(L.numClipIntersection),E.push(L.depthPacking)}function M(E,L){a.disableAll(),L.isWebGL2&&a.enable(0),L.supportsVertexTextures&&a.enable(1),L.instancing&&a.enable(2),L.instancingColor&&a.enable(3),L.map&&a.enable(4),L.matcap&&a.enable(5),L.envMap&&a.enable(6),L.lightMap&&a.enable(7),L.aoMap&&a.enable(8),L.emissiveMap&&a.enable(9),L.bumpMap&&a.enable(10),L.normalMap&&a.enable(11),L.objectSpaceNormalMap&&a.enable(12),L.tangentSpaceNormalMap&&a.enable(13),L.clearcoat&&a.enable(14),L.clearcoatMap&&a.enable(15),L.clearcoatRoughnessMap&&a.enable(16),L.clearcoatNormalMap&&a.enable(17),L.iridescence&&a.enable(18),L.iridescenceMap&&a.enable(19),L.iridescenceThicknessMap&&a.enable(20),L.displacementMap&&a.enable(21),L.specularMap&&a.enable(22),L.roughnessMap&&a.enable(23),L.metalnessMap&&a.enable(24),L.gradientMap&&a.enable(25),L.alphaMap&&a.enable(26),L.alphaTest&&a.enable(27),L.vertexColors&&a.enable(28),L.vertexAlphas&&a.enable(29),L.vertexUvs&&a.enable(30),L.vertexTangents&&a.enable(31),L.uvsVertexOnly&&a.enable(32),E.push(a.mask),a.disableAll(),L.fog&&a.enable(0),L.useFog&&a.enable(1),L.flatShading&&a.enable(2),L.logarithmicDepthBuffer&&a.enable(3),L.skinning&&a.enable(4),L.morphTargets&&a.enable(5),L.morphNormals&&a.enable(6),L.morphColors&&a.enable(7),L.premultipliedAlpha&&a.enable(8),L.shadowMapEnabled&&a.enable(9),L.physicallyCorrectLights&&a.enable(10),L.doubleSided&&a.enable(11),L.flipSided&&a.enable(12),L.useDepthPacking&&a.enable(13),L.dithering&&a.enable(14),L.specularIntensityMap&&a.enable(15),L.specularColorMap&&a.enable(16),L.transmission&&a.enable(17),L.transmissionMap&&a.enable(18),L.thicknessMap&&a.enable(19),L.sheen&&a.enable(20),L.sheenColorMap&&a.enable(21),L.sheenRoughnessMap&&a.enable(22),L.decodeVideoTexture&&a.enable(23),L.opaque&&a.enable(24),E.push(a.mask)}function w(E){const L=_[E.type];let k;if(L){const H=zr[L];k=xT.clone(H.uniforms)}else k=E.uniforms;return k}function S(E,L){let k;for(let H=0,te=c.length;H<te;H++){const q=c[H];if(q.cacheKey===L){k=q,++k.usedTimes;break}}return k===void 0&&(k=new PL(r,L,E,s),c.push(k)),k}function T(E){if(--E.usedTimes===0){const L=c.indexOf(E);c[L]=c[c.length-1],c.pop(),E.destroy()}}function A(E){l.remove(E)}function R(){l.dispose()}return{getParameters:v,getProgramCacheKey:x,getUniforms:w,acquireProgram:S,releaseProgram:T,releaseShaderCache:A,programs:c,dispose:R}}function kL(){let r=new WeakMap;function e(s){let o=r.get(s);return o===void 0&&(o={},r.set(s,o)),o}function t(s){r.delete(s)}function n(s,o,a){r.get(s)[o]=a}function i(){r=new WeakMap}return{get:e,remove:t,update:n,dispose:i}}function OL(r,e){return r.groupOrder!==e.groupOrder?r.groupOrder-e.groupOrder:r.renderOrder!==e.renderOrder?r.renderOrder-e.renderOrder:r.material.id!==e.material.id?r.material.id-e.material.id:r.z!==e.z?r.z-e.z:r.id-e.id}function V9(r,e){return r.groupOrder!==e.groupOrder?r.groupOrder-e.groupOrder:r.renderOrder!==e.renderOrder?r.renderOrder-e.renderOrder:r.z!==e.z?e.z-r.z:r.id-e.id}function H9(){const r=[];let e=0;const t=[],n=[],i=[];function s(){e=0,t.length=0,n.length=0,i.length=0}function o(d,f,m,_,v,x){let y=r[e];return y===void 0?(y={id:d.id,object:d,geometry:f,material:m,groupOrder:_,renderOrder:d.renderOrder,z:v,group:x},r[e]=y):(y.id=d.id,y.object=d,y.geometry=f,y.material=m,y.groupOrder=_,y.renderOrder=d.renderOrder,y.z=v,y.group=x),e++,y}function a(d,f,m,_,v,x){const y=o(d,f,m,_,v,x);m.transmission>0?n.push(y):m.transparent===!0?i.push(y):t.push(y)}function l(d,f,m,_,v,x){const y=o(d,f,m,_,v,x);m.transmission>0?n.unshift(y):m.transparent===!0?i.unshift(y):t.unshift(y)}function c(d,f){t.length>1&&t.sort(d||OL),n.length>1&&n.sort(f||V9),i.length>1&&i.sort(f||V9)}function h(){for(let d=e,f=r.length;d<f;d++){const m=r[d];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:n,transparent:i,init:s,push:a,unshift:l,finish:h,sort:c}}function FL(){let r=new WeakMap;function e(n,i){const s=r.get(n);let o;return s===void 0?(o=new H9,r.set(n,[o])):i>=s.length?(o=new H9,s.push(o)):o=s[i],o}function t(){r=new WeakMap}return{get:e,dispose:t}}function NL(){const r={};return{get:function(e){if(r[e.id]!==void 0)return r[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new Z,color:new je};break;case"SpotLight":t={position:new Z,direction:new Z,color:new je,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new Z,color:new je,distance:0,decay:0};break;case"HemisphereLight":t={direction:new Z,skyColor:new je,groundColor:new je};break;case"RectAreaLight":t={color:new je,position:new Z,halfWidth:new Z,halfHeight:new Z};break}return r[e.id]=t,t}}}function zL(){const r={};return{get:function(e){if(r[e.id]!==void 0)return r[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ie};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ie};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ie,shadowCameraNear:1,shadowCameraFar:1e3};break}return r[e.id]=t,t}}}let BL=0;function UL(r,e){return(e.castShadow?2:0)-(r.castShadow?2:0)+(e.map?1:0)-(r.map?1:0)}function VL(r,e){const t=new NL,n=zL(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let h=0;h<9;h++)i.probe.push(new Z);const s=new Z,o=new Ke,a=new Ke;function l(h,d){let f=0,m=0,_=0;for(let H=0;H<9;H++)i.probe[H].set(0,0,0);let v=0,x=0,y=0,M=0,w=0,S=0,T=0,A=0,R=0,E=0;h.sort(UL);const L=d!==!0?Math.PI:1;for(let H=0,te=h.length;H<te;H++){const q=h[H],B=q.color,N=q.intensity,W=q.distance,V=q.shadow&&q.shadow.map?q.shadow.map.texture:null;if(q.isAmbientLight)f+=B.r*N*L,m+=B.g*N*L,_+=B.b*N*L;else if(q.isLightProbe)for(let Y=0;Y<9;Y++)i.probe[Y].addScaledVector(q.sh.coefficients[Y],N);else if(q.isDirectionalLight){const Y=t.get(q);if(Y.color.copy(q.color).multiplyScalar(q.intensity*L),q.castShadow){const X=q.shadow,O=n.get(q);O.shadowBias=X.bias,O.shadowNormalBias=X.normalBias,O.shadowRadius=X.radius,O.shadowMapSize=X.mapSize,i.directionalShadow[v]=O,i.directionalShadowMap[v]=V,i.directionalShadowMatrix[v]=q.shadow.matrix,S++}i.directional[v]=Y,v++}else if(q.isSpotLight){const Y=t.get(q);Y.position.setFromMatrixPosition(q.matrixWorld),Y.color.copy(B).multiplyScalar(N*L),Y.distance=W,Y.coneCos=Math.cos(q.angle),Y.penumbraCos=Math.cos(q.angle*(1-q.penumbra)),Y.decay=q.decay,i.spot[y]=Y;const X=q.shadow;if(q.map&&(i.spotLightMap[R]=q.map,R++,X.updateMatrices(q),q.castShadow&&E++),i.spotLightMatrix[y]=X.matrix,q.castShadow){const O=n.get(q);O.shadowBias=X.bias,O.shadowNormalBias=X.normalBias,O.shadowRadius=X.radius,O.shadowMapSize=X.mapSize,i.spotShadow[y]=O,i.spotShadowMap[y]=V,A++}y++}else if(q.isRectAreaLight){const Y=t.get(q);Y.color.copy(B).multiplyScalar(N),Y.halfWidth.set(q.width*.5,0,0),Y.halfHeight.set(0,q.height*.5,0),i.rectArea[M]=Y,M++}else if(q.isPointLight){const Y=t.get(q);if(Y.color.copy(q.color).multiplyScalar(q.intensity*L),Y.distance=q.distance,Y.decay=q.decay,q.castShadow){const X=q.shadow,O=n.get(q);O.shadowBias=X.bias,O.shadowNormalBias=X.normalBias,O.shadowRadius=X.radius,O.shadowMapSize=X.mapSize,O.shadowCameraNear=X.camera.near,O.shadowCameraFar=X.camera.far,i.pointShadow[x]=O,i.pointShadowMap[x]=V,i.pointShadowMatrix[x]=q.shadow.matrix,T++}i.point[x]=Y,x++}else if(q.isHemisphereLight){const Y=t.get(q);Y.skyColor.copy(q.color).multiplyScalar(N*L),Y.groundColor.copy(q.groundColor).multiplyScalar(N*L),i.hemi[w]=Y,w++}}M>0&&(e.isWebGL2||r.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Ne.LTC_FLOAT_1,i.rectAreaLTC2=Ne.LTC_FLOAT_2):r.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=Ne.LTC_HALF_1,i.rectAreaLTC2=Ne.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=f,i.ambient[1]=m,i.ambient[2]=_;const k=i.hash;(k.directionalLength!==v||k.pointLength!==x||k.spotLength!==y||k.rectAreaLength!==M||k.hemiLength!==w||k.numDirectionalShadows!==S||k.numPointShadows!==T||k.numSpotShadows!==A||k.numSpotMaps!==R)&&(i.directional.length=v,i.spot.length=y,i.rectArea.length=M,i.point.length=x,i.hemi.length=w,i.directionalShadow.length=S,i.directionalShadowMap.length=S,i.pointShadow.length=T,i.pointShadowMap.length=T,i.spotShadow.length=A,i.spotShadowMap.length=A,i.directionalShadowMatrix.length=S,i.pointShadowMatrix.length=T,i.spotLightMatrix.length=A+R-E,i.spotLightMap.length=R,i.numSpotLightShadowsWithMaps=E,k.directionalLength=v,k.pointLength=x,k.spotLength=y,k.rectAreaLength=M,k.hemiLength=w,k.numDirectionalShadows=S,k.numPointShadows=T,k.numSpotShadows=A,k.numSpotMaps=R,i.version=BL++)}function c(h,d){let f=0,m=0,_=0,v=0,x=0;const y=d.matrixWorldInverse;for(let M=0,w=h.length;M<w;M++){const S=h[M];if(S.isDirectionalLight){const T=i.directional[f];T.direction.setFromMatrixPosition(S.matrixWorld),s.setFromMatrixPosition(S.target.matrixWorld),T.direction.sub(s),T.direction.transformDirection(y),f++}else if(S.isSpotLight){const T=i.spot[_];T.position.setFromMatrixPosition(S.matrixWorld),T.position.applyMatrix4(y),T.direction.setFromMatrixPosition(S.matrixWorld),s.setFromMatrixPosition(S.target.matrixWorld),T.direction.sub(s),T.direction.transformDirection(y),_++}else if(S.isRectAreaLight){const T=i.rectArea[v];T.position.setFromMatrixPosition(S.matrixWorld),T.position.applyMatrix4(y),a.identity(),o.copy(S.matrixWorld),o.premultiply(y),a.extractRotation(o),T.halfWidth.set(S.width*.5,0,0),T.halfHeight.set(0,S.height*.5,0),T.halfWidth.applyMatrix4(a),T.halfHeight.applyMatrix4(a),v++}else if(S.isPointLight){const T=i.point[m];T.position.setFromMatrixPosition(S.matrixWorld),T.position.applyMatrix4(y),m++}else if(S.isHemisphereLight){const T=i.hemi[x];T.direction.setFromMatrixPosition(S.matrixWorld),T.direction.transformDirection(y),x++}}}return{setup:l,setupView:c,state:i}}function G9(r,e){const t=new VL(r,e),n=[],i=[];function s(){n.length=0,i.length=0}function o(d){n.push(d)}function a(d){i.push(d)}function l(d){t.setup(n,d)}function c(d){t.setupView(n,d)}return{init:s,state:{lightsArray:n,shadowsArray:i,lights:t},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function HL(r,e){let t=new WeakMap;function n(s,o=0){const a=t.get(s);let l;return a===void 0?(l=new G9(r,e),t.set(s,[l])):o>=a.length?(l=new G9(r,e),a.push(l)):l=a[o],l}function i(){t=new WeakMap}return{get:n,dispose:i}}class GL extends ar{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=GE,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class WL extends ar{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new Z,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const jL=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,qL=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function XL(r,e,t){let n=new Wf;const i=new Ie,s=new Ie,o=new It,a=new GL({depthPacking:WE}),l=new WL,c={},h=t.maxTextureSize,d={0:Bi,1:da,2:_s},f=new Yr({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ie},radius:{value:4}},vertexShader:jL,fragmentShader:qL}),m=f.clone();m.defines.HORIZONTAL_PASS=1;const _=new Xt;_.setAttribute("position",new jn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const v=new $t(_,f),x=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=q7,this.render=function(S,T,A){if(x.enabled===!1||x.autoUpdate===!1&&x.needsUpdate===!1||S.length===0)return;const R=r.getRenderTarget(),E=r.getActiveCubeFace(),L=r.getActiveMipmapLevel(),k=r.state;k.setBlending(lo),k.buffers.color.setClear(1,1,1,1),k.buffers.depth.setTest(!0),k.setScissorTest(!1);for(let H=0,te=S.length;H<te;H++){const q=S[H],B=q.shadow;if(B===void 0){console.warn("THREE.WebGLShadowMap:",q,"has no shadow.");continue}if(B.autoUpdate===!1&&B.needsUpdate===!1)continue;i.copy(B.mapSize);const N=B.getFrameExtents();if(i.multiply(N),s.copy(B.mapSize),(i.x>h||i.y>h)&&(i.x>h&&(s.x=Math.floor(h/N.x),i.x=s.x*N.x,B.mapSize.x=s.x),i.y>h&&(s.y=Math.floor(h/N.y),i.y=s.y*N.y,B.mapSize.y=s.y)),B.map===null){const V=this.type!==nc?{minFilter:Mn,magFilter:Mn}:{};B.map=new ma(i.x,i.y,V),B.map.texture.name=q.name+".shadowMap",B.camera.updateProjectionMatrix()}r.setRenderTarget(B.map),r.clear();const W=B.getViewportCount();for(let V=0;V<W;V++){const Y=B.getViewport(V);o.set(s.x*Y.x,s.y*Y.y,s.x*Y.z,s.y*Y.w),k.viewport(o),B.updateMatrices(q,V),n=B.getFrustum(),w(T,A,B.camera,q,this.type)}B.isPointLightShadow!==!0&&this.type===nc&&y(B,A),B.needsUpdate=!1}x.needsUpdate=!1,r.setRenderTarget(R,E,L)};function y(S,T){const A=e.update(v);f.defines.VSM_SAMPLES!==S.blurSamples&&(f.defines.VSM_SAMPLES=S.blurSamples,m.defines.VSM_SAMPLES=S.blurSamples,f.needsUpdate=!0,m.needsUpdate=!0),S.mapPass===null&&(S.mapPass=new ma(i.x,i.y)),f.uniforms.shadow_pass.value=S.map.texture,f.uniforms.resolution.value=S.mapSize,f.uniforms.radius.value=S.radius,r.setRenderTarget(S.mapPass),r.clear(),r.renderBufferDirect(T,null,A,f,v,null),m.uniforms.shadow_pass.value=S.mapPass.texture,m.uniforms.resolution.value=S.mapSize,m.uniforms.radius.value=S.radius,r.setRenderTarget(S.map),r.clear(),r.renderBufferDirect(T,null,A,m,v,null)}function M(S,T,A,R,E,L){let k=null;const H=A.isPointLight===!0?S.customDistanceMaterial:S.customDepthMaterial;if(H!==void 0?k=H:k=A.isPointLight===!0?l:a,r.localClippingEnabled&&T.clipShadows===!0&&Array.isArray(T.clippingPlanes)&&T.clippingPlanes.length!==0||T.displacementMap&&T.displacementScale!==0||T.alphaMap&&T.alphaTest>0){const te=k.uuid,q=T.uuid;let B=c[te];B===void 0&&(B={},c[te]=B);let N=B[q];N===void 0&&(N=k.clone(),B[q]=N),k=N}return k.visible=T.visible,k.wireframe=T.wireframe,L===nc?k.side=T.shadowSide!==null?T.shadowSide:T.side:k.side=T.shadowSide!==null?T.shadowSide:d[T.side],k.alphaMap=T.alphaMap,k.alphaTest=T.alphaTest,k.clipShadows=T.clipShadows,k.clippingPlanes=T.clippingPlanes,k.clipIntersection=T.clipIntersection,k.displacementMap=T.displacementMap,k.displacementScale=T.displacementScale,k.displacementBias=T.displacementBias,k.wireframeLinewidth=T.wireframeLinewidth,k.linewidth=T.linewidth,A.isPointLight===!0&&k.isMeshDistanceMaterial===!0&&(k.referencePosition.setFromMatrixPosition(A.matrixWorld),k.nearDistance=R,k.farDistance=E),k}function w(S,T,A,R,E){if(S.visible===!1)return;if(S.layers.test(T.layers)&&(S.isMesh||S.isLine||S.isPoints)&&(S.castShadow||S.receiveShadow&&E===nc)&&(!S.frustumCulled||n.intersectsObject(S))){S.modelViewMatrix.multiplyMatrices(A.matrixWorldInverse,S.matrixWorld);const H=e.update(S),te=S.material;if(Array.isArray(te)){const q=H.groups;for(let B=0,N=q.length;B<N;B++){const W=q[B],V=te[W.materialIndex];if(V&&V.visible){const Y=M(S,V,R,A.near,A.far,E);r.renderBufferDirect(A,null,H,Y,S,W)}}}else if(te.visible){const q=M(S,te,R,A.near,A.far,E);r.renderBufferDirect(A,null,H,q,S,null)}}const k=S.children;for(let H=0,te=k.length;H<te;H++)w(k[H],T,A,R,E)}}function $L(r,e,t){const n=t.isWebGL2;function i(){let le=!1;const Se=new It;let Ae=null;const ke=new It(0,0,0,0);return{setMask:function(We){Ae!==We&&!le&&(r.colorMask(We,We,We,We),Ae=We)},setLocked:function(We){le=We},setClear:function(We,it,Ut,Ft,lt){lt===!0&&(We*=Ft,it*=Ft,Ut*=Ft),Se.set(We,it,Ut,Ft),ke.equals(Se)===!1&&(r.clearColor(We,it,Ut,Ft),ke.copy(Se))},reset:function(){le=!1,Ae=null,ke.set(-1,0,0,0)}}}function s(){let le=!1,Se=null,Ae=null,ke=null;return{setTest:function(We){We?J(2929):z(2929)},setMask:function(We){Se!==We&&!le&&(r.depthMask(We),Se=We)},setFunc:function(We){if(Ae!==We){switch(We){case uE:r.depthFunc(512);break;case hE:r.depthFunc(519);break;case dE:r.depthFunc(513);break;case fd:r.depthFunc(515);break;case fE:r.depthFunc(514);break;case pE:r.depthFunc(518);break;case mE:r.depthFunc(516);break;case gE:r.depthFunc(517);break;default:r.depthFunc(515)}Ae=We}},setLocked:function(We){le=We},setClear:function(We){ke!==We&&(r.clearDepth(We),ke=We)},reset:function(){le=!1,Se=null,Ae=null,ke=null}}}function o(){let le=!1,Se=null,Ae=null,ke=null,We=null,it=null,Ut=null,Ft=null,lt=null;return{setTest:function(we){le||(we?J(2960):z(2960))},setMask:function(we){Se!==we&&!le&&(r.stencilMask(we),Se=we)},setFunc:function(we,Ve,Ue){(Ae!==we||ke!==Ve||We!==Ue)&&(r.stencilFunc(we,Ve,Ue),Ae=we,ke=Ve,We=Ue)},setOp:function(we,Ve,Ue){(it!==we||Ut!==Ve||Ft!==Ue)&&(r.stencilOp(we,Ve,Ue),it=we,Ut=Ve,Ft=Ue)},setLocked:function(we){le=we},setClear:function(we){lt!==we&&(r.clearStencil(we),lt=we)},reset:function(){le=!1,Se=null,Ae=null,ke=null,We=null,it=null,Ut=null,Ft=null,lt=null}}}const a=new i,l=new s,c=new o,h=new WeakMap,d=new WeakMap;let f={},m={},_=new WeakMap,v=[],x=null,y=!1,M=null,w=null,S=null,T=null,A=null,R=null,E=null,L=!1,k=null,H=null,te=null,q=null,B=null;const N=r.getParameter(35661);let W=!1,V=0;const Y=r.getParameter(7938);Y.indexOf("WebGL")!==-1?(V=parseFloat(/^WebGL (\d)/.exec(Y)[1]),W=V>=1):Y.indexOf("OpenGL ES")!==-1&&(V=parseFloat(/^OpenGL ES (\d)/.exec(Y)[1]),W=V>=2);let X=null,O={};const de=r.getParameter(3088),_e=r.getParameter(2978),pe=new It().fromArray(de),Ee=new It().fromArray(_e);function se(le,Se,Ae){const ke=new Uint8Array(4),We=r.createTexture();r.bindTexture(le,We),r.texParameteri(le,10241,9728),r.texParameteri(le,10240,9728);for(let it=0;it<Ae;it++)r.texImage2D(Se+it,0,6408,1,1,0,6408,5121,ke);return We}const ie={};ie[3553]=se(3553,3553,1),ie[34067]=se(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),J(2929),l.setFunc(fd),ne(!1),G(zp),J(2884),j(lo);function J(le){f[le]!==!0&&(r.enable(le),f[le]=!0)}function z(le){f[le]!==!1&&(r.disable(le),f[le]=!1)}function $(le,Se){return m[le]!==Se?(r.bindFramebuffer(le,Se),m[le]=Se,n&&(le===36009&&(m[36160]=Se),le===36160&&(m[36009]=Se)),!0):!1}function oe(le,Se){let Ae=v,ke=!1;if(le)if(Ae=_.get(Se),Ae===void 0&&(Ae=[],_.set(Se,Ae)),le.isWebGLMultipleRenderTargets){const We=le.texture;if(Ae.length!==We.length||Ae[0]!==36064){for(let it=0,Ut=We.length;it<Ut;it++)Ae[it]=36064+it;Ae.length=We.length,ke=!0}}else Ae[0]!==36064&&(Ae[0]=36064,ke=!0);else Ae[0]!==1029&&(Ae[0]=1029,ke=!0);ke&&(t.isWebGL2?r.drawBuffers(Ae):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Ae))}function ve(le){return x!==le?(r.useProgram(le),x=le,!0):!1}const C={[c1]:32774,[JM]:32778,[eE]:32779};if(n)C[Vp]=32775,C[Hp]=32776;else{const le=e.get("EXT_blend_minmax");le!==null&&(C[Vp]=le.MIN_EXT,C[Hp]=le.MAX_EXT)}const I={[tE]:0,[nE]:1,[iE]:768,[X7]:770,[cE]:776,[aE]:774,[sE]:772,[rE]:769,[$7]:771,[lE]:775,[oE]:773};function j(le,Se,Ae,ke,We,it,Ut,Ft){if(le===lo){y===!0&&(z(3042),y=!1);return}if(y===!1&&(J(3042),y=!0),le!==QM){if(le!==M||Ft!==L){if((w!==c1||A!==c1)&&(r.blendEquation(32774),w=c1,A=c1),Ft)switch(le){case C1:r.blendFuncSeparate(1,771,1,771);break;case dd:r.blendFunc(1,1);break;case Bp:r.blendFuncSeparate(0,769,0,1);break;case Up:r.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",le);break}else switch(le){case C1:r.blendFuncSeparate(770,771,1,771);break;case dd:r.blendFunc(770,1);break;case Bp:r.blendFuncSeparate(0,769,0,1);break;case Up:r.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",le);break}S=null,T=null,R=null,E=null,M=le,L=Ft}return}We=We||Se,it=it||Ae,Ut=Ut||ke,(Se!==w||We!==A)&&(r.blendEquationSeparate(C[Se],C[We]),w=Se,A=We),(Ae!==S||ke!==T||it!==R||Ut!==E)&&(r.blendFuncSeparate(I[Ae],I[ke],I[it],I[Ut]),S=Ae,T=ke,R=it,E=Ut),M=le,L=null}function ee(le,Se){le.side===_s?z(2884):J(2884);let Ae=le.side===Bi;Se&&(Ae=!Ae),ne(Ae),le.blending===C1&&le.transparent===!1?j(lo):j(le.blending,le.blendEquation,le.blendSrc,le.blendDst,le.blendEquationAlpha,le.blendSrcAlpha,le.blendDstAlpha,le.premultipliedAlpha),l.setFunc(le.depthFunc),l.setTest(le.depthTest),l.setMask(le.depthWrite),a.setMask(le.colorWrite);const ke=le.stencilWrite;c.setTest(ke),ke&&(c.setMask(le.stencilWriteMask),c.setFunc(le.stencilFunc,le.stencilRef,le.stencilFuncMask),c.setOp(le.stencilFail,le.stencilZFail,le.stencilZPass)),ue(le.polygonOffset,le.polygonOffsetFactor,le.polygonOffsetUnits),le.alphaToCoverage===!0?J(32926):z(32926)}function ne(le){k!==le&&(le?r.frontFace(2304):r.frontFace(2305),k=le)}function G(le){le!==YM?(J(2884),le!==H&&(le===zp?r.cullFace(1029):le===ZM?r.cullFace(1028):r.cullFace(1032))):z(2884),H=le}function xe(le){le!==te&&(W&&r.lineWidth(le),te=le)}function ue(le,Se,Ae){le?(J(32823),(q!==Se||B!==Ae)&&(r.polygonOffset(Se,Ae),q=Se,B=Ae)):z(32823)}function Me(le){le?J(3089):z(3089)}function ye(le){le===void 0&&(le=33984+N-1),X!==le&&(r.activeTexture(le),X=le)}function F(le,Se,Ae){Ae===void 0&&(X===null?Ae=33984+N-1:Ae=X);let ke=O[Ae];ke===void 0&&(ke={type:void 0,texture:void 0},O[Ae]=ke),(ke.type!==le||ke.texture!==Se)&&(X!==Ae&&(r.activeTexture(Ae),X=Ae),r.bindTexture(le,Se||ie[le]),ke.type=le,ke.texture=Se)}function D(){const le=O[X];le!==void 0&&le.type!==void 0&&(r.bindTexture(le.type,null),le.type=void 0,le.texture=void 0)}function re(){try{r.compressedTexImage2D.apply(r,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function fe(){try{r.compressedTexImage3D.apply(r,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function me(){try{r.texSubImage2D.apply(r,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function Ce(){try{r.texSubImage3D.apply(r,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function Pe(){try{r.compressedTexSubImage2D.apply(r,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function K(){try{r.compressedTexSubImage3D.apply(r,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function ae(){try{r.texStorage2D.apply(r,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function Le(){try{r.texStorage3D.apply(r,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function ze(){try{r.texImage2D.apply(r,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function De(){try{r.texImage3D.apply(r,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function He(le){pe.equals(le)===!1&&(r.scissor(le.x,le.y,le.z,le.w),pe.copy(le))}function Oe(le){Ee.equals(le)===!1&&(r.viewport(le.x,le.y,le.z,le.w),Ee.copy(le))}function Fe(le,Se){let Ae=d.get(Se);Ae===void 0&&(Ae=new WeakMap,d.set(Se,Ae));let ke=Ae.get(le);ke===void 0&&(ke=r.getUniformBlockIndex(Se,le.name),Ae.set(le,ke))}function rt(le,Se){const ke=d.get(Se).get(le);h.get(le)!==ke&&(r.uniformBlockBinding(Se,ke,le.__bindingPointIndex),h.set(le,ke))}function at(){r.disable(3042),r.disable(2884),r.disable(2929),r.disable(32823),r.disable(3089),r.disable(2960),r.disable(32926),r.blendEquation(32774),r.blendFunc(1,0),r.blendFuncSeparate(1,0,1,0),r.colorMask(!0,!0,!0,!0),r.clearColor(0,0,0,0),r.depthMask(!0),r.depthFunc(513),r.clearDepth(1),r.stencilMask(4294967295),r.stencilFunc(519,0,4294967295),r.stencilOp(7680,7680,7680),r.clearStencil(0),r.cullFace(1029),r.frontFace(2305),r.polygonOffset(0,0),r.activeTexture(33984),r.bindFramebuffer(36160,null),n===!0&&(r.bindFramebuffer(36009,null),r.bindFramebuffer(36008,null)),r.useProgram(null),r.lineWidth(1),r.scissor(0,0,r.canvas.width,r.canvas.height),r.viewport(0,0,r.canvas.width,r.canvas.height),f={},X=null,O={},m={},_=new WeakMap,v=[],x=null,y=!1,M=null,w=null,S=null,T=null,A=null,R=null,E=null,L=!1,k=null,H=null,te=null,q=null,B=null,pe.set(0,0,r.canvas.width,r.canvas.height),Ee.set(0,0,r.canvas.width,r.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:J,disable:z,bindFramebuffer:$,drawBuffers:oe,useProgram:ve,setBlending:j,setMaterial:ee,setFlipSided:ne,setCullFace:G,setLineWidth:xe,setPolygonOffset:ue,setScissorTest:Me,activeTexture:ye,bindTexture:F,unbindTexture:D,compressedTexImage2D:re,compressedTexImage3D:fe,texImage2D:ze,texImage3D:De,updateUBOMapping:Fe,uniformBlockBinding:rt,texStorage2D:ae,texStorage3D:Le,texSubImage2D:me,texSubImage3D:Ce,compressedTexSubImage2D:Pe,compressedTexSubImage3D:K,scissor:He,viewport:Oe,reset:at}}function KL(r,e,t,n,i,s,o){const a=i.isWebGL2,l=i.maxTextures,c=i.maxCubemapSize,h=i.maxTextureSize,d=i.maxSamples,f=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,m=/OculusBrowser/g.test(typeof navigator>"u"?"":navigator.userAgent),_=new WeakMap;let v;const x=new WeakMap;let y=!1;try{y=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function M(F,D){return y?new OffscreenCanvas(F,D):Vc("canvas")}function w(F,D,re,fe){let me=1;if((F.width>fe||F.height>fe)&&(me=fe/Math.max(F.width,F.height)),me<1||D===!0)if(typeof HTMLImageElement<"u"&&F instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&F instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&F instanceof ImageBitmap){const Ce=D?ru:Math.floor,Pe=Ce(me*F.width),K=Ce(me*F.height);v===void 0&&(v=M(Pe,K));const ae=re?M(Pe,K):v;return ae.width=Pe,ae.height=K,ae.getContext("2d").drawImage(F,0,0,Pe,K),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+F.width+"x"+F.height+") to ("+Pe+"x"+K+")."),ae}else return"data"in F&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+F.width+"x"+F.height+")."),F;return F}function S(F){return xd(F.width)&&xd(F.height)}function T(F){return a?!1:F.wrapS!==vi||F.wrapT!==vi||F.minFilter!==Mn&&F.minFilter!==Vn}function A(F,D){return F.generateMipmaps&&D&&F.minFilter!==Mn&&F.minFilter!==Vn}function R(F){r.generateMipmap(F)}function E(F,D,re,fe,me=!1){if(a===!1)return D;if(F!==null){if(r[F]!==void 0)return r[F];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+F+"'")}let Ce=D;return D===6403&&(re===5126&&(Ce=33326),re===5131&&(Ce=33325),re===5121&&(Ce=33321)),D===33319&&(re===5126&&(Ce=33328),re===5131&&(Ce=33327),re===5121&&(Ce=33323)),D===6408&&(re===5126&&(Ce=34836),re===5131&&(Ce=34842),re===5121&&(Ce=fe===pt&&me===!1?35907:32856),re===32819&&(Ce=32854),re===32820&&(Ce=32855)),(Ce===33325||Ce===33326||Ce===33327||Ce===33328||Ce===34842||Ce===34836)&&e.get("EXT_color_buffer_float"),Ce}function L(F,D,re){return A(F,re)===!0||F.isFramebufferTexture&&F.minFilter!==Mn&&F.minFilter!==Vn?Math.log2(Math.max(D.width,D.height))+1:F.mipmaps!==void 0&&F.mipmaps.length>0?F.mipmaps.length:F.isCompressedTexture&&Array.isArray(F.image)?D.mipmaps.length:1}function k(F){return F===Mn||F===md||F===gd?9728:9729}function H(F){const D=F.target;D.removeEventListener("dispose",H),q(D),D.isVideoTexture&&_.delete(D)}function te(F){const D=F.target;D.removeEventListener("dispose",te),N(D)}function q(F){const D=n.get(F);if(D.__webglInit===void 0)return;const re=F.source,fe=x.get(re);if(fe){const me=fe[D.__cacheKey];me.usedTimes--,me.usedTimes===0&&B(F),Object.keys(fe).length===0&&x.delete(re)}n.remove(F)}function B(F){const D=n.get(F);r.deleteTexture(D.__webglTexture);const re=F.source,fe=x.get(re);delete fe[D.__cacheKey],o.memory.textures--}function N(F){const D=F.texture,re=n.get(F),fe=n.get(D);if(fe.__webglTexture!==void 0&&(r.deleteTexture(fe.__webglTexture),o.memory.textures--),F.depthTexture&&F.depthTexture.dispose(),F.isWebGLCubeRenderTarget)for(let me=0;me<6;me++)r.deleteFramebuffer(re.__webglFramebuffer[me]),re.__webglDepthbuffer&&r.deleteRenderbuffer(re.__webglDepthbuffer[me]);else{if(r.deleteFramebuffer(re.__webglFramebuffer),re.__webglDepthbuffer&&r.deleteRenderbuffer(re.__webglDepthbuffer),re.__webglMultisampledFramebuffer&&r.deleteFramebuffer(re.__webglMultisampledFramebuffer),re.__webglColorRenderbuffer)for(let me=0;me<re.__webglColorRenderbuffer.length;me++)re.__webglColorRenderbuffer[me]&&r.deleteRenderbuffer(re.__webglColorRenderbuffer[me]);re.__webglDepthRenderbuffer&&r.deleteRenderbuffer(re.__webglDepthRenderbuffer)}if(F.isWebGLMultipleRenderTargets)for(let me=0,Ce=D.length;me<Ce;me++){const Pe=n.get(D[me]);Pe.__webglTexture&&(r.deleteTexture(Pe.__webglTexture),o.memory.textures--),n.remove(D[me])}n.remove(D),n.remove(F)}let W=0;function V(){W=0}function Y(){const F=W;return F>=l&&console.warn("THREE.WebGLTextures: Trying to use "+F+" texture units while this GPU supports only "+l),W+=1,F}function X(F){const D=[];return D.push(F.wrapS),D.push(F.wrapT),D.push(F.wrapR||0),D.push(F.magFilter),D.push(F.minFilter),D.push(F.anisotropy),D.push(F.internalFormat),D.push(F.format),D.push(F.type),D.push(F.generateMipmaps),D.push(F.premultiplyAlpha),D.push(F.flipY),D.push(F.unpackAlignment),D.push(F.encoding),D.join()}function O(F,D){const re=n.get(F);if(F.isVideoTexture&&Me(F),F.isRenderTargetTexture===!1&&F.version>0&&re.__version!==F.version){const fe=F.image;if(fe===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(fe.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{z(re,F,D);return}}t.bindTexture(3553,re.__webglTexture,33984+D)}function de(F,D){const re=n.get(F);if(F.version>0&&re.__version!==F.version){z(re,F,D);return}t.bindTexture(35866,re.__webglTexture,33984+D)}function _e(F,D){const re=n.get(F);if(F.version>0&&re.__version!==F.version){z(re,F,D);return}t.bindTexture(32879,re.__webglTexture,33984+D)}function pe(F,D){const re=n.get(F);if(F.version>0&&re.__version!==F.version){$(re,F,D);return}t.bindTexture(34067,re.__webglTexture,33984+D)}const Ee={[Kr]:10497,[vi]:33071,[nu]:33648},se={[Mn]:9728,[md]:9984,[gd]:9986,[Vn]:9729,[Z7]:9985,[hl]:9987};function ie(F,D,re){if(re?(r.texParameteri(F,10242,Ee[D.wrapS]),r.texParameteri(F,10243,Ee[D.wrapT]),(F===32879||F===35866)&&r.texParameteri(F,32882,Ee[D.wrapR]),r.texParameteri(F,10240,se[D.magFilter]),r.texParameteri(F,10241,se[D.minFilter])):(r.texParameteri(F,10242,33071),r.texParameteri(F,10243,33071),(F===32879||F===35866)&&r.texParameteri(F,32882,33071),(D.wrapS!==vi||D.wrapT!==vi)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),r.texParameteri(F,10240,k(D.magFilter)),r.texParameteri(F,10241,k(D.minFilter)),D.minFilter!==Mn&&D.minFilter!==Vn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const fe=e.get("EXT_texture_filter_anisotropic");if(D.type===Js&&e.has("OES_texture_float_linear")===!1||a===!1&&D.type===zc&&e.has("OES_texture_half_float_linear")===!1)return;(D.anisotropy>1||n.get(D).__currentAnisotropy)&&(r.texParameterf(F,fe.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(D.anisotropy,i.getMaxAnisotropy())),n.get(D).__currentAnisotropy=D.anisotropy)}}function J(F,D){let re=!1;F.__webglInit===void 0&&(F.__webglInit=!0,D.addEventListener("dispose",H));const fe=D.source;let me=x.get(fe);me===void 0&&(me={},x.set(fe,me));const Ce=X(D);if(Ce!==F.__cacheKey){me[Ce]===void 0&&(me[Ce]={texture:r.createTexture(),usedTimes:0},o.memory.textures++,re=!0),me[Ce].usedTimes++;const Pe=me[F.__cacheKey];Pe!==void 0&&(me[F.__cacheKey].usedTimes--,Pe.usedTimes===0&&B(D)),F.__cacheKey=Ce,F.__webglTexture=me[Ce].texture}return re}function z(F,D,re){let fe=3553;(D.isDataArrayTexture||D.isCompressedArrayTexture)&&(fe=35866),D.isData3DTexture&&(fe=32879);const me=J(F,D),Ce=D.source;t.bindTexture(fe,F.__webglTexture,33984+re);const Pe=n.get(Ce);if(Ce.version!==Pe.__version||me===!0){t.activeTexture(33984+re),r.pixelStorei(37440,D.flipY),r.pixelStorei(37441,D.premultiplyAlpha),r.pixelStorei(3317,D.unpackAlignment),r.pixelStorei(37443,0);const K=T(D)&&S(D.image)===!1;let ae=w(D.image,K,!1,h);ae=ye(D,ae);const Le=S(ae)||a,ze=s.convert(D.format,D.encoding);let De=s.convert(D.type),He=E(D.internalFormat,ze,De,D.encoding,D.isVideoTexture);ie(fe,D,Le);let Oe;const Fe=D.mipmaps,rt=a&&D.isVideoTexture!==!0,at=Pe.__version===void 0||me===!0,le=L(D,ae,Le);if(D.isDepthTexture)He=6402,a?D.type===Js?He=36012:D.type===Zo?He=33190:D.type===A1?He=35056:He=33189:D.type===Js&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),D.format===ra&&He===6402&&D.type!==Q7&&D.type!==Zo&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),D.type=Zo,De=s.convert(D.type)),D.format===V1&&He===6402&&(He=34041,D.type!==A1&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),D.type=A1,De=s.convert(D.type))),at&&(rt?t.texStorage2D(3553,1,He,ae.width,ae.height):t.texImage2D(3553,0,He,ae.width,ae.height,0,ze,De,null));else if(D.isDataTexture)if(Fe.length>0&&Le){rt&&at&&t.texStorage2D(3553,le,He,Fe[0].width,Fe[0].height);for(let Se=0,Ae=Fe.length;Se<Ae;Se++)Oe=Fe[Se],rt?t.texSubImage2D(3553,Se,0,0,Oe.width,Oe.height,ze,De,Oe.data):t.texImage2D(3553,Se,He,Oe.width,Oe.height,0,ze,De,Oe.data);D.generateMipmaps=!1}else rt?(at&&t.texStorage2D(3553,le,He,ae.width,ae.height),t.texSubImage2D(3553,0,0,0,ae.width,ae.height,ze,De,ae.data)):t.texImage2D(3553,0,He,ae.width,ae.height,0,ze,De,ae.data);else if(D.isCompressedTexture)if(D.isCompressedArrayTexture){rt&&at&&t.texStorage3D(35866,le,He,Fe[0].width,Fe[0].height,ae.depth);for(let Se=0,Ae=Fe.length;Se<Ae;Se++)Oe=Fe[Se],D.format!==ki?ze!==null?rt?t.compressedTexSubImage3D(35866,Se,0,0,0,Oe.width,Oe.height,ae.depth,ze,Oe.data,0,0):t.compressedTexImage3D(35866,Se,He,Oe.width,Oe.height,ae.depth,0,Oe.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):rt?t.texSubImage3D(35866,Se,0,0,0,Oe.width,Oe.height,ae.depth,ze,De,Oe.data):t.texImage3D(35866,Se,He,Oe.width,Oe.height,ae.depth,0,ze,De,Oe.data)}else{rt&&at&&t.texStorage2D(3553,le,He,Fe[0].width,Fe[0].height);for(let Se=0,Ae=Fe.length;Se<Ae;Se++)Oe=Fe[Se],D.format!==ki?ze!==null?rt?t.compressedTexSubImage2D(3553,Se,0,0,Oe.width,Oe.height,ze,Oe.data):t.compressedTexImage2D(3553,Se,He,Oe.width,Oe.height,0,Oe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):rt?t.texSubImage2D(3553,Se,0,0,Oe.width,Oe.height,ze,De,Oe.data):t.texImage2D(3553,Se,He,Oe.width,Oe.height,0,ze,De,Oe.data)}else if(D.isDataArrayTexture)rt?(at&&t.texStorage3D(35866,le,He,ae.width,ae.height,ae.depth),t.texSubImage3D(35866,0,0,0,0,ae.width,ae.height,ae.depth,ze,De,ae.data)):t.texImage3D(35866,0,He,ae.width,ae.height,ae.depth,0,ze,De,ae.data);else if(D.isData3DTexture)rt?(at&&t.texStorage3D(32879,le,He,ae.width,ae.height,ae.depth),t.texSubImage3D(32879,0,0,0,0,ae.width,ae.height,ae.depth,ze,De,ae.data)):t.texImage3D(32879,0,He,ae.width,ae.height,ae.depth,0,ze,De,ae.data);else if(D.isFramebufferTexture){if(at)if(rt)t.texStorage2D(3553,le,He,ae.width,ae.height);else{let Se=ae.width,Ae=ae.height;for(let ke=0;ke<le;ke++)t.texImage2D(3553,ke,He,Se,Ae,0,ze,De,null),Se>>=1,Ae>>=1}}else if(Fe.length>0&&Le){rt&&at&&t.texStorage2D(3553,le,He,Fe[0].width,Fe[0].height);for(let Se=0,Ae=Fe.length;Se<Ae;Se++)Oe=Fe[Se],rt?t.texSubImage2D(3553,Se,0,0,ze,De,Oe):t.texImage2D(3553,Se,He,ze,De,Oe);D.generateMipmaps=!1}else rt?(at&&t.texStorage2D(3553,le,He,ae.width,ae.height),t.texSubImage2D(3553,0,0,0,ze,De,ae)):t.texImage2D(3553,0,He,ze,De,ae);A(D,Le)&&R(fe),Pe.__version=Ce.version,D.onUpdate&&D.onUpdate(D)}F.__version=D.version}function $(F,D,re){if(D.image.length!==6)return;const fe=J(F,D),me=D.source;t.bindTexture(34067,F.__webglTexture,33984+re);const Ce=n.get(me);if(me.version!==Ce.__version||fe===!0){t.activeTexture(33984+re),r.pixelStorei(37440,D.flipY),r.pixelStorei(37441,D.premultiplyAlpha),r.pixelStorei(3317,D.unpackAlignment),r.pixelStorei(37443,0);const Pe=D.isCompressedTexture||D.image[0].isCompressedTexture,K=D.image[0]&&D.image[0].isDataTexture,ae=[];for(let Se=0;Se<6;Se++)!Pe&&!K?ae[Se]=w(D.image[Se],!1,!0,c):ae[Se]=K?D.image[Se].image:D.image[Se],ae[Se]=ye(D,ae[Se]);const Le=ae[0],ze=S(Le)||a,De=s.convert(D.format,D.encoding),He=s.convert(D.type),Oe=E(D.internalFormat,De,He,D.encoding),Fe=a&&D.isVideoTexture!==!0,rt=Ce.__version===void 0||fe===!0;let at=L(D,Le,ze);ie(34067,D,ze);let le;if(Pe){Fe&&rt&&t.texStorage2D(34067,at,Oe,Le.width,Le.height);for(let Se=0;Se<6;Se++){le=ae[Se].mipmaps;for(let Ae=0;Ae<le.length;Ae++){const ke=le[Ae];D.format!==ki?De!==null?Fe?t.compressedTexSubImage2D(34069+Se,Ae,0,0,ke.width,ke.height,De,ke.data):t.compressedTexImage2D(34069+Se,Ae,Oe,ke.width,ke.height,0,ke.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Fe?t.texSubImage2D(34069+Se,Ae,0,0,ke.width,ke.height,De,He,ke.data):t.texImage2D(34069+Se,Ae,Oe,ke.width,ke.height,0,De,He,ke.data)}}}else{le=D.mipmaps,Fe&&rt&&(le.length>0&&at++,t.texStorage2D(34067,at,Oe,ae[0].width,ae[0].height));for(let Se=0;Se<6;Se++)if(K){Fe?t.texSubImage2D(34069+Se,0,0,0,ae[Se].width,ae[Se].height,De,He,ae[Se].data):t.texImage2D(34069+Se,0,Oe,ae[Se].width,ae[Se].height,0,De,He,ae[Se].data);for(let Ae=0;Ae<le.length;Ae++){const We=le[Ae].image[Se].image;Fe?t.texSubImage2D(34069+Se,Ae+1,0,0,We.width,We.height,De,He,We.data):t.texImage2D(34069+Se,Ae+1,Oe,We.width,We.height,0,De,He,We.data)}}else{Fe?t.texSubImage2D(34069+Se,0,0,0,De,He,ae[Se]):t.texImage2D(34069+Se,0,Oe,De,He,ae[Se]);for(let Ae=0;Ae<le.length;Ae++){const ke=le[Ae];Fe?t.texSubImage2D(34069+Se,Ae+1,0,0,De,He,ke.image[Se]):t.texImage2D(34069+Se,Ae+1,Oe,De,He,ke.image[Se])}}}A(D,ze)&&R(34067),Ce.__version=me.version,D.onUpdate&&D.onUpdate(D)}F.__version=D.version}function oe(F,D,re,fe,me){const Ce=s.convert(re.format,re.encoding),Pe=s.convert(re.type),K=E(re.internalFormat,Ce,Pe,re.encoding);n.get(D).__hasExternalTextures||(me===32879||me===35866?t.texImage3D(me,0,K,D.width,D.height,D.depth,0,Ce,Pe,null):t.texImage2D(me,0,K,D.width,D.height,0,Ce,Pe,null)),t.bindFramebuffer(36160,F),ue(D)?f.framebufferTexture2DMultisampleEXT(36160,fe,me,n.get(re).__webglTexture,0,xe(D)):(me===3553||me>=34069&&me<=34074)&&r.framebufferTexture2D(36160,fe,me,n.get(re).__webglTexture,0),t.bindFramebuffer(36160,null)}function ve(F,D,re){if(r.bindRenderbuffer(36161,F),D.depthBuffer&&!D.stencilBuffer){let fe=33189;if(re||ue(D)){const me=D.depthTexture;me&&me.isDepthTexture&&(me.type===Js?fe=36012:me.type===Zo&&(fe=33190));const Ce=xe(D);ue(D)?f.renderbufferStorageMultisampleEXT(36161,Ce,fe,D.width,D.height):r.renderbufferStorageMultisample(36161,Ce,fe,D.width,D.height)}else r.renderbufferStorage(36161,fe,D.width,D.height);r.framebufferRenderbuffer(36160,36096,36161,F)}else if(D.depthBuffer&&D.stencilBuffer){const fe=xe(D);re&&ue(D)===!1?r.renderbufferStorageMultisample(36161,fe,35056,D.width,D.height):ue(D)?f.renderbufferStorageMultisampleEXT(36161,fe,35056,D.width,D.height):r.renderbufferStorage(36161,34041,D.width,D.height),r.framebufferRenderbuffer(36160,33306,36161,F)}else{const fe=D.isWebGLMultipleRenderTargets===!0?D.texture:[D.texture];for(let me=0;me<fe.length;me++){const Ce=fe[me],Pe=s.convert(Ce.format,Ce.encoding),K=s.convert(Ce.type),ae=E(Ce.internalFormat,Pe,K,Ce.encoding),Le=xe(D);re&&ue(D)===!1?r.renderbufferStorageMultisample(36161,Le,ae,D.width,D.height):ue(D)?f.renderbufferStorageMultisampleEXT(36161,Le,ae,D.width,D.height):r.renderbufferStorage(36161,ae,D.width,D.height)}}r.bindRenderbuffer(36161,null)}function C(F,D){if(D&&D.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,F),!(D.depthTexture&&D.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!n.get(D.depthTexture).__webglTexture||D.depthTexture.image.width!==D.width||D.depthTexture.image.height!==D.height)&&(D.depthTexture.image.width=D.width,D.depthTexture.image.height=D.height,D.depthTexture.needsUpdate=!0),O(D.depthTexture,0);const fe=n.get(D.depthTexture).__webglTexture,me=xe(D);if(D.depthTexture.format===ra)ue(D)?f.framebufferTexture2DMultisampleEXT(36160,36096,3553,fe,0,me):r.framebufferTexture2D(36160,36096,3553,fe,0);else if(D.depthTexture.format===V1)ue(D)?f.framebufferTexture2DMultisampleEXT(36160,33306,3553,fe,0,me):r.framebufferTexture2D(36160,33306,3553,fe,0);else throw new Error("Unknown depthTexture format")}function I(F){const D=n.get(F),re=F.isWebGLCubeRenderTarget===!0;if(F.depthTexture&&!D.__autoAllocateDepthBuffer){if(re)throw new Error("target.depthTexture not supported in Cube render targets");C(D.__webglFramebuffer,F)}else if(re){D.__webglDepthbuffer=[];for(let fe=0;fe<6;fe++)t.bindFramebuffer(36160,D.__webglFramebuffer[fe]),D.__webglDepthbuffer[fe]=r.createRenderbuffer(),ve(D.__webglDepthbuffer[fe],F,!1)}else t.bindFramebuffer(36160,D.__webglFramebuffer),D.__webglDepthbuffer=r.createRenderbuffer(),ve(D.__webglDepthbuffer,F,!1);t.bindFramebuffer(36160,null)}function j(F,D,re){const fe=n.get(F);D!==void 0&&oe(fe.__webglFramebuffer,F,F.texture,36064,3553),re!==void 0&&I(F)}function ee(F){const D=F.texture,re=n.get(F),fe=n.get(D);F.addEventListener("dispose",te),F.isWebGLMultipleRenderTargets!==!0&&(fe.__webglTexture===void 0&&(fe.__webglTexture=r.createTexture()),fe.__version=D.version,o.memory.textures++);const me=F.isWebGLCubeRenderTarget===!0,Ce=F.isWebGLMultipleRenderTargets===!0,Pe=S(F)||a;if(me){re.__webglFramebuffer=[];for(let K=0;K<6;K++)re.__webglFramebuffer[K]=r.createFramebuffer()}else{if(re.__webglFramebuffer=r.createFramebuffer(),Ce)if(i.drawBuffers){const K=F.texture;for(let ae=0,Le=K.length;ae<Le;ae++){const ze=n.get(K[ae]);ze.__webglTexture===void 0&&(ze.__webglTexture=r.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&F.samples>0&&ue(F)===!1){const K=Ce?D:[D];re.__webglMultisampledFramebuffer=r.createFramebuffer(),re.__webglColorRenderbuffer=[],t.bindFramebuffer(36160,re.__webglMultisampledFramebuffer);for(let ae=0;ae<K.length;ae++){const Le=K[ae];re.__webglColorRenderbuffer[ae]=r.createRenderbuffer(),r.bindRenderbuffer(36161,re.__webglColorRenderbuffer[ae]);const ze=s.convert(Le.format,Le.encoding),De=s.convert(Le.type),He=E(Le.internalFormat,ze,De,Le.encoding,F.isXRRenderTarget===!0),Oe=xe(F);r.renderbufferStorageMultisample(36161,Oe,He,F.width,F.height),r.framebufferRenderbuffer(36160,36064+ae,36161,re.__webglColorRenderbuffer[ae])}r.bindRenderbuffer(36161,null),F.depthBuffer&&(re.__webglDepthRenderbuffer=r.createRenderbuffer(),ve(re.__webglDepthRenderbuffer,F,!0)),t.bindFramebuffer(36160,null)}}if(me){t.bindTexture(34067,fe.__webglTexture),ie(34067,D,Pe);for(let K=0;K<6;K++)oe(re.__webglFramebuffer[K],F,D,36064,34069+K);A(D,Pe)&&R(34067),t.unbindTexture()}else if(Ce){const K=F.texture;for(let ae=0,Le=K.length;ae<Le;ae++){const ze=K[ae],De=n.get(ze);t.bindTexture(3553,De.__webglTexture),ie(3553,ze,Pe),oe(re.__webglFramebuffer,F,ze,36064+ae,3553),A(ze,Pe)&&R(3553)}t.unbindTexture()}else{let K=3553;(F.isWebGL3DRenderTarget||F.isWebGLArrayRenderTarget)&&(a?K=F.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(K,fe.__webglTexture),ie(K,D,Pe),oe(re.__webglFramebuffer,F,D,36064,K),A(D,Pe)&&R(K),t.unbindTexture()}F.depthBuffer&&I(F)}function ne(F){const D=S(F)||a,re=F.isWebGLMultipleRenderTargets===!0?F.texture:[F.texture];for(let fe=0,me=re.length;fe<me;fe++){const Ce=re[fe];if(A(Ce,D)){const Pe=F.isWebGLCubeRenderTarget?34067:3553,K=n.get(Ce).__webglTexture;t.bindTexture(Pe,K),R(Pe),t.unbindTexture()}}}function G(F){if(a&&F.samples>0&&ue(F)===!1){const D=F.isWebGLMultipleRenderTargets?F.texture:[F.texture],re=F.width,fe=F.height;let me=16384;const Ce=[],Pe=F.stencilBuffer?33306:36096,K=n.get(F),ae=F.isWebGLMultipleRenderTargets===!0;if(ae)for(let Le=0;Le<D.length;Le++)t.bindFramebuffer(36160,K.__webglMultisampledFramebuffer),r.framebufferRenderbuffer(36160,36064+Le,36161,null),t.bindFramebuffer(36160,K.__webglFramebuffer),r.framebufferTexture2D(36009,36064+Le,3553,null,0);t.bindFramebuffer(36008,K.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,K.__webglFramebuffer);for(let Le=0;Le<D.length;Le++){Ce.push(36064+Le),F.depthBuffer&&Ce.push(Pe);const ze=K.__ignoreDepthValues!==void 0?K.__ignoreDepthValues:!1;if(ze===!1&&(F.depthBuffer&&(me|=256),F.stencilBuffer&&(me|=1024)),ae&&r.framebufferRenderbuffer(36008,36064,36161,K.__webglColorRenderbuffer[Le]),ze===!0&&(r.invalidateFramebuffer(36008,[Pe]),r.invalidateFramebuffer(36009,[Pe])),ae){const De=n.get(D[Le]).__webglTexture;r.framebufferTexture2D(36009,36064,3553,De,0)}r.blitFramebuffer(0,0,re,fe,0,0,re,fe,me,9728),m&&r.invalidateFramebuffer(36008,Ce)}if(t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,null),ae)for(let Le=0;Le<D.length;Le++){t.bindFramebuffer(36160,K.__webglMultisampledFramebuffer),r.framebufferRenderbuffer(36160,36064+Le,36161,K.__webglColorRenderbuffer[Le]);const ze=n.get(D[Le]).__webglTexture;t.bindFramebuffer(36160,K.__webglFramebuffer),r.framebufferTexture2D(36009,36064+Le,3553,ze,0)}t.bindFramebuffer(36009,K.__webglMultisampledFramebuffer)}}function xe(F){return Math.min(d,F.samples)}function ue(F){const D=n.get(F);return a&&F.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&D.__useRenderToTexture!==!1}function Me(F){const D=o.render.frame;_.get(F)!==D&&(_.set(F,D),F.update())}function ye(F,D){const re=F.encoding,fe=F.format,me=F.type;return F.isCompressedTexture===!0||F.isVideoTexture===!0||F.format===vd||re!==pa&&(re===pt?a===!1?e.has("EXT_sRGB")===!0&&fe===ki?(F.format=vd,F.minFilter=Vn,F.generateMipmaps=!1):D=im.sRGBToLinear(D):(fe!==ki||me!==fa)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",re)),D}this.allocateTextureUnit=Y,this.resetTextureUnits=V,this.setTexture2D=O,this.setTexture2DArray=de,this.setTexture3D=_e,this.setTextureCube=pe,this.rebindTextures=j,this.setupRenderTarget=ee,this.updateRenderTargetMipmap=ne,this.updateMultisampleRenderTarget=G,this.setupDepthRenderbuffer=I,this.setupFrameBufferTexture=oe,this.useMultisampledRTT=ue}function YL(r,e,t){const n=t.isWebGL2;function i(s,o=null){let a;if(s===fa)return 5121;if(s===TE)return 32819;if(s===CE)return 32820;if(s===SE)return 5120;if(s===ME)return 5122;if(s===Q7)return 5123;if(s===EE)return 5124;if(s===Zo)return 5125;if(s===Js)return 5126;if(s===zc)return n?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===AE)return 6406;if(s===ki)return 6408;if(s===LE)return 6409;if(s===RE)return 6410;if(s===ra)return 6402;if(s===V1)return 34041;if(s===IE)return 6403;if(s===PE)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(s===vd)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===DE)return 36244;if(s===kE)return 33319;if(s===OE)return 33320;if(s===FE)return 36249;if(s===H3||s===G3||s===W3||s===j3)if(o===pt)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===H3)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===G3)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===W3)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===j3)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===H3)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===G3)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===W3)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===j3)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===Gp||s===Wp||s===jp||s===qp)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===Gp)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===Wp)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===jp)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===qp)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===NE)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===Xp||s===$p)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===Xp)return o===pt?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===$p)return o===pt?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===Kp||s===Yp||s===Zp||s===Qp||s===Jp||s===e9||s===t9||s===n9||s===i9||s===r9||s===s9||s===o9||s===a9||s===l9)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===Kp)return o===pt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===Yp)return o===pt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===Zp)return o===pt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===Qp)return o===pt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===Jp)return o===pt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===e9)return o===pt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===t9)return o===pt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===n9)return o===pt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===i9)return o===pt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===r9)return o===pt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===s9)return o===pt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===o9)return o===pt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===a9)return o===pt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===l9)return o===pt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===c9)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===c9)return o===pt?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;return s===A1?n?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):r[s]!==void 0?r[s]:null}return{convert:i}}class ZL extends gn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Tr extends mt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const QL={type:"move"};class vh{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Tr,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Tr,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Z,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Z),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Tr,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Z,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Z),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,n){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const v of e.hand.values()){const x=t.getJointPose(v,n);if(c.joints[v.jointName]===void 0){const M=new Tr;M.matrixAutoUpdate=!1,M.visible=!1,c.joints[v.jointName]=M,c.add(M)}const y=c.joints[v.jointName];x!==null&&(y.matrix.fromArray(x.transform.matrix),y.matrix.decompose(y.position,y.rotation,y.scale),y.jointRadius=x.radius),y.visible=x!==null}const h=c.joints["index-finger-tip"],d=c.joints["thumb-tip"],f=h.position.distanceTo(d.position),m=.02,_=.005;c.inputState.pinching&&f>m+_?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&f<=m-_&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,n),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=t.getPose(e.targetRaySpace,n),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(QL)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}}class JL extends Tn{constructor(e,t,n,i,s,o,a,l,c,h){if(h=h!==void 0?h:ra,h!==ra&&h!==V1)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");n===void 0&&h===ra&&(n=Zo),n===void 0&&h===V1&&(n=A1),super(null,i,s,o,a,l,h,n,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:Mn,this.minFilter=l!==void 0?l:Mn,this.flipY=!1,this.generateMipmaps=!1}}class eR extends So{constructor(e,t){super();const n=this;let i=null,s=1,o=null,a="local-floor",l=null,c=null,h=null,d=null,f=null,m=null;const _=t.getContextAttributes();let v=null,x=null;const y=[],M=[],w=new gn;w.layers.enable(1),w.viewport=new It;const S=new gn;S.layers.enable(2),S.viewport=new It;const T=[w,S],A=new ZL;A.layers.enable(1),A.layers.enable(2);let R=null,E=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(X){let O=y[X];return O===void 0&&(O=new vh,y[X]=O),O.getTargetRaySpace()},this.getControllerGrip=function(X){let O=y[X];return O===void 0&&(O=new vh,y[X]=O),O.getGripSpace()},this.getHand=function(X){let O=y[X];return O===void 0&&(O=new vh,y[X]=O),O.getHandSpace()};function L(X){const O=M.indexOf(X.inputSource);if(O===-1)return;const de=y[O];de!==void 0&&de.dispatchEvent({type:X.type,data:X.inputSource})}function k(){i.removeEventListener("select",L),i.removeEventListener("selectstart",L),i.removeEventListener("selectend",L),i.removeEventListener("squeeze",L),i.removeEventListener("squeezestart",L),i.removeEventListener("squeezeend",L),i.removeEventListener("end",k),i.removeEventListener("inputsourceschange",H);for(let X=0;X<y.length;X++){const O=M[X];O!==null&&(M[X]=null,y[X].disconnect(O))}R=null,E=null,e.setRenderTarget(v),f=null,d=null,h=null,i=null,x=null,Y.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(X){s=X,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(X){a=X,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||o},this.setReferenceSpace=function(X){l=X},this.getBaseLayer=function(){return d!==null?d:f},this.getBinding=function(){return h},this.getFrame=function(){return m},this.getSession=function(){return i},this.setSession=async function(X){if(i=X,i!==null){if(v=e.getRenderTarget(),i.addEventListener("select",L),i.addEventListener("selectstart",L),i.addEventListener("selectend",L),i.addEventListener("squeeze",L),i.addEventListener("squeezestart",L),i.addEventListener("squeezeend",L),i.addEventListener("end",k),i.addEventListener("inputsourceschange",H),_.xrCompatible!==!0&&await t.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const O={antialias:i.renderState.layers===void 0?_.antialias:!0,alpha:_.alpha,depth:_.depth,stencil:_.stencil,framebufferScaleFactor:s};f=new XRWebGLLayer(i,t,O),i.updateRenderState({baseLayer:f}),x=new ma(f.framebufferWidth,f.framebufferHeight,{format:ki,type:fa,encoding:e.outputEncoding,stencilBuffer:_.stencil})}else{let O=null,de=null,_e=null;_.depth&&(_e=_.stencil?35056:33190,O=_.stencil?V1:ra,de=_.stencil?A1:Zo);const pe={colorFormat:32856,depthFormat:_e,scaleFactor:s};h=new XRWebGLBinding(i,t),d=h.createProjectionLayer(pe),i.updateRenderState({layers:[d]}),x=new ma(d.textureWidth,d.textureHeight,{format:ki,type:fa,depthTexture:new JL(d.textureWidth,d.textureHeight,de,void 0,void 0,void 0,void 0,void 0,void 0,O),stencilBuffer:_.stencil,encoding:e.outputEncoding,samples:_.antialias?4:0});const Ee=e.properties.get(x);Ee.__ignoreDepthValues=d.ignoreDepthValues}x.isXRRenderTarget=!0,this.setFoveation(1),l=null,o=await i.requestReferenceSpace(a),Y.setContext(i),Y.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}};function H(X){for(let O=0;O<X.removed.length;O++){const de=X.removed[O],_e=M.indexOf(de);_e>=0&&(M[_e]=null,y[_e].dispatchEvent({type:"disconnected",data:de}))}for(let O=0;O<X.added.length;O++){const de=X.added[O];let _e=M.indexOf(de);if(_e===-1){for(let Ee=0;Ee<y.length;Ee++)if(Ee>=M.length){M.push(de),_e=Ee;break}else if(M[Ee]===null){M[Ee]=de,_e=Ee;break}if(_e===-1)break}const pe=y[_e];pe&&pe.dispatchEvent({type:"connected",data:de})}}const te=new Z,q=new Z;function B(X,O,de){te.setFromMatrixPosition(O.matrixWorld),q.setFromMatrixPosition(de.matrixWorld);const _e=te.distanceTo(q),pe=O.projectionMatrix.elements,Ee=de.projectionMatrix.elements,se=pe[14]/(pe[10]-1),ie=pe[14]/(pe[10]+1),J=(pe[9]+1)/pe[5],z=(pe[9]-1)/pe[5],$=(pe[8]-1)/pe[0],oe=(Ee[8]+1)/Ee[0],ve=se*$,C=se*oe,I=_e/(-$+oe),j=I*-$;O.matrixWorld.decompose(X.position,X.quaternion,X.scale),X.translateX(j),X.translateZ(I),X.matrixWorld.compose(X.position,X.quaternion,X.scale),X.matrixWorldInverse.copy(X.matrixWorld).invert();const ee=se+I,ne=ie+I,G=ve-j,xe=C+(_e-j),ue=J*ie/ne*ee,Me=z*ie/ne*ee;X.projectionMatrix.makePerspective(G,xe,ue,Me,ee,ne)}function N(X,O){O===null?X.matrixWorld.copy(X.matrix):X.matrixWorld.multiplyMatrices(O.matrixWorld,X.matrix),X.matrixWorldInverse.copy(X.matrixWorld).invert()}this.updateCamera=function(X){if(i===null)return;A.near=S.near=w.near=X.near,A.far=S.far=w.far=X.far,(R!==A.near||E!==A.far)&&(i.updateRenderState({depthNear:A.near,depthFar:A.far}),R=A.near,E=A.far);const O=X.parent,de=A.cameras;N(A,O);for(let pe=0;pe<de.length;pe++)N(de[pe],O);A.matrixWorld.decompose(A.position,A.quaternion,A.scale),X.matrix.copy(A.matrix),X.matrix.decompose(X.position,X.quaternion,X.scale);const _e=X.children;for(let pe=0,Ee=_e.length;pe<Ee;pe++)_e[pe].updateMatrixWorld(!0);de.length===2?B(A,w,S):A.projectionMatrix.copy(w.projectionMatrix)},this.getCamera=function(){return A},this.getFoveation=function(){if(d!==null)return d.fixedFoveation;if(f!==null)return f.fixedFoveation},this.setFoveation=function(X){d!==null&&(d.fixedFoveation=X),f!==null&&f.fixedFoveation!==void 0&&(f.fixedFoveation=X)};let W=null;function V(X,O){if(c=O.getViewerPose(l||o),m=O,c!==null){const de=c.views;f!==null&&(e.setRenderTargetFramebuffer(x,f.framebuffer),e.setRenderTarget(x));let _e=!1;de.length!==A.cameras.length&&(A.cameras.length=0,_e=!0);for(let pe=0;pe<de.length;pe++){const Ee=de[pe];let se=null;if(f!==null)se=f.getViewport(Ee);else{const J=h.getViewSubImage(d,Ee);se=J.viewport,pe===0&&(e.setRenderTargetTextures(x,J.colorTexture,d.ignoreDepthValues?void 0:J.depthStencilTexture),e.setRenderTarget(x))}let ie=T[pe];ie===void 0&&(ie=new gn,ie.layers.enable(pe),ie.viewport=new It,T[pe]=ie),ie.matrix.fromArray(Ee.transform.matrix),ie.projectionMatrix.fromArray(Ee.projectionMatrix),ie.viewport.set(se.x,se.y,se.width,se.height),pe===0&&A.matrix.copy(ie.matrix),_e===!0&&A.cameras.push(ie)}}for(let de=0;de<y.length;de++){const _e=M[de],pe=y[de];_e!==null&&pe!==void 0&&pe.update(_e,O,l||o)}W&&W(X,O),m=null}const Y=new um;Y.setAnimationLoop(V),this.setAnimationLoop=function(X){W=X},this.dispose=function(){}}}function tR(r,e){function t(v,x){v.fogColor.value.copy(x.color),x.isFog?(v.fogNear.value=x.near,v.fogFar.value=x.far):x.isFogExp2&&(v.fogDensity.value=x.density)}function n(v,x,y,M,w){x.isMeshBasicMaterial||x.isMeshLambertMaterial?i(v,x):x.isMeshToonMaterial?(i(v,x),h(v,x)):x.isMeshPhongMaterial?(i(v,x),c(v,x)):x.isMeshStandardMaterial?(i(v,x),d(v,x),x.isMeshPhysicalMaterial&&f(v,x,w)):x.isMeshMatcapMaterial?(i(v,x),m(v,x)):x.isMeshDepthMaterial?i(v,x):x.isMeshDistanceMaterial?(i(v,x),_(v,x)):x.isMeshNormalMaterial?i(v,x):x.isLineBasicMaterial?(s(v,x),x.isLineDashedMaterial&&o(v,x)):x.isPointsMaterial?a(v,x,y,M):x.isSpriteMaterial?l(v,x):x.isShadowMaterial?(v.color.value.copy(x.color),v.opacity.value=x.opacity):x.isShaderMaterial&&(x.uniformsNeedUpdate=!1)}function i(v,x){v.opacity.value=x.opacity,x.color&&v.diffuse.value.copy(x.color),x.emissive&&v.emissive.value.copy(x.emissive).multiplyScalar(x.emissiveIntensity),x.map&&(v.map.value=x.map),x.alphaMap&&(v.alphaMap.value=x.alphaMap),x.bumpMap&&(v.bumpMap.value=x.bumpMap,v.bumpScale.value=x.bumpScale,x.side===Bi&&(v.bumpScale.value*=-1)),x.displacementMap&&(v.displacementMap.value=x.displacementMap,v.displacementScale.value=x.displacementScale,v.displacementBias.value=x.displacementBias),x.emissiveMap&&(v.emissiveMap.value=x.emissiveMap),x.normalMap&&(v.normalMap.value=x.normalMap,v.normalScale.value.copy(x.normalScale),x.side===Bi&&v.normalScale.value.negate()),x.specularMap&&(v.specularMap.value=x.specularMap),x.alphaTest>0&&(v.alphaTest.value=x.alphaTest);const y=e.get(x).envMap;if(y&&(v.envMap.value=y,v.flipEnvMap.value=y.isCubeTexture&&y.isRenderTargetTexture===!1?-1:1,v.reflectivity.value=x.reflectivity,v.ior.value=x.ior,v.refractionRatio.value=x.refractionRatio),x.lightMap){v.lightMap.value=x.lightMap;const S=r.physicallyCorrectLights!==!0?Math.PI:1;v.lightMapIntensity.value=x.lightMapIntensity*S}x.aoMap&&(v.aoMap.value=x.aoMap,v.aoMapIntensity.value=x.aoMapIntensity);let M;x.map?M=x.map:x.specularMap?M=x.specularMap:x.displacementMap?M=x.displacementMap:x.normalMap?M=x.normalMap:x.bumpMap?M=x.bumpMap:x.roughnessMap?M=x.roughnessMap:x.metalnessMap?M=x.metalnessMap:x.alphaMap?M=x.alphaMap:x.emissiveMap?M=x.emissiveMap:x.clearcoatMap?M=x.clearcoatMap:x.clearcoatNormalMap?M=x.clearcoatNormalMap:x.clearcoatRoughnessMap?M=x.clearcoatRoughnessMap:x.iridescenceMap?M=x.iridescenceMap:x.iridescenceThicknessMap?M=x.iridescenceThicknessMap:x.specularIntensityMap?M=x.specularIntensityMap:x.specularColorMap?M=x.specularColorMap:x.transmissionMap?M=x.transmissionMap:x.thicknessMap?M=x.thicknessMap:x.sheenColorMap?M=x.sheenColorMap:x.sheenRoughnessMap&&(M=x.sheenRoughnessMap),M!==void 0&&(M.isWebGLRenderTarget&&(M=M.texture),M.matrixAutoUpdate===!0&&M.updateMatrix(),v.uvTransform.value.copy(M.matrix));let w;x.aoMap?w=x.aoMap:x.lightMap&&(w=x.lightMap),w!==void 0&&(w.isWebGLRenderTarget&&(w=w.texture),w.matrixAutoUpdate===!0&&w.updateMatrix(),v.uv2Transform.value.copy(w.matrix))}function s(v,x){v.diffuse.value.copy(x.color),v.opacity.value=x.opacity}function o(v,x){v.dashSize.value=x.dashSize,v.totalSize.value=x.dashSize+x.gapSize,v.scale.value=x.scale}function a(v,x,y,M){v.diffuse.value.copy(x.color),v.opacity.value=x.opacity,v.size.value=x.size*y,v.scale.value=M*.5,x.map&&(v.map.value=x.map),x.alphaMap&&(v.alphaMap.value=x.alphaMap),x.alphaTest>0&&(v.alphaTest.value=x.alphaTest);let w;x.map?w=x.map:x.alphaMap&&(w=x.alphaMap),w!==void 0&&(w.matrixAutoUpdate===!0&&w.updateMatrix(),v.uvTransform.value.copy(w.matrix))}function l(v,x){v.diffuse.value.copy(x.color),v.opacity.value=x.opacity,v.rotation.value=x.rotation,x.map&&(v.map.value=x.map),x.alphaMap&&(v.alphaMap.value=x.alphaMap),x.alphaTest>0&&(v.alphaTest.value=x.alphaTest);let y;x.map?y=x.map:x.alphaMap&&(y=x.alphaMap),y!==void 0&&(y.matrixAutoUpdate===!0&&y.updateMatrix(),v.uvTransform.value.copy(y.matrix))}function c(v,x){v.specular.value.copy(x.specular),v.shininess.value=Math.max(x.shininess,1e-4)}function h(v,x){x.gradientMap&&(v.gradientMap.value=x.gradientMap)}function d(v,x){v.roughness.value=x.roughness,v.metalness.value=x.metalness,x.roughnessMap&&(v.roughnessMap.value=x.roughnessMap),x.metalnessMap&&(v.metalnessMap.value=x.metalnessMap),e.get(x).envMap&&(v.envMapIntensity.value=x.envMapIntensity)}function f(v,x,y){v.ior.value=x.ior,x.sheen>0&&(v.sheenColor.value.copy(x.sheenColor).multiplyScalar(x.sheen),v.sheenRoughness.value=x.sheenRoughness,x.sheenColorMap&&(v.sheenColorMap.value=x.sheenColorMap),x.sheenRoughnessMap&&(v.sheenRoughnessMap.value=x.sheenRoughnessMap)),x.clearcoat>0&&(v.clearcoat.value=x.clearcoat,v.clearcoatRoughness.value=x.clearcoatRoughness,x.clearcoatMap&&(v.clearcoatMap.value=x.clearcoatMap),x.clearcoatRoughnessMap&&(v.clearcoatRoughnessMap.value=x.clearcoatRoughnessMap),x.clearcoatNormalMap&&(v.clearcoatNormalScale.value.copy(x.clearcoatNormalScale),v.clearcoatNormalMap.value=x.clearcoatNormalMap,x.side===Bi&&v.clearcoatNormalScale.value.negate())),x.iridescence>0&&(v.iridescence.value=x.iridescence,v.iridescenceIOR.value=x.iridescenceIOR,v.iridescenceThicknessMinimum.value=x.iridescenceThicknessRange[0],v.iridescenceThicknessMaximum.value=x.iridescenceThicknessRange[1],x.iridescenceMap&&(v.iridescenceMap.value=x.iridescenceMap),x.iridescenceThicknessMap&&(v.iridescenceThicknessMap.value=x.iridescenceThicknessMap)),x.transmission>0&&(v.transmission.value=x.transmission,v.transmissionSamplerMap.value=y.texture,v.transmissionSamplerSize.value.set(y.width,y.height),x.transmissionMap&&(v.transmissionMap.value=x.transmissionMap),v.thickness.value=x.thickness,x.thicknessMap&&(v.thicknessMap.value=x.thicknessMap),v.attenuationDistance.value=x.attenuationDistance,v.attenuationColor.value.copy(x.attenuationColor)),v.specularIntensity.value=x.specularIntensity,v.specularColor.value.copy(x.specularColor),x.specularIntensityMap&&(v.specularIntensityMap.value=x.specularIntensityMap),x.specularColorMap&&(v.specularColorMap.value=x.specularColorMap)}function m(v,x){x.matcap&&(v.matcap.value=x.matcap)}function _(v,x){v.referencePosition.value.copy(x.referencePosition),v.nearDistance.value=x.nearDistance,v.farDistance.value=x.farDistance}return{refreshFogUniforms:t,refreshMaterialUniforms:n}}function nR(r,e,t,n){let i={},s={},o=[];const a=t.isWebGL2?r.getParameter(35375):0;function l(M,w){const S=w.program;n.uniformBlockBinding(M,S)}function c(M,w){let S=i[M.id];S===void 0&&(_(M),S=h(M),i[M.id]=S,M.addEventListener("dispose",x));const T=w.program;n.updateUBOMapping(M,T);const A=e.render.frame;s[M.id]!==A&&(f(M),s[M.id]=A)}function h(M){const w=d();M.__bindingPointIndex=w;const S=r.createBuffer(),T=M.__size,A=M.usage;return r.bindBuffer(35345,S),r.bufferData(35345,T,A),r.bindBuffer(35345,null),r.bindBufferBase(35345,w,S),S}function d(){for(let M=0;M<a;M++)if(o.indexOf(M)===-1)return o.push(M),M;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function f(M){const w=i[M.id],S=M.uniforms,T=M.__cache;r.bindBuffer(35345,w);for(let A=0,R=S.length;A<R;A++){const E=S[A];if(m(E,A,T)===!0){const L=E.value,k=E.__offset;typeof L=="number"?(E.__data[0]=L,r.bufferSubData(35345,k,E.__data)):(E.value.isMatrix3?(E.__data[0]=E.value.elements[0],E.__data[1]=E.value.elements[1],E.__data[2]=E.value.elements[2],E.__data[3]=E.value.elements[0],E.__data[4]=E.value.elements[3],E.__data[5]=E.value.elements[4],E.__data[6]=E.value.elements[5],E.__data[7]=E.value.elements[0],E.__data[8]=E.value.elements[6],E.__data[9]=E.value.elements[7],E.__data[10]=E.value.elements[8],E.__data[11]=E.value.elements[0]):L.toArray(E.__data),r.bufferSubData(35345,k,E.__data))}}r.bindBuffer(35345,null)}function m(M,w,S){const T=M.value;if(S[w]===void 0)return typeof T=="number"?S[w]=T:S[w]=T.clone(),!0;if(typeof T=="number"){if(S[w]!==T)return S[w]=T,!0}else{const A=S[w];if(A.equals(T)===!1)return A.copy(T),!0}return!1}function _(M){const w=M.uniforms;let S=0;const T=16;let A=0;for(let R=0,E=w.length;R<E;R++){const L=w[R],k=v(L);if(L.__data=new Float32Array(k.storage/Float32Array.BYTES_PER_ELEMENT),L.__offset=S,R>0){A=S%T;const H=T-A;A!==0&&H-k.boundary<0&&(S+=T-A,L.__offset=S)}S+=k.storage}return A=S%T,A>0&&(S+=T-A),M.__size=S,M.__cache={},this}function v(M){const w=M.value,S={boundary:0,storage:0};return typeof w=="number"?(S.boundary=4,S.storage=4):w.isVector2?(S.boundary=8,S.storage=8):w.isVector3||w.isColor?(S.boundary=16,S.storage=12):w.isVector4?(S.boundary=16,S.storage=16):w.isMatrix3?(S.boundary=48,S.storage=48):w.isMatrix4?(S.boundary=64,S.storage=64):w.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",w),S}function x(M){const w=M.target;w.removeEventListener("dispose",x);const S=o.indexOf(w.__bindingPointIndex);o.splice(S,1),r.deleteBuffer(i[w.id]),delete i[w.id],delete s[w.id]}function y(){for(const M in i)r.deleteBuffer(i[M]);o=[],i={},s={}}return{bind:l,update:c,dispose:y}}function iR(){const r=Vc("canvas");return r.style.display="block",r}function Ca(r={}){this.isWebGLRenderer=!0;const e=r.canvas!==void 0?r.canvas:iR(),t=r.context!==void 0?r.context:null,n=r.depth!==void 0?r.depth:!0,i=r.stencil!==void 0?r.stencil:!0,s=r.antialias!==void 0?r.antialias:!1,o=r.premultipliedAlpha!==void 0?r.premultipliedAlpha:!0,a=r.preserveDrawingBuffer!==void 0?r.preserveDrawingBuffer:!1,l=r.powerPreference!==void 0?r.powerPreference:"default",c=r.failIfMajorPerformanceCaveat!==void 0?r.failIfMajorPerformanceCaveat:!1;let h;t!==null?h=t.getContextAttributes().alpha:h=r.alpha!==void 0?r.alpha:!1;let d=null,f=null;const m=[],_=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=pa,this.physicallyCorrectLights=!1,this.toneMapping=Ss,this.toneMappingExposure=1,Object.defineProperties(this,{gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});const v=this;let x=!1,y=0,M=0,w=null,S=-1,T=null;const A=new It,R=new It;let E=null,L=e.width,k=e.height,H=1,te=null,q=null;const B=new It(0,0,L,k),N=new It(0,0,L,k);let W=!1;const V=new Wf;let Y=!1,X=!1,O=null;const de=new Ke,_e=new Ie,pe=new Z,Ee={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function se(){return w===null?H:1}let ie=t;function J(U,ge){for(let be=0;be<U.length;be++){const ce=U[be],Te=e.getContext(ce,ge);if(Te!==null)return Te}return null}try{const U={alpha:!0,depth:n,stencil:i,antialias:s,premultipliedAlpha:o,preserveDrawingBuffer:a,powerPreference:l,failIfMajorPerformanceCaveat:c};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${zf}`),e.addEventListener("webglcontextlost",He,!1),e.addEventListener("webglcontextrestored",Oe,!1),e.addEventListener("webglcontextcreationerror",Fe,!1),ie===null){const ge=["webgl2","webgl","experimental-webgl"];if(v.isWebGL1Renderer===!0&&ge.shift(),ie=J(ge,U),ie===null)throw J(ge)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}ie.getShaderPrecisionFormat===void 0&&(ie.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(U){throw console.error("THREE.WebGLRenderer: "+U.message),U}let z,$,oe,ve,C,I,j,ee,ne,G,xe,ue,Me,ye,F,D,re,fe,me,Ce,Pe,K,ae,Le;function ze(){z=new pP(ie),$=new lP(ie,z,r),z.init($),K=new YL(ie,z,$),oe=new $L(ie,z,$),ve=new _P,C=new kL,I=new KL(ie,z,oe,C,$,K,ve),j=new uP(v),ee=new fP(v),ne=new TT(ie,$),ae=new oP(ie,z,ne,$),G=new mP(ie,ne,ve,ae),xe=new yP(ie,G,ne,ve),me=new bP(ie,$,I),D=new cP(C),ue=new DL(v,j,ee,z,$,ae,D),Me=new tR(v,C),ye=new FL,F=new HL(z,$),fe=new sP(v,j,ee,oe,xe,h,o),re=new XL(v,xe,$),Le=new nR(ie,ve,$,oe),Ce=new aP(ie,z,ve,$),Pe=new gP(ie,z,ve,$),ve.programs=ue.programs,v.capabilities=$,v.extensions=z,v.properties=C,v.renderLists=ye,v.shadowMap=re,v.state=oe,v.info=ve}ze();const De=new eR(v,ie);this.xr=De,this.getContext=function(){return ie},this.getContextAttributes=function(){return ie.getContextAttributes()},this.forceContextLoss=function(){const U=z.get("WEBGL_lose_context");U&&U.loseContext()},this.forceContextRestore=function(){const U=z.get("WEBGL_lose_context");U&&U.restoreContext()},this.getPixelRatio=function(){return H},this.setPixelRatio=function(U){U!==void 0&&(H=U,this.setSize(L,k,!1))},this.getSize=function(U){return U.set(L,k)},this.setSize=function(U,ge,be){if(De.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}L=U,k=ge,e.width=Math.floor(U*H),e.height=Math.floor(ge*H),be!==!1&&(e.style.width=U+"px",e.style.height=ge+"px"),this.setViewport(0,0,U,ge)},this.getDrawingBufferSize=function(U){return U.set(L*H,k*H).floor()},this.setDrawingBufferSize=function(U,ge,be){L=U,k=ge,H=be,e.width=Math.floor(U*be),e.height=Math.floor(ge*be),this.setViewport(0,0,U,ge)},this.getCurrentViewport=function(U){return U.copy(A)},this.getViewport=function(U){return U.copy(B)},this.setViewport=function(U,ge,be,ce){U.isVector4?B.set(U.x,U.y,U.z,U.w):B.set(U,ge,be,ce),oe.viewport(A.copy(B).multiplyScalar(H).floor())},this.getScissor=function(U){return U.copy(N)},this.setScissor=function(U,ge,be,ce){U.isVector4?N.set(U.x,U.y,U.z,U.w):N.set(U,ge,be,ce),oe.scissor(R.copy(N).multiplyScalar(H).floor())},this.getScissorTest=function(){return W},this.setScissorTest=function(U){oe.setScissorTest(W=U)},this.setOpaqueSort=function(U){te=U},this.setTransparentSort=function(U){q=U},this.getClearColor=function(U){return U.copy(fe.getClearColor())},this.setClearColor=function(){fe.setClearColor.apply(fe,arguments)},this.getClearAlpha=function(){return fe.getClearAlpha()},this.setClearAlpha=function(){fe.setClearAlpha.apply(fe,arguments)},this.clear=function(U=!0,ge=!0,be=!0){let ce=0;U&&(ce|=16384),ge&&(ce|=256),be&&(ce|=1024),ie.clear(ce)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",He,!1),e.removeEventListener("webglcontextrestored",Oe,!1),e.removeEventListener("webglcontextcreationerror",Fe,!1),ye.dispose(),F.dispose(),C.dispose(),j.dispose(),ee.dispose(),xe.dispose(),ae.dispose(),Le.dispose(),ue.dispose(),De.dispose(),De.removeEventListener("sessionstart",ke),De.removeEventListener("sessionend",We),O&&(O.dispose(),O=null),it.stop()};function He(U){U.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),x=!0}function Oe(){console.log("THREE.WebGLRenderer: Context Restored."),x=!1;const U=ve.autoReset,ge=re.enabled,be=re.autoUpdate,ce=re.needsUpdate,Te=re.type;ze(),ve.autoReset=U,re.enabled=ge,re.autoUpdate=be,re.needsUpdate=ce,re.type=Te}function Fe(U){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",U.statusMessage)}function rt(U){const ge=U.target;ge.removeEventListener("dispose",rt),at(ge)}function at(U){le(U),C.remove(U)}function le(U){const ge=C.get(U).programs;ge!==void 0&&(ge.forEach(function(be){ue.releaseProgram(be)}),U.isShaderMaterial&&ue.releaseShaderCache(U))}this.renderBufferDirect=function(U,ge,be,ce,Te,Be){ge===null&&(ge=Ee);const Ge=Te.isMesh&&Te.matrixWorld.determinant()<0,qe=Yt(U,ge,be,ce,Te);oe.setMaterial(ce,Ge);let Qe=be.index;const ut=be.attributes.position;if(Qe===null){if(ut===void 0||ut.count===0)return}else if(Qe.count===0)return;let Xe=1;ce.wireframe===!0&&(Qe=G.getWireframeAttribute(be),Xe=2),ae.setup(Te,ce,qe,be,Qe);let $e,wt=Ce;Qe!==null&&($e=ne.get(Qe),wt=Pe,wt.setIndex($e));const Ti=Qe!==null?Qe.count:ut.count,pr=be.drawRange.start*Xe,ti=be.drawRange.count*Xe,Ht=Be!==null?Be.start*Xe:0,bt=Be!==null?Be.count*Xe:1/0,Ls=Math.max(pr,Ht),nn=Math.min(Ti,pr+ti,Ht+bt)-1,ni=Math.max(0,nn-Ls+1);if(ni!==0){if(Te.isMesh)ce.wireframe===!0?(oe.setLineWidth(ce.wireframeLinewidth*se()),wt.setMode(1)):wt.setMode(4);else if(Te.isLine){let mr=ce.linewidth;mr===void 0&&(mr=1),oe.setLineWidth(mr*se()),Te.isLineSegments?wt.setMode(1):Te.isLineLoop?wt.setMode(2):wt.setMode(3)}else Te.isPoints?wt.setMode(0):Te.isSprite&&wt.setMode(4);if(Te.isInstancedMesh)wt.renderInstances(Ls,ni,Te.count);else if(be.isInstancedBufferGeometry){const mr=Math.min(be.instanceCount,be._maxInstanceCount);wt.renderInstances(Ls,ni,mr)}else wt.render(Ls,ni)}},this.compile=function(U,ge){function be(ce,Te,Be){ce.transparent===!0&&ce.side===_s?(ce.side=Bi,ce.needsUpdate=!0,Ue(ce,Te,Be),ce.side=da,ce.needsUpdate=!0,Ue(ce,Te,Be),ce.side=_s):Ue(ce,Te,Be)}f=F.get(U),f.init(),_.push(f),U.traverseVisible(function(ce){ce.isLight&&ce.layers.test(ge.layers)&&(f.pushLight(ce),ce.castShadow&&f.pushShadow(ce))}),f.setupLights(v.physicallyCorrectLights),U.traverse(function(ce){const Te=ce.material;if(Te)if(Array.isArray(Te))for(let Be=0;Be<Te.length;Be++){const Ge=Te[Be];be(Ge,U,ce)}else be(Te,U,ce)}),_.pop(),f=null};let Se=null;function Ae(U){Se&&Se(U)}function ke(){it.stop()}function We(){it.start()}const it=new um;it.setAnimationLoop(Ae),typeof self<"u"&&it.setContext(self),this.setAnimationLoop=function(U){Se=U,De.setAnimationLoop(U),U===null?it.stop():it.start()},De.addEventListener("sessionstart",ke),De.addEventListener("sessionend",We),this.render=function(U,ge){if(ge!==void 0&&ge.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(x===!0)return;U.matrixWorldAutoUpdate===!0&&U.updateMatrixWorld(),ge.parent===null&&ge.matrixWorldAutoUpdate===!0&&ge.updateMatrixWorld(),De.enabled===!0&&De.isPresenting===!0&&(De.cameraAutoUpdate===!0&&De.updateCamera(ge),ge=De.getCamera()),U.isScene===!0&&U.onBeforeRender(v,U,ge,w),f=F.get(U,_.length),f.init(),_.push(f),de.multiplyMatrices(ge.projectionMatrix,ge.matrixWorldInverse),V.setFromProjectionMatrix(de),X=this.localClippingEnabled,Y=D.init(this.clippingPlanes,X,ge),d=ye.get(U,m.length),d.init(),m.push(d),Ut(U,ge,0,v.sortObjects),d.finish(),v.sortObjects===!0&&d.sort(te,q),Y===!0&&D.beginShadows();const be=f.state.shadowsArray;if(re.render(be,U,ge),Y===!0&&D.endShadows(),this.info.autoReset===!0&&this.info.reset(),fe.render(d,U),f.setupLights(v.physicallyCorrectLights),ge.isArrayCamera){const ce=ge.cameras;for(let Te=0,Be=ce.length;Te<Be;Te++){const Ge=ce[Te];Ft(d,U,Ge,Ge.viewport)}}else Ft(d,U,ge);w!==null&&(I.updateMultisampleRenderTarget(w),I.updateRenderTargetMipmap(w)),U.isScene===!0&&U.onAfterRender(v,U,ge),ae.resetDefaultState(),S=-1,T=null,_.pop(),_.length>0?f=_[_.length-1]:f=null,m.pop(),m.length>0?d=m[m.length-1]:d=null};function Ut(U,ge,be,ce){if(U.visible===!1)return;if(U.layers.test(ge.layers)){if(U.isGroup)be=U.renderOrder;else if(U.isLOD)U.autoUpdate===!0&&U.update(ge);else if(U.isLight)f.pushLight(U),U.castShadow&&f.pushShadow(U);else if(U.isSprite){if(!U.frustumCulled||V.intersectsSprite(U)){ce&&pe.setFromMatrixPosition(U.matrixWorld).applyMatrix4(de);const Ge=xe.update(U),qe=U.material;qe.visible&&d.push(U,Ge,qe,be,pe.z,null)}}else if((U.isMesh||U.isLine||U.isPoints)&&(U.isSkinnedMesh&&U.skeleton.frame!==ve.render.frame&&(U.skeleton.update(),U.skeleton.frame=ve.render.frame),!U.frustumCulled||V.intersectsObject(U))){ce&&pe.setFromMatrixPosition(U.matrixWorld).applyMatrix4(de);const Ge=xe.update(U),qe=U.material;if(Array.isArray(qe)){const Qe=Ge.groups;for(let ut=0,Xe=Qe.length;ut<Xe;ut++){const $e=Qe[ut],wt=qe[$e.materialIndex];wt&&wt.visible&&d.push(U,Ge,wt,be,pe.z,$e)}}else qe.visible&&d.push(U,Ge,qe,be,pe.z,null)}}const Be=U.children;for(let Ge=0,qe=Be.length;Ge<qe;Ge++)Ut(Be[Ge],ge,be,ce)}function Ft(U,ge,be,ce){const Te=U.opaque,Be=U.transmissive,Ge=U.transparent;f.setupLightsView(be),Be.length>0&&lt(Te,ge,be),ce&&oe.viewport(A.copy(ce)),Te.length>0&&we(Te,ge,be),Be.length>0&&we(Be,ge,be),Ge.length>0&&we(Ge,ge,be),oe.buffers.depth.setTest(!0),oe.buffers.depth.setMask(!0),oe.buffers.color.setMask(!0),oe.setPolygonOffset(!1)}function lt(U,ge,be){const ce=$.isWebGL2;O===null&&(O=new ma(1,1,{generateMipmaps:!0,type:z.has("EXT_color_buffer_half_float")?zc:fa,minFilter:hl,samples:ce&&s===!0?4:0})),v.getDrawingBufferSize(_e),ce?O.setSize(_e.x,_e.y):O.setSize(ru(_e.x),ru(_e.y));const Te=v.getRenderTarget();v.setRenderTarget(O),v.clear();const Be=v.toneMapping;v.toneMapping=Ss,we(U,ge,be),v.toneMapping=Be,I.updateMultisampleRenderTarget(O),I.updateRenderTargetMipmap(O),v.setRenderTarget(Te)}function we(U,ge,be){const ce=ge.isScene===!0?ge.overrideMaterial:null;for(let Te=0,Be=U.length;Te<Be;Te++){const Ge=U[Te],qe=Ge.object,Qe=Ge.geometry,ut=ce===null?Ge.material:ce,Xe=Ge.group;qe.layers.test(be.layers)&&Ve(qe,ge,be,Qe,ut,Xe)}}function Ve(U,ge,be,ce,Te,Be){U.onBeforeRender(v,ge,be,ce,Te,Be),U.modelViewMatrix.multiplyMatrices(be.matrixWorldInverse,U.matrixWorld),U.normalMatrix.getNormalMatrix(U.modelViewMatrix),Te.onBeforeRender(v,ge,be,ce,U,Be),Te.transparent===!0&&Te.side===_s?(Te.side=Bi,Te.needsUpdate=!0,v.renderBufferDirect(be,ge,ce,Te,U,Be),Te.side=da,Te.needsUpdate=!0,v.renderBufferDirect(be,ge,ce,Te,U,Be),Te.side=_s):v.renderBufferDirect(be,ge,ce,Te,U,Be),U.onAfterRender(v,ge,be,ce,Te,Be)}function Ue(U,ge,be){ge.isScene!==!0&&(ge=Ee);const ce=C.get(U),Te=f.state.lights,Be=f.state.shadowsArray,Ge=Te.state.version,qe=ue.getParameters(U,Te.state,Be,ge,be),Qe=ue.getProgramCacheKey(qe);let ut=ce.programs;ce.environment=U.isMeshStandardMaterial?ge.environment:null,ce.fog=ge.fog,ce.envMap=(U.isMeshStandardMaterial?ee:j).get(U.envMap||ce.environment),ut===void 0&&(U.addEventListener("dispose",rt),ut=new Map,ce.programs=ut);let Xe=ut.get(Qe);if(Xe!==void 0){if(ce.currentProgram===Xe&&ce.lightsStateVersion===Ge)return nt(U,qe),Xe}else qe.uniforms=ue.getUniforms(U),U.onBuild(be,qe,v),U.onBeforeCompile(qe,v),Xe=ue.acquireProgram(qe,Qe),ut.set(Qe,Xe),ce.uniforms=qe.uniforms;const $e=ce.uniforms;(!U.isShaderMaterial&&!U.isRawShaderMaterial||U.clipping===!0)&&($e.clippingPlanes=D.uniform),nt(U,qe),ce.needsLights=Wt(U),ce.lightsStateVersion=Ge,ce.needsLights&&($e.ambientLightColor.value=Te.state.ambient,$e.lightProbe.value=Te.state.probe,$e.directionalLights.value=Te.state.directional,$e.directionalLightShadows.value=Te.state.directionalShadow,$e.spotLights.value=Te.state.spot,$e.spotLightShadows.value=Te.state.spotShadow,$e.rectAreaLights.value=Te.state.rectArea,$e.ltc_1.value=Te.state.rectAreaLTC1,$e.ltc_2.value=Te.state.rectAreaLTC2,$e.pointLights.value=Te.state.point,$e.pointLightShadows.value=Te.state.pointShadow,$e.hemisphereLights.value=Te.state.hemi,$e.directionalShadowMap.value=Te.state.directionalShadowMap,$e.directionalShadowMatrix.value=Te.state.directionalShadowMatrix,$e.spotShadowMap.value=Te.state.spotShadowMap,$e.spotLightMatrix.value=Te.state.spotLightMatrix,$e.spotLightMap.value=Te.state.spotLightMap,$e.pointShadowMap.value=Te.state.pointShadowMap,$e.pointShadowMatrix.value=Te.state.pointShadowMatrix);const wt=Xe.getUniforms(),Ti=D2.seqWithValue(wt.seq,$e);return ce.currentProgram=Xe,ce.uniformsList=Ti,Xe}function nt(U,ge){const be=C.get(U);be.outputEncoding=ge.outputEncoding,be.instancing=ge.instancing,be.skinning=ge.skinning,be.morphTargets=ge.morphTargets,be.morphNormals=ge.morphNormals,be.morphColors=ge.morphColors,be.morphTargetsCount=ge.morphTargetsCount,be.numClippingPlanes=ge.numClippingPlanes,be.numIntersection=ge.numClipIntersection,be.vertexAlphas=ge.vertexAlphas,be.vertexTangents=ge.vertexTangents,be.toneMapping=ge.toneMapping}function Yt(U,ge,be,ce,Te){ge.isScene!==!0&&(ge=Ee),I.resetTextureUnits();const Be=ge.fog,Ge=ce.isMeshStandardMaterial?ge.environment:null,qe=w===null?v.outputEncoding:w.isXRRenderTarget===!0?w.texture.encoding:pa,Qe=(ce.isMeshStandardMaterial?ee:j).get(ce.envMap||Ge),ut=ce.vertexColors===!0&&!!be.attributes.color&&be.attributes.color.itemSize===4,Xe=!!ce.normalMap&&!!be.attributes.tangent,$e=!!be.morphAttributes.position,wt=!!be.morphAttributes.normal,Ti=!!be.morphAttributes.color,pr=ce.toneMapped?v.toneMapping:Ss,ti=be.morphAttributes.position||be.morphAttributes.normal||be.morphAttributes.color,Ht=ti!==void 0?ti.length:0,bt=C.get(ce),Ls=f.state.lights;if(Y===!0&&(X===!0||U!==T)){const qn=U===T&&ce.id===S;D.setState(ce,U,qn)}let nn=!1;ce.version===bt.__version?(bt.needsLights&&bt.lightsStateVersion!==Ls.state.version||bt.outputEncoding!==qe||Te.isInstancedMesh&&bt.instancing===!1||!Te.isInstancedMesh&&bt.instancing===!0||Te.isSkinnedMesh&&bt.skinning===!1||!Te.isSkinnedMesh&&bt.skinning===!0||bt.envMap!==Qe||ce.fog===!0&&bt.fog!==Be||bt.numClippingPlanes!==void 0&&(bt.numClippingPlanes!==D.numPlanes||bt.numIntersection!==D.numIntersection)||bt.vertexAlphas!==ut||bt.vertexTangents!==Xe||bt.morphTargets!==$e||bt.morphNormals!==wt||bt.morphColors!==Ti||bt.toneMapping!==pr||$.isWebGL2===!0&&bt.morphTargetsCount!==Ht)&&(nn=!0):(nn=!0,bt.__version=ce.version);let ni=bt.currentProgram;nn===!0&&(ni=Ue(ce,ge,Te));let mr=!1,Rs=!1,Ra=!1;const On=ni.getUniforms(),Wi=bt.uniforms;if(oe.useProgram(ni.program)&&(mr=!0,Rs=!0,Ra=!0),ce.id!==S&&(S=ce.id,Rs=!0),mr||T!==U){if(On.setValue(ie,"projectionMatrix",U.projectionMatrix),$.logarithmicDepthBuffer&&On.setValue(ie,"logDepthBufFC",2/(Math.log(U.far+1)/Math.LN2)),T!==U&&(T=U,Rs=!0,Ra=!0),ce.isShaderMaterial||ce.isMeshPhongMaterial||ce.isMeshToonMaterial||ce.isMeshStandardMaterial||ce.envMap){const qn=On.map.cameraPosition;qn!==void 0&&qn.setValue(ie,pe.setFromMatrixPosition(U.matrixWorld))}(ce.isMeshPhongMaterial||ce.isMeshToonMaterial||ce.isMeshLambertMaterial||ce.isMeshBasicMaterial||ce.isMeshStandardMaterial||ce.isShaderMaterial)&&On.setValue(ie,"isOrthographic",U.isOrthographicCamera===!0),(ce.isMeshPhongMaterial||ce.isMeshToonMaterial||ce.isMeshLambertMaterial||ce.isMeshBasicMaterial||ce.isMeshStandardMaterial||ce.isShaderMaterial||ce.isShadowMaterial||Te.isSkinnedMesh)&&On.setValue(ie,"viewMatrix",U.matrixWorldInverse)}if(Te.isSkinnedMesh){On.setOptional(ie,Te,"bindMatrix"),On.setOptional(ie,Te,"bindMatrixInverse");const qn=Te.skeleton;qn&&($.floatVertexTextures?(qn.boneTexture===null&&qn.computeBoneTexture(),On.setValue(ie,"boneTexture",qn.boneTexture,I),On.setValue(ie,"boneTextureSize",qn.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Al=be.morphAttributes;if((Al.position!==void 0||Al.normal!==void 0||Al.color!==void 0&&$.isWebGL2===!0)&&me.update(Te,be,ce,ni),(Rs||bt.receiveShadow!==Te.receiveShadow)&&(bt.receiveShadow=Te.receiveShadow,On.setValue(ie,"receiveShadow",Te.receiveShadow)),ce.isMeshGouraudMaterial&&ce.envMap!==null&&(Wi.envMap.value=Qe,Wi.flipEnvMap.value=Qe.isCubeTexture&&Qe.isRenderTargetTexture===!1?-1:1),Rs&&(On.setValue(ie,"toneMappingExposure",v.toneMappingExposure),bt.needsLights&&st(Wi,Ra),Be&&ce.fog===!0&&Me.refreshFogUniforms(Wi,Be),Me.refreshMaterialUniforms(Wi,ce,H,k,O),D2.upload(ie,bt.uniformsList,Wi,I)),ce.isShaderMaterial&&ce.uniformsNeedUpdate===!0&&(D2.upload(ie,bt.uniformsList,Wi,I),ce.uniformsNeedUpdate=!1),ce.isSpriteMaterial&&On.setValue(ie,"center",Te.center),On.setValue(ie,"modelViewMatrix",Te.modelViewMatrix),On.setValue(ie,"normalMatrix",Te.normalMatrix),On.setValue(ie,"modelMatrix",Te.matrixWorld),ce.isShaderMaterial||ce.isRawShaderMaterial){const qn=ce.uniformsGroups;for(let Ia=0,s3=qn.length;Ia<s3;Ia++)if($.isWebGL2){const v0=qn[Ia];Le.update(v0,ni),Le.bind(v0,ni)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return ni}function st(U,ge){U.ambientLightColor.needsUpdate=ge,U.lightProbe.needsUpdate=ge,U.directionalLights.needsUpdate=ge,U.directionalLightShadows.needsUpdate=ge,U.pointLights.needsUpdate=ge,U.pointLightShadows.needsUpdate=ge,U.spotLights.needsUpdate=ge,U.spotLightShadows.needsUpdate=ge,U.rectAreaLights.needsUpdate=ge,U.hemisphereLights.needsUpdate=ge}function Wt(U){return U.isMeshLambertMaterial||U.isMeshToonMaterial||U.isMeshPhongMaterial||U.isMeshStandardMaterial||U.isShadowMaterial||U.isShaderMaterial&&U.lights===!0}this.getActiveCubeFace=function(){return y},this.getActiveMipmapLevel=function(){return M},this.getRenderTarget=function(){return w},this.setRenderTargetTextures=function(U,ge,be){C.get(U.texture).__webglTexture=ge,C.get(U.depthTexture).__webglTexture=be;const ce=C.get(U);ce.__hasExternalTextures=!0,ce.__hasExternalTextures&&(ce.__autoAllocateDepthBuffer=be===void 0,ce.__autoAllocateDepthBuffer||z.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ce.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(U,ge){const be=C.get(U);be.__webglFramebuffer=ge,be.__useDefaultFramebuffer=ge===void 0},this.setRenderTarget=function(U,ge=0,be=0){w=U,y=ge,M=be;let ce=!0,Te=null,Be=!1,Ge=!1;if(U){const Qe=C.get(U);Qe.__useDefaultFramebuffer!==void 0?(oe.bindFramebuffer(36160,null),ce=!1):Qe.__webglFramebuffer===void 0?I.setupRenderTarget(U):Qe.__hasExternalTextures&&I.rebindTextures(U,C.get(U.texture).__webglTexture,C.get(U.depthTexture).__webglTexture);const ut=U.texture;(ut.isData3DTexture||ut.isDataArrayTexture||ut.isCompressedArrayTexture)&&(Ge=!0);const Xe=C.get(U).__webglFramebuffer;U.isWebGLCubeRenderTarget?(Te=Xe[ge],Be=!0):$.isWebGL2&&U.samples>0&&I.useMultisampledRTT(U)===!1?Te=C.get(U).__webglMultisampledFramebuffer:Te=Xe,A.copy(U.viewport),R.copy(U.scissor),E=U.scissorTest}else A.copy(B).multiplyScalar(H).floor(),R.copy(N).multiplyScalar(H).floor(),E=W;if(oe.bindFramebuffer(36160,Te)&&$.drawBuffers&&ce&&oe.drawBuffers(U,Te),oe.viewport(A),oe.scissor(R),oe.setScissorTest(E),Be){const Qe=C.get(U.texture);ie.framebufferTexture2D(36160,36064,34069+ge,Qe.__webglTexture,be)}else if(Ge){const Qe=C.get(U.texture),ut=ge||0;ie.framebufferTextureLayer(36160,36064,Qe.__webglTexture,be||0,ut)}S=-1},this.readRenderTargetPixels=function(U,ge,be,ce,Te,Be,Ge){if(!(U&&U.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let qe=C.get(U).__webglFramebuffer;if(U.isWebGLCubeRenderTarget&&Ge!==void 0&&(qe=qe[Ge]),qe){oe.bindFramebuffer(36160,qe);try{const Qe=U.texture,ut=Qe.format,Xe=Qe.type;if(ut!==ki&&K.convert(ut)!==ie.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const $e=Xe===zc&&(z.has("EXT_color_buffer_half_float")||$.isWebGL2&&z.has("EXT_color_buffer_float"));if(Xe!==fa&&K.convert(Xe)!==ie.getParameter(35738)&&!(Xe===Js&&($.isWebGL2||z.has("OES_texture_float")||z.has("WEBGL_color_buffer_float")))&&!$e){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ge>=0&&ge<=U.width-ce&&be>=0&&be<=U.height-Te&&ie.readPixels(ge,be,ce,Te,K.convert(ut),K.convert(Xe),Be)}finally{const Qe=w!==null?C.get(w).__webglFramebuffer:null;oe.bindFramebuffer(36160,Qe)}}},this.copyFramebufferToTexture=function(U,ge,be=0){const ce=Math.pow(2,-be),Te=Math.floor(ge.image.width*ce),Be=Math.floor(ge.image.height*ce);I.setTexture2D(ge,0),ie.copyTexSubImage2D(3553,be,0,0,U.x,U.y,Te,Be),oe.unbindTexture()},this.copyTextureToTexture=function(U,ge,be,ce=0){const Te=ge.image.width,Be=ge.image.height,Ge=K.convert(be.format),qe=K.convert(be.type);I.setTexture2D(be,0),ie.pixelStorei(37440,be.flipY),ie.pixelStorei(37441,be.premultiplyAlpha),ie.pixelStorei(3317,be.unpackAlignment),ge.isDataTexture?ie.texSubImage2D(3553,ce,U.x,U.y,Te,Be,Ge,qe,ge.image.data):ge.isCompressedTexture?ie.compressedTexSubImage2D(3553,ce,U.x,U.y,ge.mipmaps[0].width,ge.mipmaps[0].height,Ge,ge.mipmaps[0].data):ie.texSubImage2D(3553,ce,U.x,U.y,Ge,qe,ge.image),ce===0&&be.generateMipmaps&&ie.generateMipmap(3553),oe.unbindTexture()},this.copyTextureToTexture3D=function(U,ge,be,ce,Te=0){if(v.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Be=U.max.x-U.min.x+1,Ge=U.max.y-U.min.y+1,qe=U.max.z-U.min.z+1,Qe=K.convert(ce.format),ut=K.convert(ce.type);let Xe;if(ce.isData3DTexture)I.setTexture3D(ce,0),Xe=32879;else if(ce.isDataArrayTexture)I.setTexture2DArray(ce,0),Xe=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}ie.pixelStorei(37440,ce.flipY),ie.pixelStorei(37441,ce.premultiplyAlpha),ie.pixelStorei(3317,ce.unpackAlignment);const $e=ie.getParameter(3314),wt=ie.getParameter(32878),Ti=ie.getParameter(3316),pr=ie.getParameter(3315),ti=ie.getParameter(32877),Ht=be.isCompressedTexture?be.mipmaps[0]:be.image;ie.pixelStorei(3314,Ht.width),ie.pixelStorei(32878,Ht.height),ie.pixelStorei(3316,U.min.x),ie.pixelStorei(3315,U.min.y),ie.pixelStorei(32877,U.min.z),be.isDataTexture||be.isData3DTexture?ie.texSubImage3D(Xe,Te,ge.x,ge.y,ge.z,Be,Ge,qe,Qe,ut,Ht.data):be.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),ie.compressedTexSubImage3D(Xe,Te,ge.x,ge.y,ge.z,Be,Ge,qe,Qe,Ht.data)):ie.texSubImage3D(Xe,Te,ge.x,ge.y,ge.z,Be,Ge,qe,Qe,ut,Ht),ie.pixelStorei(3314,$e),ie.pixelStorei(32878,wt),ie.pixelStorei(3316,Ti),ie.pixelStorei(3315,pr),ie.pixelStorei(32877,ti),Te===0&&ce.generateMipmaps&&ie.generateMipmap(Xe),oe.unbindTexture()},this.initTexture=function(U){U.isCubeTexture?I.setTextureCube(U,0):U.isData3DTexture?I.setTexture3D(U,0):U.isDataArrayTexture||U.isCompressedArrayTexture?I.setTexture2DArray(U,0):I.setTexture2D(U,0),oe.unbindTexture()},this.resetState=function(){y=0,M=0,w=null,oe.reset(),ae.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class rR extends Ca{}rR.prototype.isWebGL1Renderer=!0;class ml extends mt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.backgroundBlurriness=this.backgroundBlurriness),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class sR{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=_d,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=or()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=t.array[n+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=or()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=or()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const ii=new Z;class qf{constructor(e,t,n,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=i===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)ii.fromBufferAttribute(this,t),ii.applyMatrix4(e),this.setXYZ(t,ii.x,ii.y,ii.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)ii.fromBufferAttribute(this,t),ii.applyNormalMatrix(e),this.setXYZ(t,ii.x,ii.y,ii.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)ii.fromBufferAttribute(this,t),ii.transformDirection(e),this.setXYZ(t,ii.x,ii.y,ii.z);return this}setX(e,t){return this.normalized&&(t=Bt(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Bt(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Bt(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Bt(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=vs(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=vs(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=vs(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=vs(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=Bt(t,this.array),n=Bt(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Bt(t,this.array),n=Bt(n,this.array),i=Bt(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this}setXYZW(e,t,n,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=Bt(t,this.array),n=Bt(n,this.array),i=Bt(i,this.array),s=Bt(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will deinterleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const i=n*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return new jn(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new qf(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will deinterleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const i=n*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}const W9=new Z,j9=new It,q9=new It,oR=new Z,X9=new Ke;class mm extends $t{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Ke,this.bindMatrixInverse=new Ke}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new It,t=this.geometry.attributes.skinWeight;for(let n=0,i=t.count;n<i;n++){e.fromBufferAttribute(t,n);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const n=this.skeleton,i=this.geometry;j9.fromBufferAttribute(i.attributes.skinIndex,e),q9.fromBufferAttribute(i.attributes.skinWeight,e),W9.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=q9.getComponent(s);if(o!==0){const a=j9.getComponent(s);X9.multiplyMatrices(n.bones[a].matrixWorld,n.boneInverses[a]),t.addScaledVector(oR.copy(W9).applyMatrix4(X9),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class su extends mt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class gm extends Tn{constructor(e=null,t=1,n=1,i,s,o,a,l,c=Mn,h=Mn,d,f){super(null,o,a,l,c,h,i,s,d,f),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const $9=new Ke,aR=new Ke;class Xu{constructor(e=[],t=[]){this.uuid=or(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let n=0,i=this.bones.length;n<i;n++)this.boneInverses.push(new Ke)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const n=new Ke;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&(n.parent&&n.parent.isBone?(n.matrix.copy(n.parent.matrixWorld).invert(),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:aR;$9.multiplyMatrices(a,t[s]),$9.toArray(n,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new Xu(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=em(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new gm(t,e,e,ki,Js);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,i=e.bones.length;n<i;n++){const s=e.bones[n];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new su),this.bones.push(o),this.boneInverses.push(new Ke().fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let i=0,s=t.length;i<s;i++){const o=t[i];e.bones.push(o.uuid);const a=n[i];e.boneInverses.push(a.toArray())}return e}}class K9 extends jn{constructor(e,t,n,i=1){super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Y9=new Ke,Z9=new Ke,J0=[],lR=new Ke,Xl=new $t;class cR extends $t{constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new K9(new Float32Array(n*16),16),this.instanceColor=null,this.count=n,this.frustumCulled=!1;for(let i=0;i<n;i++)this.setMatrixAt(i,lR)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const n=this.matrixWorld,i=this.count;if(Xl.geometry=this.geometry,Xl.material=this.material,Xl.material!==void 0)for(let s=0;s<i;s++){this.getMatrixAt(s,Y9),Z9.multiplyMatrices(n,Y9),Xl.matrixWorld=Z9,Xl.raycast(e,J0);for(let o=0,a=J0.length;o<a;o++){const l=J0[o];l.instanceId=s,l.object=this,t.push(l)}J0.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new K9(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class gl extends ar{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new je(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const Q9=new Z,J9=new Z,e6=new Ke,xh=new Hf,e2=new fl;class u0 extends mt{constructor(e=new Xt,t=new gl){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[0];for(let i=1,s=t.count;i<s;i++)Q9.fromBufferAttribute(t,i-1),J9.fromBufferAttribute(t,i),n[i]=n[i-1],n[i]+=Q9.distanceTo(J9);e.setAttribute("lineDistance",new Lt(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const n=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),e2.copy(n.boundingSphere),e2.applyMatrix4(i),e2.radius+=s,e.ray.intersectsSphere(e2)===!1)return;e6.copy(i).invert(),xh.copy(e.ray).applyMatrix4(e6);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new Z,h=new Z,d=new Z,f=new Z,m=this.isLineSegments?2:1,_=n.index,x=n.attributes.position;if(_!==null){const y=Math.max(0,o.start),M=Math.min(_.count,o.start+o.count);for(let w=y,S=M-1;w<S;w+=m){const T=_.getX(w),A=_.getX(w+1);if(c.fromBufferAttribute(x,T),h.fromBufferAttribute(x,A),xh.distanceSqToSegment(c,h,f,d)>l)continue;f.applyMatrix4(this.matrixWorld);const E=e.ray.origin.distanceTo(f);E<e.near||E>e.far||t.push({distance:E,point:d.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}}else{const y=Math.max(0,o.start),M=Math.min(x.count,o.start+o.count);for(let w=y,S=M-1;w<S;w+=m){if(c.fromBufferAttribute(x,w),h.fromBufferAttribute(x,w+1),xh.distanceSqToSegment(c,h,f,d)>l)continue;f.applyMatrix4(this.matrixWorld);const A=e.ray.origin.distanceTo(f);A<e.near||A>e.far||t.push({distance:A,point:d.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const t6=new Z,n6=new Z;class Xf extends u0{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[];for(let i=0,s=t.count;i<s;i+=2)t6.fromBufferAttribute(t,i),n6.fromBufferAttribute(t,i+1),n[i]=i===0?0:n[i-1],n[i+1]=n[i]+t6.distanceTo(n6);e.setAttribute("lineDistance",new Lt(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class uR extends u0{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class _m extends ar{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new je(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const i6=new Ke,yd=new Hf,t2=new fl,n2=new Z;class vm extends mt{constructor(e=new Xt,t=new _m){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),t2.copy(n.boundingSphere),t2.applyMatrix4(i),t2.radius+=s,e.ray.intersectsSphere(t2)===!1)return;i6.copy(i).invert(),yd.copy(e.ray).applyMatrix4(i6);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=n.index,d=n.attributes.position;if(c!==null){const f=Math.max(0,o.start),m=Math.min(c.count,o.start+o.count);for(let _=f,v=m;_<v;_++){const x=c.getX(_);n2.fromBufferAttribute(d,x),r6(n2,x,l,i,e,t,this)}}else{const f=Math.max(0,o.start),m=Math.min(d.count,o.start+o.count);for(let _=f,v=m;_<v;_++)n2.fromBufferAttribute(d,_),r6(n2,_,l,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function r6(r,e,t,n,i,s,o){const a=yd.distanceSqToPoint(r);if(a<t){const l=new Z;yd.closestPointToPoint(r,l),l.applyMatrix4(n);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class hR extends Tn{constructor(e,t,n,i,s,o,a,l,c){super(e,t,n,i,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:Vn,this.magFilter=s!==void 0?s:Vn,this.generateMipmaps=!1;const h=this;function d(){h.needsUpdate=!0,e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Rr{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,i=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)n=this.getPoint(o/e),s+=n.distanceTo(i),t.push(s),i=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const n=this.getLengths();let i=0;const s=n.length;let o;t?o=t:o=e*n[s-1];let a=0,l=s-1,c;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),c=n[i]-o,c<0)a=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,n[i]===o)return i/(s-1);const h=n[i],f=n[i+1]-h,m=(o-h)/f;return(i+m)/(s-1)}getTangent(e,t){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=t||(o.isVector2?new Ie:new Z);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t){const n=new Z,i=[],s=[],o=[],a=new Z,l=new Ke;for(let m=0;m<=e;m++){const _=m/e;i[m]=this.getTangentAt(_,new Z)}s[0]=new Z,o[0]=new Z;let c=Number.MAX_VALUE;const h=Math.abs(i[0].x),d=Math.abs(i[0].y),f=Math.abs(i[0].z);h<=c&&(c=h,n.set(1,0,0)),d<=c&&(c=d,n.set(0,1,0)),f<=c&&n.set(0,0,1),a.crossVectors(i[0],n).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(i[m-1],i[m]),a.length()>Number.EPSILON){a.normalize();const _=Math.acos(Rn(i[m-1].dot(i[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,_))}o[m].crossVectors(i[m],s[m])}if(t===!0){let m=Math.acos(Rn(s[0].dot(s[e]),-1,1));m/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let _=1;_<=e;_++)s[_].applyMatrix4(l.makeRotationAxis(i[_],m*_)),o[_].crossVectors(i[_],s[_])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class $f extends Rr{constructor(e=0,t=0,n=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const n=t||new Ie,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const h=Math.cos(this.aRotation),d=Math.sin(this.aRotation),f=l-this.aX,m=c-this.aY;l=f*h-m*d+this.aX,c=f*d+m*h+this.aY}return n.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class dR extends $f{constructor(e,t,n,i,s,o){super(e,t,n,n,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function Kf(){let r=0,e=0,t=0,n=0;function i(s,o,a,l){r=s,e=a,t=-3*s+3*o-2*a-l,n=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){i(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,h,d){let f=(o-s)/c-(a-s)/(c+h)+(a-o)/h,m=(a-o)/h-(l-o)/(h+d)+(l-a)/d;f*=h,m*=h,i(o,a,f,m)},calc:function(s){const o=s*s,a=o*s;return r+e*s+t*o+n*a}}}const i2=new Z,bh=new Kf,yh=new Kf,wh=new Kf;class fR extends Rr{constructor(e=[],t=!1,n="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=i}getPoint(e,t=new Z){const n=t,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,h;this.closed||a>0?c=i[(a-1)%s]:(i2.subVectors(i[0],i[1]).add(i[0]),c=i2);const d=i[a%s],f=i[(a+1)%s];if(this.closed||a+2<s?h=i[(a+2)%s]:(i2.subVectors(i[s-1],i[s-2]).add(i[s-1]),h=i2),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let _=Math.pow(c.distanceToSquared(d),m),v=Math.pow(d.distanceToSquared(f),m),x=Math.pow(f.distanceToSquared(h),m);v<1e-4&&(v=1),_<1e-4&&(_=v),x<1e-4&&(x=v),bh.initNonuniformCatmullRom(c.x,d.x,f.x,h.x,_,v,x),yh.initNonuniformCatmullRom(c.y,d.y,f.y,h.y,_,v,x),wh.initNonuniformCatmullRom(c.z,d.z,f.z,h.z,_,v,x)}else this.curveType==="catmullrom"&&(bh.initCatmullRom(c.x,d.x,f.x,h.x,this.tension),yh.initCatmullRom(c.y,d.y,f.y,h.y,this.tension),wh.initCatmullRom(c.z,d.z,f.z,h.z,this.tension));return n.set(bh.calc(l),yh.calc(l),wh.calc(l)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(new Z().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function s6(r,e,t,n,i){const s=(n-e)*.5,o=(i-t)*.5,a=r*r,l=r*a;return(2*t-2*n+s+o)*l+(-3*t+3*n-2*s-o)*a+s*r+t}function pR(r,e){const t=1-r;return t*t*e}function mR(r,e){return 2*(1-r)*r*e}function gR(r,e){return r*r*e}function _c(r,e,t,n){return pR(r,e)+mR(r,t)+gR(r,n)}function _R(r,e){const t=1-r;return t*t*t*e}function vR(r,e){const t=1-r;return 3*t*t*r*e}function xR(r,e){return 3*(1-r)*r*r*e}function bR(r,e){return r*r*r*e}function vc(r,e,t,n,i){return _R(r,e)+vR(r,t)+xR(r,n)+bR(r,i)}class xm extends Rr{constructor(e=new Ie,t=new Ie,n=new Ie,i=new Ie){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=i}getPoint(e,t=new Ie){const n=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return n.set(vc(e,i.x,s.x,o.x,a.x),vc(e,i.y,s.y,o.y,a.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class yR extends Rr{constructor(e=new Z,t=new Z,n=new Z,i=new Z){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=i}getPoint(e,t=new Z){const n=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return n.set(vc(e,i.x,s.x,o.x,a.x),vc(e,i.y,s.y,o.y,a.y),vc(e,i.z,s.z,o.z,a.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Yf extends Rr{constructor(e=new Ie,t=new Ie){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Ie){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const n=t||new Ie;return n.copy(this.v2).sub(this.v1).normalize(),n}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class wR extends Rr{constructor(e=new Z,t=new Z){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new Z){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class bm extends Rr{constructor(e=new Ie,t=new Ie,n=new Ie){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new Ie){const n=t,i=this.v0,s=this.v1,o=this.v2;return n.set(_c(e,i.x,s.x,o.x),_c(e,i.y,s.y,o.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class SR extends Rr{constructor(e=new Z,t=new Z,n=new Z){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new Z){const n=t,i=this.v0,s=this.v1,o=this.v2;return n.set(_c(e,i.x,s.x,o.x),_c(e,i.y,s.y,o.y),_c(e,i.z,s.z,o.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class ym extends Rr{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Ie){const n=t,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],c=i[o],h=i[o>i.length-2?i.length-1:o+1],d=i[o>i.length-3?i.length-1:o+2];return n.set(s6(a,l.x,c.x,h.x,d.x),s6(a,l.y,c.y,h.y,d.y)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(new Ie().fromArray(i))}return this}}var wm=Object.freeze({__proto__:null,ArcCurve:dR,CatmullRomCurve3:fR,CubicBezierCurve:xm,CubicBezierCurve3:yR,EllipseCurve:$f,LineCurve:Yf,LineCurve3:wR,QuadraticBezierCurve:bm,QuadraticBezierCurve3:SR,SplineCurve:ym});class MR extends Rr{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Yf(t,e))}getPoint(e,t){const n=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=n){const o=i[s]-n,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,i=this.curves.length;n<i;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let n;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const h=l[c];n&&n.equals(h)||(t.push(h),n=h)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const i=e.curves[t];this.curves.push(new wm[i.type]().fromJSON(i))}return this}}class wd extends MR{constructor(e){super(),this.type="Path",this.currentPoint=new Ie,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const n=new Yf(this.currentPoint.clone(),new Ie(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,i){const s=new bm(this.currentPoint.clone(),new Ie(e,t),new Ie(n,i));return this.curves.push(s),this.currentPoint.set(n,i),this}bezierCurveTo(e,t,n,i,s,o){const a=new xm(this.currentPoint.clone(),new Ie(e,t),new Ie(n,i),new Ie(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),n=new ym(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,n,i,s,o),this}absarc(e,t,n,i,s,o){return this.absellipse(e,t,n,n,i,s,o),this}ellipse(e,t,n,i,s,o,a,l){const c=this.currentPoint.x,h=this.currentPoint.y;return this.absellipse(e+c,t+h,n,i,s,o,a,l),this}absellipse(e,t,n,i,s,o,a,l){const c=new $f(e,t,n,i,s,o,a,l);if(this.curves.length>0){const d=c.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(c);const h=c.getPoint(1);return this.currentPoint.copy(h),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Zf extends Xt{constructor(e=1,t=8,n=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:i},t=Math.max(3,t);const s=[],o=[],a=[],l=[],c=new Z,h=new Ie;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let d=0,f=3;d<=t;d++,f+=3){const m=n+d/t*i;c.x=e*Math.cos(m),c.y=e*Math.sin(m),o.push(c.x,c.y,c.z),a.push(0,0,1),h.x=(o[f]/e+1)/2,h.y=(o[f+1]/e+1)/2,l.push(h.x,h.y)}for(let d=1;d<=t;d++)s.push(d,d+1,0);this.setIndex(s),this.setAttribute("position",new Lt(o,3)),this.setAttribute("normal",new Lt(a,3)),this.setAttribute("uv",new Lt(l,2))}static fromJSON(e){return new Zf(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Hc extends Xt{constructor(e=1,t=1,n=1,i=8,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;i=Math.floor(i),s=Math.floor(s);const h=[],d=[],f=[],m=[];let _=0;const v=[],x=n/2;let y=0;M(),o===!1&&(e>0&&w(!0),t>0&&w(!1)),this.setIndex(h),this.setAttribute("position",new Lt(d,3)),this.setAttribute("normal",new Lt(f,3)),this.setAttribute("uv",new Lt(m,2));function M(){const S=new Z,T=new Z;let A=0;const R=(t-e)/n;for(let E=0;E<=s;E++){const L=[],k=E/s,H=k*(t-e)+e;for(let te=0;te<=i;te++){const q=te/i,B=q*l+a,N=Math.sin(B),W=Math.cos(B);T.x=H*N,T.y=-k*n+x,T.z=H*W,d.push(T.x,T.y,T.z),S.set(N,R,W).normalize(),f.push(S.x,S.y,S.z),m.push(q,1-k),L.push(_++)}v.push(L)}for(let E=0;E<i;E++)for(let L=0;L<s;L++){const k=v[L][E],H=v[L+1][E],te=v[L+1][E+1],q=v[L][E+1];h.push(k,H,q),h.push(H,te,q),A+=6}c.addGroup(y,A,0),y+=A}function w(S){const T=_,A=new Ie,R=new Z;let E=0;const L=S===!0?e:t,k=S===!0?1:-1;for(let te=1;te<=i;te++)d.push(0,x*k,0),f.push(0,k,0),m.push(.5,.5),_++;const H=_;for(let te=0;te<=i;te++){const B=te/i*l+a,N=Math.cos(B),W=Math.sin(B);R.x=L*W,R.y=x*k,R.z=L*N,d.push(R.x,R.y,R.z),f.push(0,k,0),A.x=N*.5+.5,A.y=W*.5*k+.5,m.push(A.x,A.y),_++}for(let te=0;te<i;te++){const q=T+te,B=H+te;S===!0?h.push(B,B+1,q):h.push(B+1,B,q),E+=3}c.addGroup(y,E,S===!0?1:2),y+=E}}static fromJSON(e){return new Hc(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class $u extends wd{constructor(e){super(e),this.uuid=or(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let n=0,i=this.holes.length;n<i;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const i=e.holes[t];this.holes.push(new wd().fromJSON(i))}return this}}const ER={triangulate:function(r,e,t=2){const n=e&&e.length,i=n?e[0]*t:r.length;let s=Sm(r,0,i,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,h,d,f,m;if(n&&(s=LR(r,e,s,t)),r.length>80*t){a=c=r[0],l=h=r[1];for(let _=t;_<i;_+=t)d=r[_],f=r[_+1],d<a&&(a=d),f<l&&(l=f),d>c&&(c=d),f>h&&(h=f);m=Math.max(c-a,h-l),m=m!==0?32767/m:0}return Gc(s,o,t,a,l,m,0),o}};function Sm(r,e,t,n,i){let s,o;if(i===VR(r,e,t,n)>0)for(s=e;s<t;s+=n)o=o6(s,r[s],r[s+1],o);else for(s=t-n;s>=e;s-=n)o=o6(s,r[s],r[s+1],o);return o&&Ku(o,o.next)&&(jc(o),o=o.next),o}function _a(r,e){if(!r)return r;e||(e=r);let t=r,n;do if(n=!1,!t.steiner&&(Ku(t,t.next)||en(t.prev,t,t.next)===0)){if(jc(t),t=e=t.prev,t===t.next)break;n=!0}else t=t.next;while(n||t!==e);return e}function Gc(r,e,t,n,i,s,o){if(!r)return;!o&&s&&OR(r,n,i,s);let a=r,l,c;for(;r.prev!==r.next;){if(l=r.prev,c=r.next,s?CR(r,n,i,s):TR(r)){e.push(l.i/t|0),e.push(r.i/t|0),e.push(c.i/t|0),jc(r),r=c.next,a=c.next;continue}if(r=c,r===a){o?o===1?(r=AR(_a(r),e,t),Gc(r,e,t,n,i,s,2)):o===2&&PR(r,e,t,n,i,s):Gc(_a(r),e,t,n,i,s,1);break}}}function TR(r){const e=r.prev,t=r,n=r.next;if(en(e,t,n)>=0)return!1;const i=e.x,s=t.x,o=n.x,a=e.y,l=t.y,c=n.y,h=i<s?i<o?i:o:s<o?s:o,d=a<l?a<c?a:c:l<c?l:c,f=i>s?i>o?i:o:s>o?s:o,m=a>l?a>c?a:c:l>c?l:c;let _=n.next;for(;_!==e;){if(_.x>=h&&_.x<=f&&_.y>=d&&_.y<=m&&v1(i,a,s,l,o,c,_.x,_.y)&&en(_.prev,_,_.next)>=0)return!1;_=_.next}return!0}function CR(r,e,t,n){const i=r.prev,s=r,o=r.next;if(en(i,s,o)>=0)return!1;const a=i.x,l=s.x,c=o.x,h=i.y,d=s.y,f=o.y,m=a<l?a<c?a:c:l<c?l:c,_=h<d?h<f?h:f:d<f?d:f,v=a>l?a>c?a:c:l>c?l:c,x=h>d?h>f?h:f:d>f?d:f,y=Sd(m,_,e,t,n),M=Sd(v,x,e,t,n);let w=r.prevZ,S=r.nextZ;for(;w&&w.z>=y&&S&&S.z<=M;){if(w.x>=m&&w.x<=v&&w.y>=_&&w.y<=x&&w!==i&&w!==o&&v1(a,h,l,d,c,f,w.x,w.y)&&en(w.prev,w,w.next)>=0||(w=w.prevZ,S.x>=m&&S.x<=v&&S.y>=_&&S.y<=x&&S!==i&&S!==o&&v1(a,h,l,d,c,f,S.x,S.y)&&en(S.prev,S,S.next)>=0))return!1;S=S.nextZ}for(;w&&w.z>=y;){if(w.x>=m&&w.x<=v&&w.y>=_&&w.y<=x&&w!==i&&w!==o&&v1(a,h,l,d,c,f,w.x,w.y)&&en(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;S&&S.z<=M;){if(S.x>=m&&S.x<=v&&S.y>=_&&S.y<=x&&S!==i&&S!==o&&v1(a,h,l,d,c,f,S.x,S.y)&&en(S.prev,S,S.next)>=0)return!1;S=S.nextZ}return!0}function AR(r,e,t){let n=r;do{const i=n.prev,s=n.next.next;!Ku(i,s)&&Mm(i,n,n.next,s)&&Wc(i,s)&&Wc(s,i)&&(e.push(i.i/t|0),e.push(n.i/t|0),e.push(s.i/t|0),jc(n),jc(n.next),n=r=s),n=n.next}while(n!==r);return _a(n)}function PR(r,e,t,n,i,s){let o=r;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&zR(o,a)){let l=Em(o,a);o=_a(o,o.next),l=_a(l,l.next),Gc(o,e,t,n,i,s,0),Gc(l,e,t,n,i,s,0);return}a=a.next}o=o.next}while(o!==r)}function LR(r,e,t,n){const i=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*n,l=s<o-1?e[s+1]*n:r.length,c=Sm(r,a,l,n,!1),c===c.next&&(c.steiner=!0),i.push(NR(c));for(i.sort(RR),s=0;s<i.length;s++)t=IR(i[s],t);return t}function RR(r,e){return r.x-e.x}function IR(r,e){const t=DR(r,e);if(!t)return e;const n=Em(t,r);return _a(n,n.next),_a(t,t.next)}function DR(r,e){let t=e,n=-1/0,i;const s=r.x,o=r.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const f=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(f<=s&&f>n&&(n=f,i=t.x<t.next.x?t:t.next,f===s))return i}t=t.next}while(t!==e);if(!i)return null;const a=i,l=i.x,c=i.y;let h=1/0,d;t=i;do s>=t.x&&t.x>=l&&s!==t.x&&v1(o<c?s:n,o,l,c,o<c?n:s,o,t.x,t.y)&&(d=Math.abs(o-t.y)/(s-t.x),Wc(t,r)&&(d<h||d===h&&(t.x>i.x||t.x===i.x&&kR(i,t)))&&(i=t,h=d)),t=t.next;while(t!==a);return i}function kR(r,e){return en(r.prev,r,e.prev)<0&&en(e.next,r,r.next)<0}function OR(r,e,t,n){let i=r;do i.z===0&&(i.z=Sd(i.x,i.y,e,t,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==r);i.prevZ.nextZ=null,i.prevZ=null,FR(i)}function FR(r){let e,t,n,i,s,o,a,l,c=1;do{for(t=r,r=null,s=null,o=0;t;){for(o++,n=t,a=0,e=0;e<c&&(a++,n=n.nextZ,!!n);e++);for(l=c;a>0||l>0&&n;)a!==0&&(l===0||!n||t.z<=n.z)?(i=t,t=t.nextZ,a--):(i=n,n=n.nextZ,l--),s?s.nextZ=i:r=i,i.prevZ=s,s=i;t=n}s.nextZ=null,c*=2}while(o>1);return r}function Sd(r,e,t,n,i){return r=(r-t)*i|0,e=(e-n)*i|0,r=(r|r<<8)&16711935,r=(r|r<<4)&252645135,r=(r|r<<2)&858993459,r=(r|r<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,r|e<<1}function NR(r){let e=r,t=r;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==r);return t}function v1(r,e,t,n,i,s,o,a){return(i-o)*(e-a)>=(r-o)*(s-a)&&(r-o)*(n-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(i-o)*(n-a)}function zR(r,e){return r.next.i!==e.i&&r.prev.i!==e.i&&!BR(r,e)&&(Wc(r,e)&&Wc(e,r)&&UR(r,e)&&(en(r.prev,r,e.prev)||en(r,e.prev,e))||Ku(r,e)&&en(r.prev,r,r.next)>0&&en(e.prev,e,e.next)>0)}function en(r,e,t){return(e.y-r.y)*(t.x-e.x)-(e.x-r.x)*(t.y-e.y)}function Ku(r,e){return r.x===e.x&&r.y===e.y}function Mm(r,e,t,n){const i=s2(en(r,e,t)),s=s2(en(r,e,n)),o=s2(en(t,n,r)),a=s2(en(t,n,e));return!!(i!==s&&o!==a||i===0&&r2(r,t,e)||s===0&&r2(r,n,e)||o===0&&r2(t,r,n)||a===0&&r2(t,e,n))}function r2(r,e,t){return e.x<=Math.max(r.x,t.x)&&e.x>=Math.min(r.x,t.x)&&e.y<=Math.max(r.y,t.y)&&e.y>=Math.min(r.y,t.y)}function s2(r){return r>0?1:r<0?-1:0}function BR(r,e){let t=r;do{if(t.i!==r.i&&t.next.i!==r.i&&t.i!==e.i&&t.next.i!==e.i&&Mm(t,t.next,r,e))return!0;t=t.next}while(t!==r);return!1}function Wc(r,e){return en(r.prev,r,r.next)<0?en(r,e,r.next)>=0&&en(r,r.prev,e)>=0:en(r,e,r.prev)<0||en(r,r.next,e)<0}function UR(r,e){let t=r,n=!1;const i=(r.x+e.x)/2,s=(r.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&i<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(n=!n),t=t.next;while(t!==r);return n}function Em(r,e){const t=new Md(r.i,r.x,r.y),n=new Md(e.i,e.x,e.y),i=r.next,s=e.prev;return r.next=e,e.prev=r,t.next=i,i.prev=t,n.next=t,t.prev=n,s.next=n,n.prev=s,n}function o6(r,e,t,n){const i=new Md(r,e,t);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function jc(r){r.next.prev=r.prev,r.prev.next=r.next,r.prevZ&&(r.prevZ.nextZ=r.nextZ),r.nextZ&&(r.nextZ.prevZ=r.prevZ)}function Md(r,e,t){this.i=r,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function VR(r,e,t,n){let i=0;for(let s=e,o=t-n;s<t;s+=n)i+=(r[o]-r[s])*(r[s+1]+r[o+1]),o=s;return i}class co{static area(e){const t=e.length;let n=0;for(let i=t-1,s=0;s<t;i=s++)n+=e[i].x*e[s].y-e[s].x*e[i].y;return n*.5}static isClockWise(e){return co.area(e)<0}static triangulateShape(e,t){const n=[],i=[],s=[];a6(e),l6(n,e);let o=e.length;t.forEach(a6);for(let l=0;l<t.length;l++)i.push(o),o+=t[l].length,l6(n,t[l]);const a=ER.triangulate(n,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function a6(r){const e=r.length;e>2&&r[e-1].equals(r[0])&&r.pop()}function l6(r,e){for(let t=0;t<e.length;t++)r.push(e[t].x),r.push(e[t].y)}class Yu extends Xt{constructor(e=new $u([new Ie(.5,.5),new Ie(-.5,.5),new Ie(-.5,-.5),new Ie(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new Lt(i,3)),this.setAttribute("uv",new Lt(s,2)),this.computeVertexNormals();function o(a){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,h=t.steps!==void 0?t.steps:1,d=t.depth!==void 0?t.depth:1;let f=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,_=t.bevelSize!==void 0?t.bevelSize:m-.1,v=t.bevelOffset!==void 0?t.bevelOffset:0,x=t.bevelSegments!==void 0?t.bevelSegments:3;const y=t.extrudePath,M=t.UVGenerator!==void 0?t.UVGenerator:HR;let w,S=!1,T,A,R,E;y&&(w=y.getSpacedPoints(h),S=!0,f=!1,T=y.computeFrenetFrames(h,!1),A=new Z,R=new Z,E=new Z),f||(x=0,m=0,_=0,v=0);const L=a.extractPoints(c);let k=L.shape;const H=L.holes;if(!co.isClockWise(k)){k=k.reverse();for(let C=0,I=H.length;C<I;C++){const j=H[C];co.isClockWise(j)&&(H[C]=j.reverse())}}const q=co.triangulateShape(k,H),B=k;for(let C=0,I=H.length;C<I;C++){const j=H[C];k=k.concat(j)}function N(C,I,j){return I||console.error("THREE.ExtrudeGeometry: vec does not exist"),I.clone().multiplyScalar(j).add(C)}const W=k.length,V=q.length;function Y(C,I,j){let ee,ne,G;const xe=C.x-I.x,ue=C.y-I.y,Me=j.x-C.x,ye=j.y-C.y,F=xe*xe+ue*ue,D=xe*ye-ue*Me;if(Math.abs(D)>Number.EPSILON){const re=Math.sqrt(F),fe=Math.sqrt(Me*Me+ye*ye),me=I.x-ue/re,Ce=I.y+xe/re,Pe=j.x-ye/fe,K=j.y+Me/fe,ae=((Pe-me)*ye-(K-Ce)*Me)/(xe*ye-ue*Me);ee=me+xe*ae-C.x,ne=Ce+ue*ae-C.y;const Le=ee*ee+ne*ne;if(Le<=2)return new Ie(ee,ne);G=Math.sqrt(Le/2)}else{let re=!1;xe>Number.EPSILON?Me>Number.EPSILON&&(re=!0):xe<-Number.EPSILON?Me<-Number.EPSILON&&(re=!0):Math.sign(ue)===Math.sign(ye)&&(re=!0),re?(ee=-ue,ne=xe,G=Math.sqrt(F)):(ee=xe,ne=ue,G=Math.sqrt(F/2))}return new Ie(ee/G,ne/G)}const X=[];for(let C=0,I=B.length,j=I-1,ee=C+1;C<I;C++,j++,ee++)j===I&&(j=0),ee===I&&(ee=0),X[C]=Y(B[C],B[j],B[ee]);const O=[];let de,_e=X.concat();for(let C=0,I=H.length;C<I;C++){const j=H[C];de=[];for(let ee=0,ne=j.length,G=ne-1,xe=ee+1;ee<ne;ee++,G++,xe++)G===ne&&(G=0),xe===ne&&(xe=0),de[ee]=Y(j[ee],j[G],j[xe]);O.push(de),_e=_e.concat(de)}for(let C=0;C<x;C++){const I=C/x,j=m*Math.cos(I*Math.PI/2),ee=_*Math.sin(I*Math.PI/2)+v;for(let ne=0,G=B.length;ne<G;ne++){const xe=N(B[ne],X[ne],ee);J(xe.x,xe.y,-j)}for(let ne=0,G=H.length;ne<G;ne++){const xe=H[ne];de=O[ne];for(let ue=0,Me=xe.length;ue<Me;ue++){const ye=N(xe[ue],de[ue],ee);J(ye.x,ye.y,-j)}}}const pe=_+v;for(let C=0;C<W;C++){const I=f?N(k[C],_e[C],pe):k[C];S?(R.copy(T.normals[0]).multiplyScalar(I.x),A.copy(T.binormals[0]).multiplyScalar(I.y),E.copy(w[0]).add(R).add(A),J(E.x,E.y,E.z)):J(I.x,I.y,0)}for(let C=1;C<=h;C++)for(let I=0;I<W;I++){const j=f?N(k[I],_e[I],pe):k[I];S?(R.copy(T.normals[C]).multiplyScalar(j.x),A.copy(T.binormals[C]).multiplyScalar(j.y),E.copy(w[C]).add(R).add(A),J(E.x,E.y,E.z)):J(j.x,j.y,d/h*C)}for(let C=x-1;C>=0;C--){const I=C/x,j=m*Math.cos(I*Math.PI/2),ee=_*Math.sin(I*Math.PI/2)+v;for(let ne=0,G=B.length;ne<G;ne++){const xe=N(B[ne],X[ne],ee);J(xe.x,xe.y,d+j)}for(let ne=0,G=H.length;ne<G;ne++){const xe=H[ne];de=O[ne];for(let ue=0,Me=xe.length;ue<Me;ue++){const ye=N(xe[ue],de[ue],ee);S?J(ye.x,ye.y+w[h-1].y,w[h-1].x+j):J(ye.x,ye.y,d+j)}}}Ee(),se();function Ee(){const C=i.length/3;if(f){let I=0,j=W*I;for(let ee=0;ee<V;ee++){const ne=q[ee];z(ne[2]+j,ne[1]+j,ne[0]+j)}I=h+x*2,j=W*I;for(let ee=0;ee<V;ee++){const ne=q[ee];z(ne[0]+j,ne[1]+j,ne[2]+j)}}else{for(let I=0;I<V;I++){const j=q[I];z(j[2],j[1],j[0])}for(let I=0;I<V;I++){const j=q[I];z(j[0]+W*h,j[1]+W*h,j[2]+W*h)}}n.addGroup(C,i.length/3-C,0)}function se(){const C=i.length/3;let I=0;ie(B,I),I+=B.length;for(let j=0,ee=H.length;j<ee;j++){const ne=H[j];ie(ne,I),I+=ne.length}n.addGroup(C,i.length/3-C,1)}function ie(C,I){let j=C.length;for(;--j>=0;){const ee=j;let ne=j-1;ne<0&&(ne=C.length-1);for(let G=0,xe=h+x*2;G<xe;G++){const ue=W*G,Me=W*(G+1),ye=I+ee+ue,F=I+ne+ue,D=I+ne+Me,re=I+ee+Me;$(ye,F,D,re)}}}function J(C,I,j){l.push(C),l.push(I),l.push(j)}function z(C,I,j){oe(C),oe(I),oe(j);const ee=i.length/3,ne=M.generateTopUV(n,i,ee-3,ee-2,ee-1);ve(ne[0]),ve(ne[1]),ve(ne[2])}function $(C,I,j,ee){oe(C),oe(I),oe(ee),oe(I),oe(j),oe(ee);const ne=i.length/3,G=M.generateSideWallUV(n,i,ne-6,ne-3,ne-2,ne-1);ve(G[0]),ve(G[1]),ve(G[3]),ve(G[1]),ve(G[2]),ve(G[3])}function oe(C){i.push(l[C*3+0]),i.push(l[C*3+1]),i.push(l[C*3+2])}function ve(C){s.push(C.x),s.push(C.y)}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,n=this.parameters.options;return GR(t,n,e)}static fromJSON(e,t){const n=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];n.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new wm[i.type]().fromJSON(i)),new Yu(n,e.options)}}const HR={generateTopUV:function(r,e,t,n,i){const s=e[t*3],o=e[t*3+1],a=e[n*3],l=e[n*3+1],c=e[i*3],h=e[i*3+1];return[new Ie(s,o),new Ie(a,l),new Ie(c,h)]},generateSideWallUV:function(r,e,t,n,i,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],c=e[n*3],h=e[n*3+1],d=e[n*3+2],f=e[i*3],m=e[i*3+1],_=e[i*3+2],v=e[s*3],x=e[s*3+1],y=e[s*3+2];return Math.abs(a-h)<Math.abs(o-c)?[new Ie(o,1-l),new Ie(c,1-d),new Ie(f,1-_),new Ie(v,1-y)]:[new Ie(a,1-l),new Ie(h,1-d),new Ie(m,1-_),new Ie(x,1-y)]}};function GR(r,e,t){if(t.shapes=[],Array.isArray(r))for(let n=0,i=r.length;n<i;n++){const s=r[n];t.shapes.push(s.uuid)}else t.shapes.push(r.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class Qf extends Xt{constructor(e=new $u([new Ie(0,.5),new Ie(-.5,-.5),new Ie(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let h=0;h<e.length;h++)c(e[h]),this.addGroup(a,l,h),a+=l,l=0;this.setIndex(n),this.setAttribute("position",new Lt(i,3)),this.setAttribute("normal",new Lt(s,3)),this.setAttribute("uv",new Lt(o,2));function c(h){const d=i.length/3,f=h.extractPoints(t);let m=f.shape;const _=f.holes;co.isClockWise(m)===!1&&(m=m.reverse());for(let x=0,y=_.length;x<y;x++){const M=_[x];co.isClockWise(M)===!0&&(_[x]=M.reverse())}const v=co.triangulateShape(m,_);for(let x=0,y=_.length;x<y;x++){const M=_[x];m=m.concat(M)}for(let x=0,y=m.length;x<y;x++){const M=m[x];i.push(M.x,M.y,0),s.push(0,0,1),o.push(M.x,M.y)}for(let x=0,y=v.length;x<y;x++){const M=v[x],w=M[0]+d,S=M[1]+d,T=M[2]+d;n.push(w,S,T),l+=3}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return WR(t,e)}static fromJSON(e,t){const n=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=t[e.shapes[i]];n.push(o)}return new Qf(n,e.curveSegments)}}function WR(r,e){if(e.shapes=[],Array.isArray(r))for(let t=0,n=r.length;t<n;t++){const i=r[t];e.shapes.push(i.uuid)}else e.shapes.push(r.uuid);return e}class W1 extends ar{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new je(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new je(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=c0,this.normalScale=new Ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Mo extends W1{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ie(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Rn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new je(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new je(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new je(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class P1 extends ar{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new je(16777215),this.specular=new je(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new je(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=c0,this.normalScale=new Ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Wu,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class ou extends ar{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new je(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new je(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=c0,this.normalScale=new Ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Wu,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}function Xs(r,e,t){return Tm(r)?new r.constructor(r.subarray(e,t!==void 0?t:r.length)):r.slice(e,t)}function o2(r,e,t){return!r||!t&&r.constructor===e?r:typeof e.BYTES_PER_ELEMENT=="number"?new e(r):Array.prototype.slice.call(r)}function Tm(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}function jR(r){function e(i,s){return r[i]-r[s]}const t=r.length,n=new Array(t);for(let i=0;i!==t;++i)n[i]=i;return n.sort(e),n}function c6(r,e,t){const n=r.length,i=new r.constructor(n);for(let s=0,o=0;o!==n;++s){const a=t[s]*e;for(let l=0;l!==e;++l)i[o++]=r[a+l]}return i}function Cm(r,e,t,n){let i=1,s=r[0];for(;s!==void 0&&s[n]===void 0;)s=r[i++];if(s===void 0)return;let o=s[n];if(o!==void 0)if(Array.isArray(o))do o=s[n],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=r[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[n],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=r[i++];while(s!==void 0);else do o=s[n],o!==void 0&&(e.push(s.time),t.push(o)),s=r[i++];while(s!==void 0)}class h0{constructor(e,t,n,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,i=t[n],s=t[n-1];e:{t:{let o;n:{i:if(!(e<i)){for(let a=n+2;;){if(i===void 0){if(e<s)break i;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===a)break;if(s=i,i=t[++n],e<i)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(n=2,s=a);for(let l=n-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(n===l)break;if(i=s,s=t[--n-1],e>=s)break t}o=n,n=0;break n}break e}for(;n<o;){const a=n+o>>>1;e<t[a]?o=a:n=a+1}if(i=t[n],s=t[n-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,s,i)}return this.interpolate_(n,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)t[o]=n[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class qR extends h0{constructor(e,t,n,i){super(e,t,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:m1,endingEnd:m1}}intervalChanged_(e,t,n){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case g1:s=e,a=2*t-n;break;case iu:s=i.length-2,a=t+i[s]-i[s+1];break;default:s=e,a=n}if(l===void 0)switch(this.getSettings_().endingEnd){case g1:o=e,l=2*n-t;break;case iu:o=1,l=n+i[1]-i[0];break;default:o=e-1,l=t}const c=(n-t)*.5,h=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-n),this._offsetPrev=s*h,this._offsetNext=o*h}interpolate_(e,t,n,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,h=this._offsetPrev,d=this._offsetNext,f=this._weightPrev,m=this._weightNext,_=(n-t)/(i-t),v=_*_,x=v*_,y=-f*x+2*f*v-f*_,M=(1+f)*x+(-1.5-2*f)*v+(-.5+f)*_+1,w=(-1-m)*x+(1.5+m)*v+.5*_,S=m*x-m*v;for(let T=0;T!==a;++T)s[T]=y*o[h+T]+M*o[c+T]+w*o[l+T]+S*o[d+T];return s}}class Am extends h0{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e,t,n,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,h=(n-t)/(i-t),d=1-h;for(let f=0;f!==a;++f)s[f]=o[c+f]*d+o[l+f]*h;return s}}class XR extends h0{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class es{constructor(e,t,n,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=o2(t,this.TimeBufferType),this.values=o2(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:o2(e.times,Array),values:o2(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(n.interpolation=i)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new XR(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new Am(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new qR(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Bc:t=this.InterpolantFactoryMethodDiscrete;break;case H1:t=this.InterpolantFactoryMethodLinear;break;case q3:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Bc;case this.InterpolantFactoryMethodLinear:return H1;case this.InterpolantFactoryMethodSmooth:return q3}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]*=e}return this}trim(e,t){const n=this.times,i=n.length;let s=0,o=i-1;for(;s!==i&&n[s]<e;)++s;for(;o!==-1&&n[o]>t;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=Xs(n,s,o),this.values=Xs(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,i=this.values,s=n.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=n[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&Tm(i))for(let a=0,l=i.length;a!==l;++a){const c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=Xs(this.times),t=Xs(this.values),n=this.getValueSize(),i=this.getInterpolation()===q3,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],h=e[a+1];if(c!==h&&(a!==1||c!==e[0]))if(i)l=!0;else{const d=a*n,f=d-n,m=d+n;for(let _=0;_!==n;++_){const v=t[d+_];if(v!==t[f+_]||v!==t[m+_]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const d=a*n,f=o*n;for(let m=0;m!==n;++m)t[f+m]=t[d+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*n,l=o*n,c=0;c!==n;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=Xs(e,0,o),this.values=Xs(t,0,o*n)):(this.times=e,this.values=t),this}clone(){const e=Xs(this.times,0),t=Xs(this.values,0),n=this.constructor,i=new n(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}es.prototype.TimeBufferType=Float32Array;es.prototype.ValueBufferType=Float32Array;es.prototype.DefaultInterpolation=H1;class _l extends es{}_l.prototype.ValueTypeName="bool";_l.prototype.ValueBufferType=Array;_l.prototype.DefaultInterpolation=Bc;_l.prototype.InterpolantFactoryMethodLinear=void 0;_l.prototype.InterpolantFactoryMethodSmooth=void 0;class Pm extends es{}Pm.prototype.ValueTypeName="color";class j1 extends es{}j1.prototype.ValueTypeName="number";class $R extends h0{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e,t,n,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(n-t)/(i-t);let c=e*a;for(let h=c+a;c!==h;c+=4)Gn.slerpFlat(s,0,o,c-a,o,c,l);return s}}class _o extends es{InterpolantFactoryMethodLinear(e){return new $R(this.times,this.values,this.getValueSize(),e)}}_o.prototype.ValueTypeName="quaternion";_o.prototype.DefaultInterpolation=H1;_o.prototype.InterpolantFactoryMethodSmooth=void 0;class vl extends es{}vl.prototype.ValueTypeName="string";vl.prototype.ValueBufferType=Array;vl.prototype.DefaultInterpolation=Bc;vl.prototype.InterpolantFactoryMethodLinear=void 0;vl.prototype.InterpolantFactoryMethodSmooth=void 0;class q1 extends es{}q1.prototype.ValueTypeName="vector";class au{constructor(e,t=-1,n,i=Uf){this.name=e,this.tracks=n,this.duration=t,this.blendMode=i,this.uuid=or(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,i=1/(e.fps||1);for(let o=0,a=n.length;o!==a;++o)t.push(YR(n[o]).scale(i));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],n=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=n.length;s!==o;++s)t.push(es.toJSON(n[s]));return i}static CreateFromMorphTargetSequence(e,t,n,i){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const h=jR(l);l=c6(l,1,h),c=c6(c,1,h),!i&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new j1(".morphTargetInfluences["+t[a].name+"]",l,c).scale(1/n))}return new this(e,-1,o)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const i=e;n=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],h=c.name.match(s);if(h&&h.length>1){const d=h[1];let f=i[d];f||(i[d]=f=[]),f.push(c)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],t,n));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(d,f,m,_,v){if(m.length!==0){const x=[],y=[];Cm(m,x,y,_),x.length!==0&&v.push(new d(f,x,y))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let d=0;d<c.length;d++){const f=c[d].keys;if(!(!f||f.length===0))if(f[0].morphTargets){const m={};let _;for(_=0;_<f.length;_++)if(f[_].morphTargets)for(let v=0;v<f[_].morphTargets.length;v++)m[f[_].morphTargets[v]]=-1;for(const v in m){const x=[],y=[];for(let M=0;M!==f[_].morphTargets.length;++M){const w=f[_];x.push(w.time),y.push(w.morphTarget===v?1:0)}i.push(new j1(".morphTargetInfluence["+v+"]",x,y))}l=m.length*o}else{const m=".bones["+t[d].name+"]";n(q1,m+".position",f,"pos",i),n(_o,m+".quaternion",f,"rot",i),n(q1,m+".scale",f,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let t=0;for(let n=0,i=e.length;n!==i;++n){const s=this.tracks[n];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function KR(r){switch(r.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return j1;case"vector":case"vector2":case"vector3":case"vector4":return q1;case"color":return Pm;case"quaternion":return _o;case"bool":case"boolean":return _l;case"string":return vl}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+r)}function YR(r){if(r.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=KR(r.type);if(r.times===void 0){const t=[],n=[];Cm(r.keys,t,n,"value"),r.times=t,r.values=n}return e.parse!==void 0?e.parse(r):new e(r.name,r.times,r.values,r.interpolation)}const X1={enabled:!1,files:{},add:function(r,e){this.enabled!==!1&&(this.files[r]=e)},get:function(r){if(this.enabled!==!1)return this.files[r]},remove:function(r){delete this.files[r]},clear:function(){this.files={}}};class ZR{constructor(e,t,n){const i=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(h){a++,s===!1&&i.onStart!==void 0&&i.onStart(h,o,a),s=!0},this.itemEnd=function(h){o++,i.onProgress!==void 0&&i.onProgress(h,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(h){i.onError!==void 0&&i.onError(h)},this.resolveURL=function(h){return l?l(h):h},this.setURLModifier=function(h){return l=h,this},this.addHandler=function(h,d){return c.push(h,d),this},this.removeHandler=function(h){const d=c.indexOf(h);return d!==-1&&c.splice(d,2),this},this.getHandler=function(h){for(let d=0,f=c.length;d<f;d+=2){const m=c[d],_=c[d+1];if(m.global&&(m.lastIndex=0),m.test(h))return _}return null}}}const QR=new ZR;class Aa{constructor(e){this.manager=e!==void 0?e:QR,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise(function(i,s){n.load(e,i,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const hs={};class JR extends Error{constructor(e,t){super(e),this.response=t}}class qc extends Aa{constructor(e){super(e)}load(e,t,n,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=X1.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(hs[e]!==void 0){hs[e].push({onLoad:t,onProgress:n,onError:i});return}hs[e]=[],hs[e].push({onLoad:t,onProgress:n,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const h=hs[e],d=c.body.getReader(),f=c.headers.get("Content-Length"),m=f?parseInt(f):0,_=m!==0;let v=0;const x=new ReadableStream({start(y){M();function M(){d.read().then(({done:w,value:S})=>{if(w)y.close();else{v+=S.byteLength;const T=new ProgressEvent("progress",{lengthComputable:_,loaded:v,total:m});for(let A=0,R=h.length;A<R;A++){const E=h[A];E.onProgress&&E.onProgress(T)}y.enqueue(S),M()}})}}});return new Response(x)}else throw new JR(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(h=>new DOMParser().parseFromString(h,a));case"json":return c.json();default:if(a===void 0)return c.text();{const d=/charset="?([^;"\s]*)"?/i.exec(a),f=d&&d[1]?d[1].toLowerCase():void 0,m=new TextDecoder(f);return c.arrayBuffer().then(_=>m.decode(_))}}}).then(c=>{X1.add(e,c);const h=hs[e];delete hs[e];for(let d=0,f=h.length;d<f;d++){const m=h[d];m.onLoad&&m.onLoad(c)}}).catch(c=>{const h=hs[e];if(h===void 0)throw this.manager.itemError(e),c;delete hs[e];for(let d=0,f=h.length;d<f;d++){const m=h[d];m.onError&&m.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class eI extends Aa{constructor(e){super(e)}load(e,t,n,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=X1.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=Vc("img");function l(){h(),X1.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(d){h(),i&&i(d),s.manager.itemError(e),s.manager.itemEnd(e)}function h(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class Zu extends Aa{constructor(e){super(e)}load(e,t,n,i){const s=new Tn,o=new eI(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},n,i),s}}class d0 extends mt{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new je(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class tI extends d0{constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(mt.DefaultUp),this.updateMatrix(),this.groundColor=new je(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const Sh=new Ke,u6=new Z,h6=new Z;class Jf{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ie(512,512),this.map=null,this.mapPass=null,this.matrix=new Ke,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Wf,this._frameExtents=new Ie(1,1),this._viewportCount=1,this._viewports=[new It(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;u6.setFromMatrixPosition(e.matrixWorld),t.position.copy(u6),h6.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(h6),t.updateMatrixWorld(),Sh.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Sh),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(Sh)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class nI extends Jf{constructor(){super(new gn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,n=Uc*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(n!==t.fov||i!==t.aspect||s!==t.far)&&(t.fov=n,t.aspect=i,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class Lm extends d0{constructor(e,t,n=0,i=Math.PI/3,s=0,o=1){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(mt.DefaultUp),this.updateMatrix(),this.target=new mt,this.distance=n,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new nI}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const d6=new Ke,$l=new Z,Mh=new Z;class iI extends Jf{constructor(){super(new gn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Ie(4,2),this._viewportCount=6,this._viewports=[new It(2,1,1,1),new It(0,1,1,1),new It(3,1,1,1),new It(1,1,1,1),new It(3,0,1,1),new It(1,0,1,1)],this._cubeDirections=[new Z(1,0,0),new Z(-1,0,0),new Z(0,0,1),new Z(0,0,-1),new Z(0,1,0),new Z(0,-1,0)],this._cubeUps=[new Z(0,1,0),new Z(0,1,0),new Z(0,1,0),new Z(0,1,0),new Z(0,0,1),new Z(0,0,-1)]}updateMatrices(e,t=0){const n=this.camera,i=this.matrix,s=e.distance||n.far;s!==n.far&&(n.far=s,n.updateProjectionMatrix()),$l.setFromMatrixPosition(e.matrixWorld),n.position.copy($l),Mh.copy(n.position),Mh.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(Mh),n.updateMatrixWorld(),i.makeTranslation(-$l.x,-$l.y,-$l.z),d6.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(d6)}}class Ed extends d0{constructor(e,t,n=0,i=1){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=i,this.shadow=new iI}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class rI extends Jf{constructor(){super(new Ta(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class xl extends d0{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(mt.DefaultUp),this.updateMatrix(),this.target=new mt,this.shadow=new rI}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class $1 extends d0{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class jr{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let n=0,i=e.length;n<i;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class sI extends Aa{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,n,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=X1.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){X1.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){i&&i(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}class e4{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=f6(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=f6();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function f6(){return(typeof performance>"u"?Date:performance).now()}class oI{constructor(e,t,n){this.binding=e,this.valueSize=n;let i,s,o;switch(t){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(n*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(n*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(n*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const n=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)n[s+a]=n[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(n,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,n=this.valueSize,i=n*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,n=this.buffer,i=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(n,i,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(n,i,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(n[l]!==n[l+t]){a.setValue(n,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,n=this.valueSize,i=n*this._origIndex;e.getValue(t,i);for(let s=n,o=i;s!==o;++s)t[s]=t[i+s%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[t+o]=e[n+o]}_slerp(e,t,n,i){Gn.slerpFlat(e,t,e,t,e,n,i)}_slerpAdditive(e,t,n,i,s){const o=this._workIndex*s;Gn.multiplyQuaternionsFlat(e,o,e,t,e,n),Gn.slerpFlat(e,t,e,t,e,o,i)}_lerp(e,t,n,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[n+a]*i}}_lerpAdditive(e,t,n,i,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[n+o]*i}}}const t4="\\[\\]\\.:\\/",aI=new RegExp("["+t4+"]","g"),n4="[^"+t4+"]",lI="[^"+t4.replace("\\.","")+"]",cI=/((?:WC+[\/:])*)/.source.replace("WC",n4),uI=/(WCOD+)?/.source.replace("WCOD",lI),hI=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",n4),dI=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",n4),fI=new RegExp("^"+cI+uI+hI+dI+"$"),pI=["material","materials","bones","map"];class mI{constructor(e,t,n){const i=n||Ct.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,i=this._bindings[n];i!==void 0&&i.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=n.length;i!==s;++i)n[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}class Ct{constructor(e,t,n){this.path=t,this.parsedPath=n||Ct.parseTrackName(t),this.node=Ct.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new Ct.Composite(e,t,n):new Ct(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(aI,"")}static parseTrackName(e){const t=fI.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=n.nodeName.substring(i+1);pI.indexOf(s)!==-1&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=s)}if(n.propertyName===null||n.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(n!==void 0)return n}if(e.children){const n=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=n(a.children);if(l)return l}return null},i=n(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let i=0,s=n.length;i!==s;++i)e[t++]=n[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let i=0,s=n.length;i!==s;++i)n[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let i=0,s=n.length;i!==s;++i)n[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let i=0,s=n.length;i!==s;++i)n[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,i=t.propertyName;let s=t.propertyIndex;if(e||(e=Ct.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(n){let c=t.objectIndex;switch(n){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let h=0;h<e.length;h++)if(e[h].name===c){c=h;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[n]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[n]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[i];if(o===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Ct.Composite=mI;Ct.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Ct.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Ct.prototype.GetterByBindingType=[Ct.prototype._getValue_direct,Ct.prototype._getValue_array,Ct.prototype._getValue_arrayElement,Ct.prototype._getValue_toArray];Ct.prototype.SetterByBindingTypeAndVersioning=[[Ct.prototype._setValue_direct,Ct.prototype._setValue_direct_setNeedsUpdate,Ct.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Ct.prototype._setValue_array,Ct.prototype._setValue_array_setNeedsUpdate,Ct.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Ct.prototype._setValue_arrayElement,Ct.prototype._setValue_arrayElement_setNeedsUpdate,Ct.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Ct.prototype._setValue_fromArray,Ct.prototype._setValue_fromArray_setNeedsUpdate,Ct.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class gI{constructor(e,t,n=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=i;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:m1,endingEnd:m1};for(let c=0;c!==o;++c){const h=s[c].createInterpolant(null);a[c]=h,h.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=BE,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,n){return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+n,c[0]=e/o,c[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*n;l<0||n===0?t=0:(this._startTime=null,t=n*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case VE:for(let h=0,d=l.length;h!==d;++h)l[h].evaluate(o),c[h].accumulateAdditive(a);break;case Uf:default:for(let h=0,d=l.length;h!==d;++h)l[h].evaluate(o),c[h].accumulate(i,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(n!==null){const i=n.evaluate(e)[0];t*=i,e>n.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;if(n!==null){const i=n.evaluate(e)[0];t*=i,e>n.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let i=this.time+e,s=this._loopCount;const o=n===UE;if(e===0)return s===-1?i:o&&(s&1)===1?t-i:i;if(n===zE){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=t||i<0){const a=Math.floor(i/t);i-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return t-i}return i}_setEndings(e,t,n){const i=this._interpolantSettings;n?(i.endingStart=g1,i.endingEnd=g1):(e?i.endingStart=this.zeroSlopeAtStart?g1:m1:i.endingStart=iu,t?i.endingEnd=this.zeroSlopeAtEnd?g1:m1:i.endingEnd=iu)}_scheduleFading(e,t,n){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=n,this}}const _I=new Float32Array(1);class vI extends So{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const n=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=n.uuid,c=this._bindingsByRootAndName;let h=c[l];h===void 0&&(h={},c[l]=h);for(let d=0;d!==s;++d){const f=i[d],m=f.name;let _=h[m];if(_!==void 0)++_.referenceCount,o[d]=_;else{if(_=o[d],_!==void 0){_._cacheIndex===null&&(++_.referenceCount,this._addInactiveBinding(_,l,m));continue}const v=t&&t._propertyBindings[d].binding.parsedPath;_=new oI(Ct.create(n,m,v),f.ValueTypeName,f.getValueSize()),++_.referenceCount,this._addInactiveBinding(_,l,m),o[d]=_}a[d].resultBuffer=_.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const n=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,n)}const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const s=t[n];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const s=t[n];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,n){const i=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[n]=e}_removeInactiveAction(e){const t=this._actions,n=t[t.length-1],i=e._cacheIndex;n._cacheIndex=i,t[i]=n,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],h=e._byClipCacheIndex;c._byClipCacheIndex=h,l[h]=c,l.pop(),e._byClipCacheIndex=null;const d=a.actionByRoot,f=(e._localRoot||this._root).uuid;delete d[f],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const s=t[n];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,n=e._cacheIndex,i=this._nActiveActions++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=n,t[n]=s}_takeBackAction(e){const t=this._actions,n=e._cacheIndex,i=--this._nActiveActions,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=n,t[n]=s}_addInactiveBinding(e,t,n){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[t];o===void 0&&(o={},i[t]=o),o[n]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,n=e.binding,i=n.rootNode.uuid,s=n.path,o=this._bindingsByRootAndName,a=o[i],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const t=this._bindings,n=e._cacheIndex,i=this._nActiveBindings++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=n,t[n]=s}_takeBackBinding(e){const t=this._bindings,n=e._cacheIndex,i=--this._nActiveBindings,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=n,t[n]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return n===void 0&&(n=new Am(new Float32Array(2),new Float32Array(2),1,_I),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){const t=this._controlInterpolants,n=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=t[i];e.__cacheIndex=i,t[i]=e,s.__cacheIndex=n,t[n]=s}clipAction(e,t,n){const i=t||this._root,s=i.uuid;let o=typeof e=="string"?au.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(n===void 0&&(o!==null?n=o.blendMode:n=Uf),l!==void 0){const d=l.actionByRoot[s];if(d!==void 0&&d.blendMode===n)return d;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const h=new gI(this,o,t,n);return this._bindAction(h,c),this._addInactiveAction(h,a,s),h}existingAction(e,t){const n=t||this._root,i=n.uuid,s=typeof e=="string"?au.findByName(n,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let n=t-1;n>=0;--n)e[n].stop();return this}update(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==n;++c)t[c]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,n=e.uuid,i=this._actionsByClip,s=i[n];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const h=c._cacheIndex,d=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,d._cacheIndex=h,t[h]=d,t.pop(),this._removeInactiveBindingsForAction(c)}delete i[n]}}uncacheRoot(e){const t=e.uuid,n=this._actionsByClip;for(const o in n){const a=n[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const n=this.existingAction(e,t);n!==null&&(this._deactivateAction(n),this._removeInactiveAction(n))}}class p6{constructor(e=1,t=0,n=0){return this.radius=e,this.phi=t,this.theta=n,this}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Rn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class i4 extends Xf{constructor(e=10,t=10,n=4473924,i=8947848){n=new je(n),i=new je(i);const s=t/2,o=e/t,a=e/2,l=[],c=[];for(let f=0,m=0,_=-a;f<=t;f++,_+=o){l.push(-a,0,_,a,0,_),l.push(_,0,-a,_,0,a);const v=f===s?n:i;v.toArray(c,m),m+=3,v.toArray(c,m),m+=3,v.toArray(c,m),m+=3,v.toArray(c,m),m+=3}const h=new Xt;h.setAttribute("position",new Lt(l,3)),h.setAttribute("color",new Lt(c,3));const d=new gl({vertexColors:!0,toneMapped:!1});super(h,d),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class r4 extends Xf{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Xt;i.setAttribute("position",new Lt(t,3)),i.setAttribute("color",new Lt(n,3));const s=new gl({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,t,n){const i=new je,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(t),i.toArray(s,6),i.toArray(s,9),i.set(n),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:zf}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=zf);class xI{constructor(){et(this,"config");et(this,"isMobile");et(this,"score");et(this,"size");et(this,"canvas");et(this,"scene");et(this,"camera");et(this,"renderer");et(this,"cameraPos");et(this,"cubes");et(this,"jumper");et(this,"cubeState");et(this,"jumperState");et(this,"falledState");et(this,"fallingState");et(this,"successCallback");et(this,"failedCallback");this.config={background:2631720,ground:-1,fallingSpeed:.2,cubeColor:12500670,cubeWidth:4,cubeHeight:2,cubeDeep:4,jumperColor:2302755,jumperWidth:1,jumperHeight:2,jumperDeep:1},this.isMobile=!1,this.score=0,this.size={width:window.innerWidth,height:window.innerHeight},this.scene=new ml,this.cameraPos={current:new Z(0,0,0),next:new Z},this.camera=new Ta(this.size.width/-80,this.size.width/80,this.size.height/80,this.size.height/-80,0,5e3),this.cubes=[],this.cubeState={nextDir:""},this.jumperState={ready:!1,xSpeed:0,ySpeed:0},this.falledState={location:-1,distance:0},this.fallingState={speed:.2,end:!1},this.successCallback=()=>null,this.failedCallback=()=>null,this.canvas=this._setCanvas(),this.renderer=this._setRenderer()}init(){this._checkUserAgent(),this._setCamera(),this._setRenderer(),this._setLight(),this._createCube(),this._createCube(),this._createJumper(),this._updateCamera(),window.addEventListener("resize",()=>{this._handleWindowResize()})}restart(){this.score=0,this.cameraPos={current:new Z(0,0,0),next:new Z},this.fallingState={speed:.2,end:!1};const e=this.cubes.length;for(let t=0;t<e;t++)this.scene.remove(this.cubes.pop());this.scene.remove(this.jumper),this.successCallback(this.score),this._createCube(),this._createCube(),this._createJumper(),this._updateCamera()}addSuccessFn(e){this.successCallback=e}addFailedFn(e){this.failedCallback=e}_checkUserAgent(){const e=navigator.userAgent;(e.match(/Android/i)||e.match(/webOS/i)||e.match(/iPhone/i)||e.match(/iPad/i)||e.match(/iPod/i)||e.match(/BlackBerry/i))&&(this.isMobile=!0)}_createHelpers(){const e=new r4(10);this.scene.add(e)}_setCanvas(){const e=document.querySelector("canvas");if(!e)throw Error("canvas is not ready");const t=this.isMobile?{down:"touchstart",up:"touchend"}:{down:"mousedown",up:"mouseup"};return e.addEventListener(t.down,()=>{this._handleMousedown()}),e.addEventListener(t.up,n=>{this._handleMouseup()}),e}_handleWindowResize(){this._setSize(),this.camera.left=this.size.width/-80,this.camera.right=this.size.width/80,this.camera.top=this.size.height/80,this.camera.bottom=this.size.height/-80,this.camera.updateProjectionMatrix(),this.renderer&&this.renderer.setSize(this.size.width,this.size.height),this._render()}_handleMousedown(){!this.jumperState.ready&&this.jumper.scale.y>.02&&(this.jumper.scale.y-=.01,this.jumperState.xSpeed+=.004,this.jumperState.ySpeed+=.008,this._render(),requestAnimationFrame(()=>{this._handleMousedown()}))}_handleMouseup(){this.jumperState.ready=!0,this.jumper.position.y>=1?(this.cubeState.nextDir==="left"?this.jumper.position.x-=this.jumperState.xSpeed:this.jumper.position.z-=this.jumperState.xSpeed,this.jumper.position.y+=this.jumperState.ySpeed,this.jumper.scale.y<1&&(this.jumper.scale.y+=.02),this.jumperState.ySpeed-=.01,this._render(),requestAnimationFrame(()=>{this._handleMouseup()})):(this.jumperState.ready=!1,this.jumperState.xSpeed=0,this.jumperState.ySpeed=0,this.jumper.position.y=1,this._checkInCube(),this.falledState.location===1?(this.score++,this._createCube(),this._updateCamera(),this.successCallback&&this.successCallback(this.score)):this._falling())}_fallingRotate(e){const t=this.falledState.distance-this.config.cubeWidth/2;let n="z",i=this.jumper.rotation[n]+.1,s=this.jumper.rotation[n]<Math.PI/2,o=this.config.ground+this.config.jumperWidth/2+t;if(e==="rightTop")n="x",i=this.jumper.rotation[n]-.1,s=this.jumper.rotation[n]>-Math.PI/2,this.jumper.geometry.translate.z=t;else if(e==="rightBottom")n="x",i=this.jumper.rotation[n]+.1,s=this.jumper.rotation[n]<Math.PI/2,this.jumper.geometry.translate.z=-t;else if(e==="leftBottom")n="z",i=this.jumper.rotation[n]-.1,s=this.jumper.rotation[n]>-Math.PI/2,this.jumper.geometry.translate.x=-t;else if(e==="leftTop")n="z",i=this.jumper.rotation[n]+.1,s=this.jumper.rotation[n]<Math.PI/2,this.jumper.geometry.translate.x=t;else if(e==="none")s=!1,o=this.config.ground;else throw Error("Arguments Error");this.fallingState.end?this.failedCallback&&this.failedCallback():(s?this.jumper.rotation[n]=i:this.jumper.position.y>o?this.jumper.position.y-=this.config.fallingSpeed:this.fallingState.end=!0,this._render(),requestAnimationFrame(()=>{this._falling()}))}_falling(){this.falledState.location==0?this._fallingRotate("none"):this.falledState.location===-10?this.cubeState.nextDir=="left"?this._fallingRotate("leftTop"):this._fallingRotate("rightTop"):this.falledState.location===10&&(this.cubeState.nextDir=="left"?this.jumper.position.x<this.cubes[this.cubes.length-1].position.x?this._fallingRotate("leftTop"):this._fallingRotate("leftBottom"):this.jumper.position.z<this.cubes[this.cubes.length-1].position.z?this._fallingRotate("rightTop"):this._fallingRotate("rightBottom"))}_checkInCube(){if(this.cubes.length>1){const e={x:this.jumper.position.x,z:this.jumper.position.z},t={x:this.cubes[this.cubes.length-1-1].position.x,z:this.cubes[this.cubes.length-1-1].position.z},n={x:this.cubes[this.cubes.length-1].position.x,z:this.cubes[this.cubes.length-1].position.z};let i,s;this.cubeState.nextDir==="left"?(i=Math.abs(e.x-t.x),s=Math.abs(e.x-n.x)):(i=Math.abs(e.z-t.z),s=Math.abs(e.z-n.z));let o=this.config.cubeWidth/2+this.config.jumperWidth/2,a=0;i<o?(this.falledState.distance=i,a=i<this.config.cubeWidth/2?-1:-10):s<o?(this.falledState.distance=s,a=s<this.config.cubeWidth/2?1:10):a=0,this.falledState.location=a}}_updateCameraPos(){const e=this.cubes.length-1,t={x:this.cubes[e].position.x,z:this.cubes[e].position.z},n={x:this.cubes[e-1].position.x,z:this.cubes[e-1].position.z},i=new Z;i.x=(t.x+n.x)/2,i.y=0,i.z=(t.z+n.z)/2,this.cameraPos.next=i}_updateCamera(){const e={x:this.cameraPos.current.x,y:this.cameraPos.current.y,z:this.cameraPos.current.z},t={x:this.cameraPos.next.x,y:this.cameraPos.next.y,z:this.cameraPos.next.z};(e.x>t.x||e.z>t.z)&&(this.cameraPos.current.x-=.1,this.cameraPos.current.z-=.1,this.cameraPos.current.x-this.cameraPos.next.x<.05&&(this.cameraPos.current.x=this.cameraPos.next.x),this.cameraPos.current.z-this.cameraPos.next.z<.05&&(this.cameraPos.current.z=this.cameraPos.next.z),this.camera.lookAt(new Z(e.x,0,e.z)),this._render(),requestAnimationFrame(()=>{this._updateCamera()}))}_createJumper(){const e=new ou({color:this.config.jumperColor}),t=new Qt(this.config.jumperWidth,this.config.jumperHeight,this.config.jumperDeep);t.translate(0,1,0);const n=new $t(t,e);n.position.y=1,this.jumper=n,this.scene.add(this.jumper)}_createCube(){const e=new ou({color:this.config.cubeColor}),t=new Qt(this.config.cubeWidth,this.config.cubeHeight,this.config.cubeDeep),n=new $t(t,e);if(this.cubes.length){const i=Math.random();this.cubeState.nextDir=i>.5?"left":"right",n.position.x=this.cubes[this.cubes.length-1].position.x,n.position.y=this.cubes[this.cubes.length-1].position.y,n.position.z=this.cubes[this.cubes.length-1].position.z,this.cubeState.nextDir==="left"?n.position.x=this.cubes[this.cubes.length-1].position.x-4*Math.random()-6:n.position.z=this.cubes[this.cubes.length-1].position.z-4*Math.random()-6}this.cubes.push(n),this.cubes.length>6&&this.scene.remove(this.cubes.shift()),this.scene.add(n),this.cubes.length>1&&this._updateCameraPos()}_render(){this.renderer&&this.renderer.render(this.scene,this.camera)}_setLight(){const e=new xl(16777215,1.1);e.position.set(3,10,5),this.scene.add(e);const t=new $1(16777215,.3);this.scene.add(t)}_setCamera(){this.camera.position.set(100,100,100),this.camera.lookAt(this.cameraPos.current)}_setRenderer(){const e=new Ca({antialias:!0,canvas:this.canvas});return e.setSize(this.size.width,this.size.height),e.setClearColor(this.config.background),e}_setSize(){this.size.width=window.innerWidth,this.size.height=window.innerHeight}}const Qu=r=>(Sa("data-v-d7296f23"),r=r(),Ma(),r),bI={class:"container"},yI={key:0,class:"mask"},wI={class:"content"},SI={class:"score-container"},MI=Qu(()=>tt("p",{class:"title"},"\u672C\u6B21\u5F97\u5206",-1)),EI={class:"score"},TI={class:"info"},CI=Qu(()=>tt("a",{class:"title",href:"https://github.com/luosijie/threejs-examples",target:"_blank"}," Jump ",-1)),AI=Qu(()=>tt("a",{class:"author",href:"https://luosijie.github.io/",target:"_blank"}," Created By Jesse Luo ",-1)),PI={class:"score-gaming"},LI={class:"score-current"},RI=Qu(()=>tt("canvas",null,null,-1)),II=Pf({__name:"index",setup(r){const e=J8(0),t=wo({final:{visible:!1}});let n;const i=()=>{t.final.visible=!1,n&&n.restart()};return Ea(()=>{n=new xI,n.addSuccessFn(()=>{e.value=n.score}),n.addFailedFn(()=>{e.value=n.score,t.final.visible=!0}),n.init()}),(s,o)=>(vn(),Wn("div",bI,[t.final.visible?(vn(),Wn("div",yI,[tt("div",wI,[tt("div",SI,[MI,tt("p",EI,K2(e.value),1)]),tt("button",{class:"restart",onClick:i}," \u91CD\u65B0\u5F00\u59CB ")])])):L7("",!0),tt("div",TI,[CI,AI,tt("div",PI,[P7(" \u5F97\u5206\uFF1A"),tt("span",LI,K2(e.value),1)])]),RI]))}});const Rm=Jr(II,[["__scopeId","data-v-d7296f23"]]),DI=Object.freeze(Object.defineProperty({__proto__:null,default:Rm},Symbol.toStringTag,{value:"Module"})),m6={type:"change"},Eh={type:"start"},g6={type:"end"};class Ju extends So{constructor(e,t){super(),this.object=e,this.domElement=t,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new Z,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:Ha.ROTATE,MIDDLE:Ha.DOLLY,RIGHT:Ha.PAN},this.touches={ONE:Ga.ROTATE,TWO:Ga.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return a.phi},this.getAzimuthalAngle=function(){return a.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(K){K.addEventListener("keydown",ye),this._domElementKeyEvents=K},this.saveState=function(){n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=function(){n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(m6),n.update(),s=i.NONE},this.update=function(){const K=new Z,ae=new Gn().setFromUnitVectors(e.up,new Z(0,1,0)),Le=ae.clone().invert(),ze=new Z,De=new Gn,He=2*Math.PI;return function(){const Fe=n.object.position;K.copy(Fe).sub(n.target),K.applyQuaternion(ae),a.setFromVector3(K),n.autoRotate&&s===i.NONE&&L(R()),n.enableDamping?(a.theta+=l.theta*n.dampingFactor,a.phi+=l.phi*n.dampingFactor):(a.theta+=l.theta,a.phi+=l.phi);let rt=n.minAzimuthAngle,at=n.maxAzimuthAngle;return isFinite(rt)&&isFinite(at)&&(rt<-Math.PI?rt+=He:rt>Math.PI&&(rt-=He),at<-Math.PI?at+=He:at>Math.PI&&(at-=He),rt<=at?a.theta=Math.max(rt,Math.min(at,a.theta)):a.theta=a.theta>(rt+at)/2?Math.max(rt,a.theta):Math.min(at,a.theta)),a.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,a.phi)),a.makeSafe(),a.radius*=c,a.radius=Math.max(n.minDistance,Math.min(n.maxDistance,a.radius)),n.enableDamping===!0?n.target.addScaledVector(h,n.dampingFactor):n.target.add(h),K.setFromSpherical(a),K.applyQuaternion(Le),Fe.copy(n.target).add(K),n.object.lookAt(n.target),n.enableDamping===!0?(l.theta*=1-n.dampingFactor,l.phi*=1-n.dampingFactor,h.multiplyScalar(1-n.dampingFactor)):(l.set(0,0,0),h.set(0,0,0)),c=1,d||ze.distanceToSquared(n.object.position)>o||8*(1-De.dot(n.object.quaternion))>o?(n.dispatchEvent(m6),ze.copy(n.object.position),De.copy(n.object.quaternion),d=!1,!0):!1}}(),this.dispose=function(){n.domElement.removeEventListener("contextmenu",re),n.domElement.removeEventListener("pointerdown",j),n.domElement.removeEventListener("pointercancel",G),n.domElement.removeEventListener("wheel",Me),n.domElement.removeEventListener("pointermove",ee),n.domElement.removeEventListener("pointerup",ne),n._domElementKeyEvents!==null&&n._domElementKeyEvents.removeEventListener("keydown",ye)};const n=this,i={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let s=i.NONE;const o=1e-6,a=new p6,l=new p6;let c=1;const h=new Z;let d=!1;const f=new Ie,m=new Ie,_=new Ie,v=new Ie,x=new Ie,y=new Ie,M=new Ie,w=new Ie,S=new Ie,T=[],A={};function R(){return 2*Math.PI/60/60*n.autoRotateSpeed}function E(){return Math.pow(.95,n.zoomSpeed)}function L(K){l.theta-=K}function k(K){l.phi-=K}const H=function(){const K=new Z;return function(Le,ze){K.setFromMatrixColumn(ze,0),K.multiplyScalar(-Le),h.add(K)}}(),te=function(){const K=new Z;return function(Le,ze){n.screenSpacePanning===!0?K.setFromMatrixColumn(ze,1):(K.setFromMatrixColumn(ze,0),K.crossVectors(n.object.up,K)),K.multiplyScalar(Le),h.add(K)}}(),q=function(){const K=new Z;return function(Le,ze){const De=n.domElement;if(n.object.isPerspectiveCamera){const He=n.object.position;K.copy(He).sub(n.target);let Oe=K.length();Oe*=Math.tan(n.object.fov/2*Math.PI/180),H(2*Le*Oe/De.clientHeight,n.object.matrix),te(2*ze*Oe/De.clientHeight,n.object.matrix)}else n.object.isOrthographicCamera?(H(Le*(n.object.right-n.object.left)/n.object.zoom/De.clientWidth,n.object.matrix),te(ze*(n.object.top-n.object.bottom)/n.object.zoom/De.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}}();function B(K){n.object.isPerspectiveCamera?c/=K:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom*K)),n.object.updateProjectionMatrix(),d=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function N(K){n.object.isPerspectiveCamera?c*=K:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/K)),n.object.updateProjectionMatrix(),d=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function W(K){f.set(K.clientX,K.clientY)}function V(K){M.set(K.clientX,K.clientY)}function Y(K){v.set(K.clientX,K.clientY)}function X(K){m.set(K.clientX,K.clientY),_.subVectors(m,f).multiplyScalar(n.rotateSpeed);const ae=n.domElement;L(2*Math.PI*_.x/ae.clientHeight),k(2*Math.PI*_.y/ae.clientHeight),f.copy(m),n.update()}function O(K){w.set(K.clientX,K.clientY),S.subVectors(w,M),S.y>0?B(E()):S.y<0&&N(E()),M.copy(w),n.update()}function de(K){x.set(K.clientX,K.clientY),y.subVectors(x,v).multiplyScalar(n.panSpeed),q(y.x,y.y),v.copy(x),n.update()}function _e(K){K.deltaY<0?N(E()):K.deltaY>0&&B(E()),n.update()}function pe(K){let ae=!1;switch(K.code){case n.keys.UP:q(0,n.keyPanSpeed),ae=!0;break;case n.keys.BOTTOM:q(0,-n.keyPanSpeed),ae=!0;break;case n.keys.LEFT:q(n.keyPanSpeed,0),ae=!0;break;case n.keys.RIGHT:q(-n.keyPanSpeed,0),ae=!0;break}ae&&(K.preventDefault(),n.update())}function Ee(){if(T.length===1)f.set(T[0].pageX,T[0].pageY);else{const K=.5*(T[0].pageX+T[1].pageX),ae=.5*(T[0].pageY+T[1].pageY);f.set(K,ae)}}function se(){if(T.length===1)v.set(T[0].pageX,T[0].pageY);else{const K=.5*(T[0].pageX+T[1].pageX),ae=.5*(T[0].pageY+T[1].pageY);v.set(K,ae)}}function ie(){const K=T[0].pageX-T[1].pageX,ae=T[0].pageY-T[1].pageY,Le=Math.sqrt(K*K+ae*ae);M.set(0,Le)}function J(){n.enableZoom&&ie(),n.enablePan&&se()}function z(){n.enableZoom&&ie(),n.enableRotate&&Ee()}function $(K){if(T.length==1)m.set(K.pageX,K.pageY);else{const Le=Pe(K),ze=.5*(K.pageX+Le.x),De=.5*(K.pageY+Le.y);m.set(ze,De)}_.subVectors(m,f).multiplyScalar(n.rotateSpeed);const ae=n.domElement;L(2*Math.PI*_.x/ae.clientHeight),k(2*Math.PI*_.y/ae.clientHeight),f.copy(m)}function oe(K){if(T.length===1)x.set(K.pageX,K.pageY);else{const ae=Pe(K),Le=.5*(K.pageX+ae.x),ze=.5*(K.pageY+ae.y);x.set(Le,ze)}y.subVectors(x,v).multiplyScalar(n.panSpeed),q(y.x,y.y),v.copy(x)}function ve(K){const ae=Pe(K),Le=K.pageX-ae.x,ze=K.pageY-ae.y,De=Math.sqrt(Le*Le+ze*ze);w.set(0,De),S.set(0,Math.pow(w.y/M.y,n.zoomSpeed)),B(S.y),M.copy(w)}function C(K){n.enableZoom&&ve(K),n.enablePan&&oe(K)}function I(K){n.enableZoom&&ve(K),n.enableRotate&&$(K)}function j(K){n.enabled!==!1&&(T.length===0&&(n.domElement.setPointerCapture(K.pointerId),n.domElement.addEventListener("pointermove",ee),n.domElement.addEventListener("pointerup",ne)),fe(K),K.pointerType==="touch"?F(K):xe(K))}function ee(K){n.enabled!==!1&&(K.pointerType==="touch"?D(K):ue(K))}function ne(K){me(K),T.length===0&&(n.domElement.releasePointerCapture(K.pointerId),n.domElement.removeEventListener("pointermove",ee),n.domElement.removeEventListener("pointerup",ne)),n.dispatchEvent(g6),s=i.NONE}function G(K){me(K)}function xe(K){let ae;switch(K.button){case 0:ae=n.mouseButtons.LEFT;break;case 1:ae=n.mouseButtons.MIDDLE;break;case 2:ae=n.mouseButtons.RIGHT;break;default:ae=-1}switch(ae){case Ha.DOLLY:if(n.enableZoom===!1)return;V(K),s=i.DOLLY;break;case Ha.ROTATE:if(K.ctrlKey||K.metaKey||K.shiftKey){if(n.enablePan===!1)return;Y(K),s=i.PAN}else{if(n.enableRotate===!1)return;W(K),s=i.ROTATE}break;case Ha.PAN:if(K.ctrlKey||K.metaKey||K.shiftKey){if(n.enableRotate===!1)return;W(K),s=i.ROTATE}else{if(n.enablePan===!1)return;Y(K),s=i.PAN}break;default:s=i.NONE}s!==i.NONE&&n.dispatchEvent(Eh)}function ue(K){switch(s){case i.ROTATE:if(n.enableRotate===!1)return;X(K);break;case i.DOLLY:if(n.enableZoom===!1)return;O(K);break;case i.PAN:if(n.enablePan===!1)return;de(K);break}}function Me(K){n.enabled===!1||n.enableZoom===!1||s!==i.NONE||(K.preventDefault(),n.dispatchEvent(Eh),_e(K),n.dispatchEvent(g6))}function ye(K){n.enabled===!1||n.enablePan===!1||pe(K)}function F(K){switch(Ce(K),T.length){case 1:switch(n.touches.ONE){case Ga.ROTATE:if(n.enableRotate===!1)return;Ee(),s=i.TOUCH_ROTATE;break;case Ga.PAN:if(n.enablePan===!1)return;se(),s=i.TOUCH_PAN;break;default:s=i.NONE}break;case 2:switch(n.touches.TWO){case Ga.DOLLY_PAN:if(n.enableZoom===!1&&n.enablePan===!1)return;J(),s=i.TOUCH_DOLLY_PAN;break;case Ga.DOLLY_ROTATE:if(n.enableZoom===!1&&n.enableRotate===!1)return;z(),s=i.TOUCH_DOLLY_ROTATE;break;default:s=i.NONE}break;default:s=i.NONE}s!==i.NONE&&n.dispatchEvent(Eh)}function D(K){switch(Ce(K),s){case i.TOUCH_ROTATE:if(n.enableRotate===!1)return;$(K),n.update();break;case i.TOUCH_PAN:if(n.enablePan===!1)return;oe(K),n.update();break;case i.TOUCH_DOLLY_PAN:if(n.enableZoom===!1&&n.enablePan===!1)return;C(K),n.update();break;case i.TOUCH_DOLLY_ROTATE:if(n.enableZoom===!1&&n.enableRotate===!1)return;I(K),n.update();break;default:s=i.NONE}}function re(K){n.enabled!==!1&&K.preventDefault()}function fe(K){T.push(K)}function me(K){delete A[K.pointerId];for(let ae=0;ae<T.length;ae++)if(T[ae].pointerId==K.pointerId){T.splice(ae,1);return}}function Ce(K){let ae=A[K.pointerId];ae===void 0&&(ae=new Ie,A[K.pointerId]=ae),ae.set(K.pageX,K.pageY)}function Pe(K){const ae=K.pointerId===T[0].pointerId?T[1]:T[0];return A[ae.pointerId]}n.domElement.addEventListener("contextmenu",re),n.domElement.addEventListener("pointerdown",j),n.domElement.addEventListener("pointercancel",G),n.domElement.addEventListener("wheel",Me,{passive:!1}),this.update()}}function k2(r,e=!1){const t=r[0].index!==null,n=new Set(Object.keys(r[0].attributes)),i=new Set(Object.keys(r[0].morphAttributes)),s={},o={},a=r[0].morphTargetsRelative,l=new Xt;let c=0;for(let h=0;h<r.length;++h){const d=r[h];let f=0;if(t!==(d.index!==null))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+h+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(const m in d.attributes){if(!n.has(m))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+h+'. All geometries must have compatible attributes; make sure "'+m+'" attribute exists among all geometries, or in none of them.'),null;s[m]===void 0&&(s[m]=[]),s[m].push(d.attributes[m]),f++}if(f!==n.size)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+h+". Make sure all geometries have the same number of attributes."),null;if(a!==d.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+h+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(const m in d.morphAttributes){if(!i.has(m))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+h+".  .morphAttributes must be consistent throughout all geometries."),null;o[m]===void 0&&(o[m]=[]),o[m].push(d.morphAttributes[m])}if(e){let m;if(t)m=d.index.count;else if(d.attributes.position!==void 0)m=d.attributes.position.count;else return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+h+". The geometry must have either an index or a position attribute"),null;l.addGroup(c,m,h),c+=m}}if(t){let h=0;const d=[];for(let f=0;f<r.length;++f){const m=r[f].index;for(let _=0;_<m.count;++_)d.push(m.getX(_)+h);h+=r[f].attributes.position.count}l.setIndex(d)}for(const h in s){const d=_6(s[h]);if(!d)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+h+" attribute."),null;l.setAttribute(h,d)}for(const h in o){const d=o[h][0].length;if(d===0)break;l.morphAttributes=l.morphAttributes||{},l.morphAttributes[h]=[];for(let f=0;f<d;++f){const m=[];for(let v=0;v<o[h].length;++v)m.push(o[h][v][f]);const _=_6(m);if(!_)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+h+" morphAttribute."),null;l.morphAttributes[h].push(_)}}return l}function _6(r){let e,t,n,i=0;for(let a=0;a<r.length;++a){const l=r[a];if(l.isInterleavedBufferAttribute)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. InterleavedBufferAttributes are not supported."),null;if(e===void 0&&(e=l.array.constructor),e!==l.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(t===void 0&&(t=l.itemSize),t!==l.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(n===void 0&&(n=l.normalized),n!==l.normalized)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;i+=l.array.length}const s=new e(i);let o=0;for(let a=0;a<r.length;++a)s.set(r[a].array,o),o+=r[a].array.length;return new jn(s,t,n)}let Je={makeShape:function(){let r;if(arguments.length){let e=arguments[0];r=new $u,r.moveTo(e[0][0],e[0][1]);for(let t=1;t<e.length;t++)r.lineTo(e[t][0],e[t][1]);if(arguments.length>1)for(let t=1;t<arguments.length;t++){let n=arguments[t],i=new wd;i.moveTo(n[0][0],n[0][1]);for(let s=1;s<n.length;s++)i.lineTo(n[s][0],n[s][1]);r.holes.push(i)}return r}else console.error("Something wrong!")},makeExtrudeGeometry:function(r,e){let t={steps:1,depth:e,bevelEnabled:!1},n=new Yu(r,t);return n.rotateX(-.5*Math.PI),n},makeShapeGeometry:function(r){let e=this.makeShape(r);return new Qf(e)},makeMesh:function(r,e,t){let n,i;return r==="lambert"?n=new ou({color:t}):r==="phong"?n=new P1({color:t}):console.error("unrecognized type!"),i=new $t(e,n),i.castShadow=!0,i.receiveShadow=!0,i}};const Td=function(r){let e=[2931378,4695808,14024704,556935,3648782,5066061,13532672,14721555,8895710],t=Math.floor(Math.random()*e.length);this.color=r||e[t],this.mesh=new mt,this.wheels=[],this.startAngle=0;let n=this;a(),o(),s(),i();function i(){let c=m();c.position.set(8,3,-6),n.wheels.push(c),n.mesh.add(c);let h=m();h.position.set(8,3,6),n.wheels.push(h),n.mesh.add(h);let d=m();d.position.set(-8,3,6),n.wheels.push(d),n.mesh.add(d);let f=m();f.position.set(-8,3,-6),n.wheels.push(f),n.mesh.add(f);function m(){let _=new mt,v=new Hc(3,3,3,32);v.rotateX(.5*Math.PI);let x=Je.makeMesh("lambert",v,0);_.add(x);let y=Je.makeMesh("lambert",v,14540253);y.castShadow=!1,y.scale.set(.8,.8,1.1),_.add(y);let M=new Hc(1,1,3.6,4);M.rotateX(.5*Math.PI);let w=Je.makeMesh("lambert",M,10987431);return w.castShadow=!1,_.add(w),_}}function s(){let c=[],h=new Qt(2,2,2);[[12.5,7.1,6.1],[12.5,7.1,-6.1],[-14,7.1,6.1],[-14,7.1,-6.1]].forEach(function(x){let y=x[0],M=x[1],w=x[2],S=h.clone();S.translate(y,M,w),c.push(S)});let f=h.clone();f.scale(1,1.3,7.1),f.translate(12.1,3.3,0),c.push(f);let m=f.clone();m.translate(-26,0,0),c.push(m);const _=k2(c);let v=Je.makeMesh("phong",_,16777215);n.mesh.add(v)}function o(){let c=new mt,h=new mt,f=l([[-2,8],[4,8],[2.5,12],[-2,12]]);h.add(f);let _=l([[-9,8],[-3,8],[-3,12],[-7.5,12]]);h.add(_),h.position.z=7.1,c.add(h);let v=h.clone();v.position.z=-7.1,c.add(v);let x=new Qt(.1,5,12);x.rotateZ(.12*Math.PI),x.translate(4.2,10,0);let y=Je.makeMesh("phong",x,0);c.add(y);let M=y.clone();M.rotation.z=-.24*Math.PI,M.position.x=-19,M.position.y=6,c.add(M),n.mesh.add(c)}function a(){let c=[[-13,2],[13,2],[13,8],[5,8],[3,13],[-8,13],[-10,8],[-13,8],[-13,2]],h=Je.makeShape(c),d=Je.makeExtrudeGeometry(h,14);d.translate(0,-7,0),d.rotateX(.5*Math.PI);let f=Je.makeMesh("phong",d,n.color);n.mesh.add(f)}function l(c){let h=0,d=Je.makeShape(c),f=Je.makeExtrudeGeometry(d,.1);f.rotateX(.5*Math.PI);let m=Je.makeMesh("phong",f,h);return m.castShadow=!1,m}};Td.prototype={setPosition:function(r,e,t){this.mesh.position.set(r,e,t)},forward:function(r){r=r||1,this._moving(r,!0)},backward:function(r){r=r||1,this._moving(r,!1)},turnLeft:function(r,e){this._turn(r,!0,e)},turnRight:function(r,e){this._turn(r,!1,e)},_turn:function(r,e,t){if(e=e?1:-1,t){if(this.startAngle<r&&(this.mesh.rotation.y+=t,this.startAngle+=t,r-this.startAngle<t)){let n=this.mesh.rotation.y-this.startAngle;this.mesh.rotation.y=n+r,this.startAngle=0;return}}else this.mesh.rotation.y+=r*e},_moving:function(r,e){let t=this.mesh.rotation.y;e=e?1:-1;let n=r*Math.cos(t)*e,i=r*Math.sin(t)*e;this.mesh.position.x+=n,this.mesh.position.z-=i,this._rotateWheels(r)},_rotateWheels:function(r){this.wheels.forEach(function(e){e.rotation.z-=.1*r})}};let v6={window:function(){let r=document.createElement("canvas"),e=r.getContext("2d");r.width=32,r.height=32;let t={border:"#3c3443",top:"#9d94a7",bottom:"#796e8c"};e.fillStyle=t.border,e.fillRect(0,0,32,32),e.fillStyle=t.top,e.fillRect(2,2,13,13),e.fillStyle=t.top,e.fillRect(17,2,13,13),e.fillStyle=t.bottom,e.fillRect(2,17,13,13),e.fillStyle=t.bottom,e.fillRect(17,17,13,13);let n=new Tn(r);return n.wrapS=Kr,n.wrapT=Kr,n.needsUpdate=!0,n}},kI=[[-110,-110],[-90,-110],[-70,-110],[-50,-110],[-30,-110],[-10,-110],[10,-110],[30,-110],[50,-110],[70,-110],[90,-110],[-110,110],[-110,90],[-110,70],[-110,50],[-110,30],[-110,10],[-110,-10],[-110,-30],[-110,-50],[-110,-70],[-110,-90],[110,110],[90,110],[70,110],[50,110],[30,110],[-30,110],[-50,110],[-70,110],[-90,110],[110,-110],[110,-90],[110,-70],[110,-50],[110,-30],[110,-10],[110,10],[110,30],[110,50],[110,70],[110,90]];let Nn;const OI={name:"MiniCity",data(){return{camera:null,renderer:null,cars:[],width:"",height:"",config:{isMobile:!1,background:2631720}}},methods:{checkUserAgent(){let r=navigator.userAgent;(r.match(/Android/i)||r.match(/webOS/i)||r.match(/iPhone/i)||r.match(/iPad/i)||r.match(/iPod/i)||r.match(/BlackBerry/i))&&(this.config.isMobile=!0,this.camera.position.set(420,420,420),this.renderer.shadowMap.enabled=!1)},buildMovingCars(){[[-130,145,0],[10,145,0],[145,20,.5],[30,-145,1],[-145,-60,1.5]].forEach(e=>{let t=new Td,n=e[0],i=e[1],s=e[2];t.setPosition(n,0,i),t.mesh.rotation.y=s*Math.PI,this.cars.push(t),Nn.add(t.mesh)})},buildStaticCars(){[[-84,82,1.5],[-58,82,1.5],[-32,82,1.5],[84,82,1.5]].forEach(e=>{let t=new Td,n=e[0],i=e[1],s=e[2];t.setPosition(n,0,i),t.mesh.rotation.y=s*Math.PI,Nn.add(t.mesh)})},buildRoad(){let r=new mt,e=16777215,t=[[-160,160],[160,160],[160,-160],[-160,-160]],n=[[-159,159],[-159,-159],[159,-159],[159,159]],i=Je.makeShape(t,n),s=Je.makeExtrudeGeometry(i,.1),o=Je.makeMesh("phong",s,e);r.add(o);let a=[[-131,131],[-131,-131],[131,-131],[131,131],[19,131],[19,99],[99,99],[99,-99],[-99,-99],[-99,99],[-19,99],[-19,131]],l=Je.makeShape(a),c=Je.makeExtrudeGeometry(l,.1),h=Je.makeMesh("phong",c,e);h.rotation.y=Math.PI,r.add(h);const d=[];let f=new Qt(20,.1,2);const m=[];for(let S=0;S<9;S++){let T=f.clone();T.translate(S*30,0,-1),m.push(T)}const _=k2(m);_.translate(-120,0,145),d.push(_);let v=_.clone();v.translate(0,0,-290),d.push(v);let x=_.clone();x.rotateY(.5*Math.PI),d.push(x);let y=_.clone();y.rotateY(-.5*Math.PI),d.push(y);const M=k2(d),w=Je.makeMesh("phong",M,e);r.add(w),Nn.add(r)},buildbuilding(){let r=new Qt(320,6,320),e=Je.makeMesh("lambert",r,7298922);e.position.y=-3,Nn.add(e),s(),i(),o(),n(),t();function t(){[[-12.5,12.5,1.25],[-7.5,12.5,-.5],[-2.5,12.5,-.5],[2.5,12.5,-.5],[7.5,12.5,-.5],[12.5,12.5,-.25],[12.5,7.5,0],[12.5,2.5,0],[12.5,-2.5,0],[12.5,-7.5,0],[12.5,-12.5,.25],[7.5,-12.5,.5],[2.5,-12.5,.5],[-2.5,-12.5,.5],[-7.5,-12.5,.5],[-12.5,-12.5,.75],[-12.5,-7.5,1],[-12.5,-2.5,1],[-12.5,2.5,1],[-12.5,7.5,1]].forEach(function(f){let m=f[0]*10,_=f[1]*10,v=f[2],x=a();x.rotation.y=v*Math.PI,x.position.set(m,0,_),Nn.add(x)})}function n(){let d=l();d.position.z=-20,Nn.add(d)}function i(){let d=[[-120,-120],[-120,120],[120,120],[120,-120],[20,-120],[20,-100],[100,-100],[100,100],[-100,100],[-100,-100],[-20,-100],[-20,-120],[-120,-120]],f=Je.makeShape(d),m=Je.makeExtrudeGeometry(f,3),_=Je.makeMesh("lambert",m,12632170);Nn.add(_)}function s(){let d=[[-130,-130],[-130,130],[130,130],[130,-130],[20,-130],[20,-120],[120,-120],[120,120],[-120,120],[-120,-120],[-20,-120],[-20,-130],[-130,-130]],f=Je.makeShape(d),m=Je.makeExtrudeGeometry(f,3),_=Je.makeMesh("lambert",m,15059647);Nn.add(_)}function o(){kI.forEach(function(d){let f=d[0],m=1,_=d[1],v=h(f,m,_);Nn.add(v)})}function a(){let d=new mt,f=new Qt(2,30,2);f.translate(0,15,0);let m=Je.makeMesh("phong",f,15454658);d.add(m);let _=new Qt(10,1,1),v=Je.makeMesh("phong",_,2887182);v.position.set(3,30,0),d.add(v);let x=new Qt(6,2,4),y;return y=Je.makeMesh("phong",x,15454658),y.position.set(10,30,0),d.add(y),d}function l(){let d=new mt,f=new Qt(180,3,140),m=Je.makeMesh("lambert",f,16777215);m.position.y=1,d.add(m);let _=[[-80,-30],[-80,20],[50,20],[50,0],[20,-30],[-80,-30]],v=Je.makeShape(_),x=Je.makeExtrudeGeometry(v,100),y=new P1({map:v6.window()});y.map.repeat.set(.1,.08);let M=new $t(x,y);M.castShadow=!0,M.receiveShadow=!0,d.add(M);let w=v,S=Je.makeExtrudeGeometry(w,5),T=Je.makeMesh("lambert",S,11642799);T.position.y=100,d.add(T);const A=[];let R=new Qt(2,2,40);for(let fe=0;fe<12;fe++){let me=R.clone();me.translate(fe*5,0,0),A.push(me)}for(let fe=0;fe<2;fe++){let me=R.clone();me.rotateY(.5*Math.PI),me.scale(1.6,1,1),me.translate(27,0,-15+fe*30),A.push(me)}let E=[[0,0],[1,0],[0,1],[1,1]];for(let fe=0;fe<E.length;fe++){let me=E[fe],Ce=R.clone();Ce.scale(1,1,.4),Ce.rotateX(.5*Math.PI),Ce.translate(me[0]*55,0,-15+me[1]*30),A.push(Ce)}const L=k2(A);let k=Je.makeMesh("phong",L,16777215);k.position.set(-70,115,5),d.add(k);let H=new Qt(150,3,90),te=Je.makeMesh("lambert",H,496293);te.position.set(-3,18,25),d.add(te);let q=new Qt(150,15,3),B=Je.makeMesh("phong",q,496293);B.receiveShadow=!1,B.position.set(-3,24,68.5),d.add(B);let N=new Qt(150,3,3),W=Je.makeMesh("phong",N,16777215);W.position.set(-3,33,68.5),d.add(W);let V=new Hc(2,2,15,32),Y=Je.makeMesh("lambert",V,16777215);Y.position.set(-60,10,55),d.add(Y);let X=Y.clone();X.position.set(55,10,55),d.add(X);let O=new mt,de=new Qt(4,106,4),_e=Je.makeMesh("phong",de,16777215),pe=_e.clone();pe.position.set(-80,52,30),O.add(pe);let Ee=_e.clone();Ee.position.set(-80,52,-20),O.add(Ee);let se=_e.clone();se.position.set(50,52,-18),O.add(se),d.add(O);let ie=[[-82,-32],[20,-32],[52,0],[52,22],[-82,22],[-82,-32]],J=[[-78,-28],[20,-28],[48,0],[48,18],[-78,18],[-78,-28]],z=Je.makeShape(ie,J),$=Je.makeExtrudeGeometry(z,8),oe=Je.makeMesh("phong",$,16777215);oe.position.y=100,d.add(oe);let ve=[[-80,20],[-80,60],[80,60],[80,20],[-80,20]],C=[[-78,22],[78,22],[78,58],[-78,58],[-78,22]],I=Je.makeShape(ve,C),j=Je.makeExtrudeGeometry(I,90),ee=Je.makeMesh("lambert",j,15917595);d.add(ee);let ne=[[0,0],[36,0],[36,70],[0,70],[0,0]],G=[[2,2],[34,2],[34,68],[2,68],[2,2]],xe=Je.makeShape(ne,G),ue=Je.makeExtrudeGeometry(xe,165),Me=Je.makeMesh("lambert",ue,16777215);Me.rotation.x=-.5*Math.PI,Me.rotation.z=-.5*Math.PI,Me.position.y=86,Me.position.z=-58,Me.position.x=-78,d.add(Me);let ye=new ga(32,66,1,1),F=new P1({map:v6.window()});F.map.repeat.set(2,6);let D=new $t(ye,F);D.position.set(83,51,-40),D.rotation.y=.5*Math.PI,d.add(D);let re=c();re.scale.set(.6,.6,1),re.rotation.y=Math.PI,re.position.set(65,75,-61);for(let fe=0;fe<7;fe++)for(let me=0;me<4;me++){let Ce=re.clone();Ce.position.x-=fe*22,Ce.position.y-=me*20,d.add(Ce)}return d}function c(){let d=new mt,f=new ga(20,20),m=Je.makeMesh("phong",f,6970996);d.add(m);let _=new Qt(22,2,2),v=Je.makeMesh("phong",_,16777215),x=v.clone();x.position.y=10,d.add(x);let y=v.clone();y.position.y=-10,d.add(y);let M=v.clone();M.rotation.z=.5*Math.PI,M.position.x=-10,d.add(M);let w=M.clone();return w.position.x=10,d.add(w),d}function h(d,f,m){d=d||0,f=f||0,m=m||0;let _=new mt,v=new Qt(2,16,2),x=Je.makeMesh("lambert",v,9068858);x.position.y=8,_.add(x);let y=new Qt(8,8,8),M=Je.makeMesh("lambert",y,10264157);return M.position.y=13,_.add(M),_.position.set(d,f,m),_}},buildLightSystem(){if(this.config.isMobile){let r=new tI(16777215,1);Nn.add(r);let e=new $1(16777215,.15);Nn.add(e)}else{let r=new xl(16777215,1.1);r.position.set(300,1e3,500),r.target.position.set(0,0,0),r.castShadow=!0;let e=300;r.shadow.camera=new Ta(-e,e,e,-e,500,1600),r.shadow.bias=1e-4,r.shadow.mapSize.width=r.shadow.mapSize.height=1024,Nn.add(r);let t=new $1(16777215,.3);Nn.add(t)}},buildAuxSystem(){let r=new i4(320,32);Nn.add(r);let e=new Ju(this.camera,this.renderer.domElement);e.enableDamping=!0,e.dampingFactor=.25,e.rotateSpeed=.35},carMoving(r){let e=r.mesh.rotation.y,t=r.mesh.position.x,n=r.mesh.position.z;t<145&&n===145?r.forward():e<.5*Math.PI?r.turnLeft(.5*Math.PI,.1):t===145&&n>-145?r.forward():e<Math.PI?r.turnLeft(.5*Math.PI,.1):t>-145&&n==-145?r.forward():e<1.5*Math.PI?r.turnLeft(.5*Math.PI,.1):t===-145&&n<145?(r.mesh.rotation.y=1.5*Math.PI,r.forward()):e<2*Math.PI?r.turnLeft(.5*Math.PI,.1):(r.setPosition(-145,0,145),r.mesh.rotation.set(0,0,0))},onWindowResize(){window.addEventListener("resize",()=>{this.width=window.innerWidth,this.height=window.innerHeight,this.camera.aspect=this.width/this.height,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.width,this.height)})},loop(){this.cars.forEach(r=>{this.carMoving(r)}),this.renderer.render(Nn,this.camera),requestAnimationFrame(this.loop)}},mounted(){this.width=window.innerWidth,this.height=window.innerHeight,Nn=new ml,this.camera=new gn(45,this.width/this.height,1,5e3),this.camera.position.set(330,330,330),this.camera.lookAt(Nn.position),this.renderer=new Ca({antialias:!0,canvas:document.querySelector("canvas")}),this.renderer.setSize(this.width,this.height),this.renderer.setClearColor(this.config.background),this.renderer.shadowMap.enabled=!0,this.renderer.shadowMap.type=Bf,this.checkUserAgent(),this.buildAuxSystem(),this.buildLightSystem(),this.buildbuilding(),this.buildRoad(),this.buildStaticCars(),this.buildMovingCars(),this.loop(),this.onWindowResize()}},Im=r=>(Sa("data-v-a4f1461c"),r=r(),Ma(),r),FI={class:"container"},NI=Im(()=>tt("div",{class:"info"},[tt("a",{class:"title",href:"https://github.com/luosijie/threejs-examples",target:"_blank"}," Mini City "),tt("a",{class:"author",href:"https://luosijie.github.io/",target:"_blank"}," Created By Jesse Luo ")],-1)),zI=Im(()=>tt("canvas",null,null,-1)),BI=[NI,zI];function UI(r,e,t,n,i,s){return vn(),Wn("div",FI,BI)}const Dm=Jr(OI,[["render",UI],["__scopeId","data-v-a4f1461c"]]),VI=Object.freeze(Object.defineProperty({__proto__:null,default:Dm},Symbol.toStringTag,{value:"Module"})),HI="FeatureCollection",GI=[{type:"Feature",properties:{adcode:11e4,name:"\u5317\u4EAC\u5E02",center:[116.405285,39.904989],centroid:[116.41989,40.189913],childrenNum:16,level:"province",subFeatureIndex:0,acroutes:[1e5],parent:{adcode:1e5}},geometry:{type:"MultiPolygon",coordinates:[[[[117.210024,40.082262],[117.105315,40.074479],[117.105315,40.074479],[117.102851,40.073563],[117.102235,40.073105],[117.102235,40.073105],[117.102851,40.073563],[116.999989,40.030053],[116.927924,40.054788],[116.783794,40.035093],[116.757925,39.968176],[116.786874,39.886963],[116.926076,39.835524],[116.949482,39.778529],[116.902055,39.763813],[116.90575,39.687883],[116.812128,39.616018],[116.717273,39.603572],[116.717273,39.603572],[116.720969,39.599884],[116.720969,39.599884],[116.726512,39.595274],[116.726512,39.595274],[116.703106,39.588819],[116.703106,39.588819],[116.607636,39.619705],[116.524484,39.596657],[116.440716,39.527466],[116.433325,39.44296],[116.332927,39.457744],[116.245464,39.515466],[116.204196,39.588819],[116.10195,39.576368],[116.10195,39.576368],[115.957204,39.561147],[115.910393,39.600345],[115.910393,39.600345],[115.855574,39.554689],[115.855574,39.554689],[115.846951,39.550999],[115.846951,39.550999],[115.821081,39.517312],[115.821081,39.517312],[115.752712,39.512696],[115.752712,39.512696],[115.738545,39.539464],[115.738545,39.539925],[115.738545,39.539464],[115.738545,39.539925],[115.737314,39.544078],[115.737314,39.544078],[115.723763,39.544539],[115.723763,39.544539],[115.721299,39.543617],[115.721299,39.543617],[115.721299,39.55146],[115.721299,39.55146],[115.716988,39.560225],[115.716988,39.560225],[115.699125,39.577751],[115.698509,39.577751],[115.698509,39.577751],[115.699125,39.577751],[115.698509,39.577751],[115.69543,39.579135],[115.69543,39.579135],[115.586408,39.58928],[115.478619,39.650578],[115.478619,39.650578],[115.498945,39.69617],[115.498945,39.69617],[115.443511,39.785426],[115.443511,39.785426],[115.567314,39.816224],[115.514344,39.837821],[115.522967,39.898898],[115.426264,39.95029],[115.454597,40.029595],[115.599343,40.11979],[115.73485,40.129398],[115.773038,40.176044],[115.85311,40.148609],[115.89869,40.234536],[115.968907,40.264219],[115.9184,40.354103],[115.861733,40.364589],[115.861733,40.364589],[115.779197,40.442501],[115.755792,40.540333],[115.907929,40.617133],[116.005247,40.58397],[116.088399,40.62667],[116.22021,40.744181],[116.247311,40.791762],[116.464738,40.771827],[116.334159,40.90446],[116.473977,40.895867],[116.455499,40.98084],[116.519557,40.981292],[116.519557,40.981292],[116.599013,40.974516],[116.615643,41.053072],[116.688324,41.044499],[116.677853,40.970902],[116.730208,40.897676],[116.858323,40.833423],[116.964881,40.70972],[117.110858,40.70836],[117.286401,40.660719],[117.386799,40.684317],[117.49582,40.674334],[117.389879,40.5617],[117.344299,40.582152],[117.213104,40.512136],[117.225423,40.369148],[117.309191,40.279284],[117.309807,40.279284],[117.309191,40.279284],[117.309807,40.279284],[117.389879,40.228141],[117.367089,40.172387],[117.367089,40.172844],[117.367089,40.173301],[117.367089,40.173301],[117.367089,40.172844],[117.367089,40.172387],[117.344299,40.13443],[117.210024,40.082262]]]]}},{type:"Feature",properties:{adcode:12e4,name:"\u5929\u6D25\u5E02",center:[117.190182,39.125596],centroid:[117.351154,39.28914],childrenNum:16,level:"province",subFeatureIndex:1,acroutes:[1e5],parent:{adcode:1e5}},geometry:{type:"MultiPolygon",coordinates:[[[[117.210024,40.082262],[117.344299,40.13443],[117.367089,40.172387],[117.367089,40.172844],[117.367089,40.173301],[117.367089,40.173301],[117.367089,40.172844],[117.367089,40.172387],[117.389879,40.228141],[117.450857,40.252347],[117.571581,40.21809],[117.652269,40.12345],[117.652269,40.12345],[117.651037,40.122535],[117.651037,40.122535],[117.71879,40.082262],[117.71879,40.082262],[117.75821,40.073563],[117.75821,40.073563],[117.782232,39.968634],[117.614697,39.972303],[117.589443,39.997059],[117.513067,39.910373],[117.513067,39.910373],[117.537704,39.835064],[117.537704,39.835064],[117.540784,39.822658],[117.540784,39.822658],[117.57774,39.727009],[117.644262,39.702155],[117.66274,39.636295],[117.619008,39.603111],[117.736037,39.560686],[117.736037,39.560686],[117.74774,39.58928],[117.866,39.596657],[117.933753,39.574062],[117.870311,39.454972],[117.846906,39.328274],[117.972557,39.312536],[117.972557,39.312536],[117.982412,39.298647],[117.982412,39.298647],[118.021833,39.287071],[118.021833,39.287071],[118.024296,39.289386],[118.024296,39.289386],[118.024912,39.292164],[118.024912,39.292164],[118.037231,39.220353],[117.871543,39.122479],[117.837667,39.056999],[117.855529,38.957502],[117.898029,38.948661],[117.847522,38.855535],[117.778536,38.869046],[117.64611,38.828972],[117.646725,38.788875],[117.740964,38.753888],[117.729261,38.680127],[117.639334,38.62686],[117.47919,38.617043],[117.39419,38.573553],[117.252524,38.556711],[117.213104,38.639947],[117.213104,38.639947],[117.176764,38.617978],[117.176764,38.617978],[117.097924,38.587118],[117.042489,38.706279],[116.95133,38.689468],[116.947634,38.689468],[116.947634,38.689468],[116.950714,38.689468],[116.95133,38.689468],[116.950714,38.689468],[116.877417,38.680594],[116.858939,38.741289],[116.766548,38.742222],[116.737599,38.784677],[116.708034,38.931907],[116.783179,39.050959],[116.783179,39.050959],[116.812744,39.050959],[116.812744,39.050959],[116.912526,39.110873],[116.91191,39.111338],[116.91191,39.111338],[116.912526,39.110873],[116.865714,39.155428],[116.865714,39.155428],[116.892816,39.224061],[116.870642,39.357426],[116.796113,39.446656],[116.812128,39.616018],[116.90575,39.687883],[116.916837,39.703996],[116.916837,39.703996],[116.983975,39.63906],[116.983975,39.63906],[117.126873,39.61694],[117.177996,39.64551],[117.165061,39.718725],[117.165061,39.718725],[117.205713,39.763813],[117.156438,39.817603],[117.229735,39.852981],[117.152126,39.878239],[117.150894,39.944785],[117.198322,39.992933],[117.210024,40.082262]]]]}},{type:"Feature",properties:{adcode:13e4,name:"\u6CB3\u5317\u7701",center:[114.502461,38.045474],centroid:[114.502461,38.045474],childrenNum:11,level:"province",subFeatureIndex:2,acroutes:[1e5],parent:{adcode:1e5}},geometry:{type:"MultiPolygon",coordinates:[[[[117.389879,40.228141],[117.309807,40.279284],[117.309191,40.279284],[117.309807,40.279284],[117.309191,40.279284],[117.225423,40.369148],[117.213104,40.512136],[117.344299,40.582152],[117.389879,40.5617],[117.49582,40.674334],[117.386799,40.684317],[117.286401,40.660719],[117.110858,40.70836],[116.964881,40.70972],[116.858323,40.833423],[116.730208,40.897676],[116.677853,40.970902],[116.688324,41.044499],[116.615643,41.053072],[116.599013,40.974516],[116.519557,40.981292],[116.519557,40.981292],[116.455499,40.98084],[116.473977,40.895867],[116.334159,40.90446],[116.464738,40.771827],[116.247311,40.791762],[116.22021,40.744181],[116.088399,40.62667],[116.005247,40.58397],[115.907929,40.617133],[115.755792,40.540333],[115.779197,40.442501],[115.861733,40.364589],[115.861733,40.364589],[115.9184,40.354103],[115.968907,40.264219],[115.89869,40.234536],[115.85311,40.148609],[115.773038,40.176044],[115.73485,40.129398],[115.599343,40.11979],[115.454597,40.029595],[115.426264,39.95029],[115.522967,39.898898],[115.514344,39.837821],[115.567314,39.816224],[115.443511,39.785426],[115.443511,39.785426],[115.498945,39.69617],[115.498945,39.69617],[115.478619,39.650578],[115.478619,39.650578],[115.586408,39.58928],[115.69543,39.579135],[115.69543,39.579135],[115.698509,39.577751],[115.699125,39.577751],[115.698509,39.577751],[115.698509,39.577751],[115.699125,39.577751],[115.716988,39.560225],[115.716988,39.560225],[115.721299,39.55146],[115.721299,39.55146],[115.721299,39.543617],[115.721299,39.543617],[115.723763,39.544539],[115.723763,39.544539],[115.737314,39.544078],[115.737314,39.544078],[115.738545,39.539925],[115.738545,39.539464],[115.738545,39.539925],[115.738545,39.539464],[115.752712,39.512696],[115.752712,39.512696],[115.821081,39.517312],[115.821081,39.517312],[115.846951,39.550999],[115.846951,39.550999],[115.855574,39.554689],[115.855574,39.554689],[115.910393,39.600345],[115.910393,39.600345],[115.957204,39.561147],[116.10195,39.576368],[116.10195,39.576368],[116.204196,39.588819],[116.245464,39.515466],[116.332927,39.457744],[116.433325,39.44296],[116.440716,39.527466],[116.524484,39.596657],[116.607636,39.619705],[116.703106,39.588819],[116.703106,39.588819],[116.726512,39.595274],[116.726512,39.595274],[116.720969,39.599884],[116.720969,39.599884],[116.717273,39.603572],[116.717273,39.603572],[116.812128,39.616018],[116.796113,39.446656],[116.870642,39.357426],[116.892816,39.224061],[116.865714,39.155428],[116.865714,39.155428],[116.912526,39.110873],[116.91191,39.111338],[116.91191,39.111338],[116.912526,39.110873],[116.812744,39.050959],[116.812744,39.050959],[116.783179,39.050959],[116.783179,39.050959],[116.708034,38.931907],[116.737599,38.784677],[116.766548,38.742222],[116.858939,38.741289],[116.877417,38.680594],[116.950714,38.689468],[116.95133,38.689468],[116.950714,38.689468],[116.947634,38.689468],[116.947634,38.689468],[116.95133,38.689468],[117.042489,38.706279],[117.097924,38.587118],[117.176764,38.617978],[117.176764,38.617978],[117.213104,38.639947],[117.213104,38.639947],[117.252524,38.556711],[117.39419,38.573553],[117.47919,38.617043],[117.639334,38.62686],[117.638102,38.545013],[117.781,38.374004],[117.937449,38.387606],[117.895565,38.30173],[117.808718,38.228445],[117.771761,38.136734],[117.70216,38.075529],[117.5839,38.070819],[117.513067,37.94353],[117.438538,37.853823],[117.34122,37.863271],[117.267923,37.838704],[117.093612,37.849571],[117.023395,37.832561],[116.788106,37.843429],[116.724664,37.744139],[116.433941,37.47349],[116.38097,37.522858],[116.379738,37.521909],[116.38097,37.522858],[116.379738,37.521909],[116.337238,37.580255],[116.291659,37.557966],[116.27626,37.466841],[116.240536,37.489633],[116.240536,37.489633],[116.226369,37.428365],[116.2855,37.404604],[116.236224,37.361816],[116.169087,37.384164],[116.051443,37.367998],[115.984921,37.326616],[115.969523,37.239497],[115.909777,37.206622],[115.868509,37.076414],[115.776734,36.992829],[115.79706,36.968931],[115.71206,36.883313],[115.683727,36.808139],[115.479851,36.76022],[115.365902,36.622043],[115.283366,36.486505],[115.308004,36.461967],[115.308004,36.461967],[115.366518,36.308793],[115.466916,36.259115],[115.466916,36.259115],[115.483547,36.149036],[115.312931,36.088137],[115.201446,36.210371],[115.201446,36.210371],[115.064092,36.178985],[114.996955,36.06831],[114.914419,36.051865],[114.912571,36.140339],[114.591666,36.130192],[114.345291,36.255738],[114.169132,36.243675],[114.169132,36.243675],[114.060727,36.276482],[114.055799,36.330005],[113.982502,36.358921],[113.911054,36.314578],[113.881488,36.354102],[113.819894,36.330969],[113.731199,36.363257],[113.708409,36.423461],[113.554425,36.494682],[113.588301,36.562955],[113.476816,36.655171],[113.499606,36.740564],[113.680692,36.789933],[113.696707,36.882356],[113.773083,36.855072],[113.76138,36.956022],[113.791561,36.987572],[113.758301,37.075459],[113.773083,37.1518],[113.832213,37.167536],[113.90243,37.309962],[114.014531,37.424564],[114.036705,37.49438],[114.123553,37.60159],[114.12848,37.698231],[113.993589,37.706752],[114.044712,37.762116],[113.976959,37.816965],[113.951706,37.917573],[113.872249,37.990228],[113.876561,38.055273],[113.810039,38.112729],[113.825438,38.169199],[113.720728,38.174843],[113.711489,38.213873],[113.570439,38.237375],[113.525475,38.382916],[113.583374,38.459793],[113.561816,38.558115],[113.612939,38.646022],[113.70225,38.65163],[113.720728,38.713283],[113.839605,38.758554],[113.855619,38.828972],[113.776163,38.885814],[113.76754,38.959828],[113.898119,39.067684],[114.050872,39.135939],[114.10877,39.052352],[114.345907,39.075116],[114.388406,39.176767],[114.47587,39.216181],[114.416124,39.243063],[114.480797,39.350023],[114.470942,39.408759],[114.568877,39.574062],[114.408117,39.65196],[114.395182,39.867218],[114.225183,39.857114],[114.17406,39.897521],[114.047176,39.916339],[114.021307,39.992017],[113.910438,40.011725],[113.956017,40.031428],[113.989278,40.112469],[114.044712,40.05662],[114.101995,40.099655],[114.073046,40.168729],[114.073046,40.168729],[114.235654,40.198442],[114.255364,40.236363],[114.46971,40.267872],[114.530688,40.344983],[114.446305,40.372795],[114.31203,40.372795],[114.267066,40.474369],[114.283081,40.590785],[114.209168,40.629848],[114.134639,40.737381],[114.044712,40.83116],[114.073661,40.857412],[113.973263,40.983099],[113.819279,41.097726],[113.920293,41.172081],[113.996669,41.192345],[113.927068,41.326829],[113.94493,41.39105],[113.871017,41.41349],[113.930764,41.485693],[114.100147,41.537218],[114.230726,41.513477],[114.203009,41.793334],[114.34837,41.947049],[114.510978,41.973299],[114.466015,42.038656],[114.510978,42.111047],[114.765361,42.118593],[114.828803,42.147434],[114.9021,42.015544],[114.922426,41.824999],[114.866991,41.803147],[114.899636,41.756299],[114.895325,41.636567],[114.862064,41.603915],[115.0992,41.624045],[115.252569,41.579303],[115.376989,41.602126],[115.319091,41.691546],[115.654162,41.829011],[115.811226,41.912328],[115.916552,41.945269],[116.016334,41.777273],[116.09887,41.776381],[116.122892,41.861995],[116.194341,41.861995],[116.233145,41.941263],[116.310137,41.997316],[116.409303,41.994203],[116.386514,41.952389],[116.510933,41.974189],[116.560209,41.928356],[116.727744,41.951054],[116.879881,42.018211],[116.890352,42.092846],[116.789338,42.200202],[116.907598,42.191337],[116.886656,42.366641],[116.910062,42.394928],[116.910062,42.394928],[116.927308,42.40509],[116.927308,42.40509],[116.929156,42.407741],[116.929156,42.408182],[116.929156,42.407741],[116.929156,42.408182],[116.936547,42.410833],[116.936547,42.410833],[116.944555,42.415251],[116.944555,42.415251],[116.976583,42.427618],[116.976583,42.427618],[116.984591,42.427176],[116.984591,42.427176],[116.993214,42.425851],[116.993214,42.425851],[116.995678,42.426734],[116.995678,42.426734],[117.001837,42.432476],[117.001837,42.432476],[117.004301,42.432476],[117.004301,42.432476],[117.005533,42.4338],[117.005533,42.4338],[117.133648,42.470443],[117.133648,42.470443],[117.147815,42.470443],[117.147815,42.470443],[117.264227,42.476621],[117.264227,42.476621],[117.412669,42.472649],[117.387415,42.517648],[117.387415,42.517648],[117.43669,42.584205],[117.516146,42.599622],[117.516146,42.599622],[117.687377,42.582884],[117.779768,42.618558],[117.874007,42.510151],[118.019369,42.39537],[118.060021,42.298083],[117.977485,42.229892],[118.109296,42.165176],[118.097593,42.105277],[118.155491,42.081301],[118.119767,42.034656],[118.194296,42.031545],[118.212774,42.081301],[118.297157,42.048876],[118.237411,42.023101],[118.313788,41.987977],[118.268824,41.930136],[118.340273,41.872688],[118.29223,41.772811],[118.165962,41.813405],[118.130854,41.74246],[118.214006,41.641933],[118.230636,41.581989],[118.307012,41.569008],[118.271904,41.471349],[118.348896,41.428296],[118.35136,41.337163],[118.519511,41.353783],[118.677192,41.350639],[118.741866,41.324133],[118.843496,41.374439],[118.890923,41.300764],[118.96422,41.309303],[119.197661,41.282781],[119.239545,41.314696],[119.2494,41.279634],[119.126212,41.138744],[119.037516,41.067509],[118.96422,41.079236],[118.951901,41.01832],[119.013495,41.007485],[118.977154,40.959155],[118.977154,40.959155],[118.90201,40.960963],[118.849039,40.800821],[118.911249,40.776811],[119.054147,40.664804],[119.184726,40.680233],[119.162552,40.599872],[119.30237,40.530329],[119.571536,40.540333],[119.598637,40.465266],[119.586934,40.37553],[119.642369,40.291151],[119.625123,40.224029],[119.745847,40.208038],[119.736608,40.10469],[119.779723,40.049293],[119.779723,40.049293],[119.780339,40.047002],[119.780339,40.047002],[119.817296,40.049751],[119.817296,40.049751],[119.848093,40.020432],[119.848093,40.020432],[119.845629,40.000726],[119.845629,40.000726],[119.854252,39.988349],[119.791426,39.952124],[119.540739,39.88834],[119.536427,39.808871],[119.466826,39.810709],[119.357805,39.721946],[119.269726,39.498385],[119.314689,39.412457],[119.190885,39.368528],[119.096031,39.242136],[118.948821,39.138259],[118.955597,39.176303],[118.76096,39.133618],[118.637156,39.157284],[118.533062,39.090907],[118.604511,38.971458],[118.491178,38.909097],[118.377845,38.971923],[118.366143,39.016101],[118.225092,39.034694],[118.120999,39.186043],[118.037231,39.220353],[118.024912,39.292164],[118.024912,39.292164],[118.024296,39.289386],[118.024296,39.289386],[118.021833,39.287071],[118.021833,39.287071],[117.982412,39.298647],[117.982412,39.298647],[117.972557,39.312536],[117.972557,39.312536],[117.846906,39.328274],[117.870311,39.454972],[117.933753,39.574062],[117.866,39.596657],[117.74774,39.58928],[117.736037,39.560686],[117.736037,39.560686],[117.619008,39.603111],[117.66274,39.636295],[117.644262,39.702155],[117.57774,39.727009],[117.540784,39.822658],[117.540784,39.822658],[117.537704,39.835064],[117.537704,39.835064],[117.513067,39.910373],[117.513067,39.910373],[117.589443,39.997059],[117.614697,39.972303],[117.782232,39.968634],[117.75821,40.073563],[117.75821,40.073563],[117.71879,40.082262],[117.71879,40.082262],[117.651037,40.122535],[117.651037,40.122535],[117.652269,40.12345],[117.652269,40.12345],[117.571581,40.21809],[117.450857,40.252347],[117.389879,40.228141]]],[[[116.90575,39.687883],[116.902055,39.763813],[116.949482,39.778529],[116.926076,39.835524],[116.786874,39.886963],[116.757925,39.968176],[116.783794,40.035093],[116.927924,40.054788],[116.999989,40.030053],[117.102851,40.073563],[117.102235,40.073105],[117.102235,40.073105],[117.102851,40.073563],[117.105315,40.074479],[117.105315,40.074479],[117.210024,40.082262],[117.198322,39.992933],[117.150894,39.944785],[117.152126,39.878239],[117.229735,39.852981],[117.156438,39.817603],[117.205713,39.763813],[117.165061,39.718725],[117.165061,39.718725],[117.177996,39.64551],[117.126873,39.61694],[116.983975,39.63906],[116.983975,39.63906],[116.916837,39.703996],[116.916837,39.703996],[116.90575,39.687883]]]]}},{type:"Feature",properties:{adcode:14e4,name:"\u5C71\u897F\u7701",center:[112.549248,37.857014],centroid:[112.305144,37.619053],childrenNum:11,level:"province",subFeatureIndex:3,acroutes:[1e5],parent:{adcode:1e5}},geometry:{type:"MultiPolygon",coordinates:[[[[113.731199,36.363257],[113.716417,36.262492],[113.651743,36.172224],[113.694859,36.026707],[113.637576,35.98847],[113.656671,35.836792],[113.604316,35.797008],[113.578446,35.63378],[113.485439,35.520879],[113.31236,35.481424],[113.298194,35.427325],[113.189789,35.449261],[113.126347,35.332197],[112.997,35.362455],[112.992072,35.296068],[112.911384,35.24673],[112.818377,35.258457],[112.766022,35.203718],[112.628052,35.263342],[112.637291,35.225716],[112.513487,35.218384],[112.058924,35.279951],[112.078634,35.219362],[112.062004,35.055937],[111.900012,35.079933],[111.66965,34.988319],[111.570484,34.843094],[111.346282,34.831798],[111.232949,34.789551],[111.148566,34.80773],[111.118385,34.756622],[110.966248,34.70499],[110.929907,34.731548],[110.883712,34.642498],[110.749437,34.652342],[110.710017,34.605078],[110.533242,34.583406],[110.474728,34.617389],[110.379257,34.600646],[110.310272,34.608033],[110.241287,34.682361],[110.232664,34.803308],[110.257301,34.93487],[110.325671,35.014785],[110.39404,35.271647],[110.45009,35.327803],[110.477808,35.413672],[110.525851,35.44195],[110.609619,35.632321],[110.57759,35.701346],[110.549257,35.877527],[110.511684,35.879951],[110.447011,36.164495],[110.474112,36.248018],[110.45933,36.330969],[110.503677,36.487948],[110.496902,36.582175],[110.394656,36.676768],[110.447011,36.737687],[110.416214,36.790892],[110.425453,36.960325],[110.382953,37.021975],[110.444547,37.007164],[110.53509,37.137969],[110.690307,37.287115],[110.695234,37.34945],[110.630561,37.373228],[110.644111,37.435017],[110.745125,37.450693],[110.795017,37.566029],[110.796248,37.66319],[110.706321,37.705332],[110.758676,37.744139],[110.663821,37.803256],[110.59422,37.921821],[110.522771,37.954853],[110.501213,38.031713],[110.509221,38.192245],[110.565887,38.215283],[110.57759,38.297035],[110.661358,38.308773],[110.746973,38.366029],[110.77777,38.44105],[110.874473,38.453702],[110.920052,38.581973],[110.880016,38.618446],[111.009363,38.847614],[110.980414,38.970063],[111.138711,39.064897],[111.163348,39.152644],[111.247732,39.302351],[111.125776,39.366678],[111.171971,39.42355],[111.337043,39.420777],[111.418963,39.500232],[111.462079,39.626157],[111.502115,39.663015],[111.646245,39.644128],[111.783599,39.588819],[111.842729,39.620166],[111.93204,39.61233],[111.970229,39.79646],[112.28559,40.197985],[112.310227,40.256457],[112.456205,40.300278],[112.6299,40.235906],[112.72845,40.168272],[112.844863,40.203926],[112.892906,40.326284],[113.251382,40.413352],[113.316056,40.319898],[113.559968,40.348631],[113.794641,40.518049],[113.855619,40.457071],[113.948626,40.514865],[114.061959,40.528964],[114.041633,40.608503],[114.074277,40.723325],[114.134639,40.737381],[114.209168,40.629848],[114.283081,40.590785],[114.267066,40.474369],[114.31203,40.372795],[114.446305,40.372795],[114.530688,40.344983],[114.46971,40.267872],[114.255364,40.236363],[114.235654,40.198442],[114.073046,40.168729],[114.073046,40.168729],[114.101995,40.099655],[114.044712,40.05662],[113.989278,40.112469],[113.956017,40.031428],[113.910438,40.011725],[114.021307,39.992017],[114.047176,39.916339],[114.17406,39.897521],[114.225183,39.857114],[114.395182,39.867218],[114.408117,39.65196],[114.568877,39.574062],[114.470942,39.408759],[114.480797,39.350023],[114.416124,39.243063],[114.47587,39.216181],[114.388406,39.176767],[114.345907,39.075116],[114.10877,39.052352],[114.050872,39.135939],[113.898119,39.067684],[113.76754,38.959828],[113.776163,38.885814],[113.855619,38.828972],[113.839605,38.758554],[113.720728,38.713283],[113.70225,38.65163],[113.612939,38.646022],[113.561816,38.558115],[113.583374,38.459793],[113.525475,38.382916],[113.570439,38.237375],[113.711489,38.213873],[113.720728,38.174843],[113.825438,38.169199],[113.810039,38.112729],[113.876561,38.055273],[113.872249,37.990228],[113.951706,37.917573],[113.976959,37.816965],[114.044712,37.762116],[113.993589,37.706752],[114.12848,37.698231],[114.123553,37.60159],[114.036705,37.49438],[114.014531,37.424564],[113.90243,37.309962],[113.832213,37.167536],[113.773083,37.1518],[113.758301,37.075459],[113.791561,36.987572],[113.76138,36.956022],[113.773083,36.855072],[113.696707,36.882356],[113.680692,36.789933],[113.499606,36.740564],[113.476816,36.655171],[113.588301,36.562955],[113.554425,36.494682],[113.708409,36.423461],[113.731199,36.363257]]]]}},{type:"Feature",properties:{adcode:15e4,name:"\u5185\u8499\u53E4\u81EA\u6CBB\u533A",center:[111.670801,40.818311],centroid:[114.059024,44.315561],childrenNum:12,level:"province",subFeatureIndex:4,acroutes:[1e5],parent:{adcode:1e5}},geometry:{type:"MultiPolygon",coordinates:[[[[123.703873,43.370824],[123.664453,43.264606],[123.666916,43.179585],[123.572678,43.0035],[123.515395,43.027561],[123.515395,43.027561],[123.474743,43.04243],[123.259165,42.992997],[123.18402,42.926002],[123.169853,42.859811],[123.227752,42.831735],[123.058368,42.768957],[122.887137,42.770275],[122.831087,42.722381],[122.786123,42.756218],[122.786123,42.756218],[122.732536,42.786524],[122.624747,42.773349],[122.563769,42.826031],[122.436886,42.843142],[122.35127,42.830419],[122.374676,42.774667],[122.457212,42.774227],[122.395002,42.683687],[122.338951,42.670051],[122.203445,42.731171],[122.20406,42.683687],[122.071634,42.711391],[121.940438,42.688525],[121.904714,42.569666],[121.66573,42.437333],[121.604752,42.494271],[121.388557,42.475297],[121.304789,42.435567],[121.304789,42.435567],[121.285079,42.387857],[121.068884,42.252483],[120.933378,42.279493],[120.79048,42.218372],[120.745516,42.223689],[120.624792,42.154532],[120.58414,42.167394],[120.466496,42.105277],[120.456641,42.016433],[120.373489,41.994648],[120.188707,41.848179],[120.096316,41.696907],[120.035954,41.708075],[120.051968,41.775935],[119.989759,41.898969],[119.837622,42.135455],[119.846861,42.21527],[119.744615,42.211725],[119.541971,42.292329],[119.572152,42.359568],[119.502551,42.387857],[119.415703,42.309588],[119.284508,42.265325],[119.237697,42.201088],[119.315921,42.119037],[119.384906,42.089738],[119.324544,41.969296],[119.334399,41.869569],[119.294363,41.775935],[119.307914,41.657581],[119.415703,41.590044],[119.361501,41.56498],[119.405848,41.508548],[119.376283,41.422015],[119.30545,41.402271],[119.326392,41.329525],[119.239545,41.314696],[119.197661,41.282781],[118.96422,41.309303],[118.890923,41.300764],[118.843496,41.374439],[118.741866,41.324133],[118.677192,41.350639],[118.519511,41.353783],[118.35136,41.337163],[118.348896,41.428296],[118.271904,41.471349],[118.307012,41.569008],[118.230636,41.581989],[118.214006,41.641933],[118.130854,41.74246],[118.165962,41.813405],[118.29223,41.772811],[118.340273,41.872688],[118.268824,41.930136],[118.313788,41.987977],[118.237411,42.023101],[118.297157,42.048876],[118.212774,42.081301],[118.194296,42.031545],[118.119767,42.034656],[118.155491,42.081301],[118.097593,42.105277],[118.109296,42.165176],[117.977485,42.229892],[118.060021,42.298083],[118.019369,42.39537],[117.874007,42.510151],[117.779768,42.618558],[117.687377,42.582884],[117.516146,42.599622],[117.516146,42.599622],[117.43669,42.584205],[117.387415,42.517648],[117.387415,42.517648],[117.412669,42.472649],[117.264227,42.476621],[117.264227,42.476621],[117.147815,42.470443],[117.147815,42.470443],[117.133648,42.470443],[117.133648,42.470443],[117.005533,42.4338],[117.005533,42.4338],[117.004301,42.432476],[117.004301,42.432476],[117.001837,42.432476],[117.001837,42.432476],[116.995678,42.426734],[116.995678,42.426734],[116.993214,42.425851],[116.993214,42.425851],[116.984591,42.427176],[116.984591,42.427176],[116.976583,42.427618],[116.976583,42.427618],[116.944555,42.415251],[116.944555,42.415251],[116.936547,42.410833],[116.936547,42.410833],[116.929156,42.408182],[116.929156,42.407741],[116.929156,42.408182],[116.929156,42.407741],[116.927308,42.40509],[116.927308,42.40509],[116.910062,42.394928],[116.910062,42.394928],[116.886656,42.366641],[116.907598,42.191337],[116.789338,42.200202],[116.890352,42.092846],[116.879881,42.018211],[116.727744,41.951054],[116.560209,41.928356],[116.510933,41.974189],[116.386514,41.952389],[116.409303,41.994203],[116.310137,41.997316],[116.233145,41.941263],[116.194341,41.861995],[116.122892,41.861995],[116.09887,41.776381],[116.016334,41.777273],[115.916552,41.945269],[115.811226,41.912328],[115.654162,41.829011],[115.319091,41.691546],[115.376989,41.602126],[115.252569,41.579303],[115.0992,41.624045],[114.862064,41.603915],[114.895325,41.636567],[114.899636,41.756299],[114.866991,41.803147],[114.922426,41.824999],[114.9021,42.015544],[114.828803,42.147434],[114.765361,42.118593],[114.510978,42.111047],[114.466015,42.038656],[114.510978,41.973299],[114.34837,41.947049],[114.203009,41.793334],[114.230726,41.513477],[114.100147,41.537218],[113.930764,41.485693],[113.871017,41.41349],[113.94493,41.39105],[113.927068,41.326829],[113.996669,41.192345],[113.920293,41.172081],[113.819279,41.097726],[113.973263,40.983099],[114.073661,40.857412],[114.044712,40.83116],[114.134639,40.737381],[114.074277,40.723325],[114.041633,40.608503],[114.061959,40.528964],[113.948626,40.514865],[113.855619,40.457071],[113.794641,40.518049],[113.559968,40.348631],[113.316056,40.319898],[113.251382,40.413352],[112.892906,40.326284],[112.844863,40.203926],[112.72845,40.168272],[112.6299,40.235906],[112.456205,40.300278],[112.310227,40.256457],[112.28559,40.197985],[111.970229,39.79646],[111.93204,39.61233],[111.842729,39.620166],[111.783599,39.588819],[111.646245,39.644128],[111.502115,39.663015],[111.462079,39.626157],[111.418963,39.500232],[111.337043,39.420777],[111.171971,39.42355],[111.125776,39.366678],[111.064182,39.400899],[111.148566,39.531619],[111.134399,39.586513],[110.892335,39.509927],[110.740198,39.351874],[110.702626,39.27364],[110.604075,39.277345],[110.528315,39.380091],[110.434692,39.381016],[110.39096,39.31161],[110.243751,39.42355],[110.146432,39.455434],[110.217881,39.28105],[109.961035,39.191608],[109.665384,38.981691],[109.683862,38.935631],[109.624116,38.854603],[109.549587,38.805662],[109.511399,38.833633],[109.404226,38.720752],[109.338936,38.70161],[109.367269,38.627328],[109.276726,38.623121],[109.178792,38.520675],[109.051908,38.432146],[108.938575,38.207291],[108.963829,38.155085],[109.069155,38.091071],[109.017416,37.969949],[108.938575,37.920877],[108.871438,38.027471],[108.797525,38.047735],[108.82709,37.989285],[108.798141,37.93362],[108.799989,37.783871],[108.777815,37.683554],[108.611512,37.65419],[108.532671,37.690656],[108.440896,37.654663],[108.304158,37.638556],[108.219158,37.661295],[108.134159,37.621971],[108.025137,37.649926],[107.982022,37.787181],[107.65003,37.864688],[107.49235,37.944945],[107.419669,37.940699],[107.438147,37.992586],[107.329742,38.087774],[107.19054,38.154144],[107.014997,38.120261],[106.768621,38.174843],[106.546883,38.269794],[106.482825,38.319571],[106.601702,38.392295],[106.647897,38.470569],[106.66268,38.601614],[106.709491,38.718885],[106.954019,38.941215],[106.96757,39.054676],[106.859164,39.107623],[106.795723,39.214327],[106.806809,39.318554],[106.751375,39.381478],[106.683622,39.357426],[106.602318,39.375466],[106.506231,39.269934],[106.402753,39.291701],[106.284493,39.270397],[106.283877,39.14522],[106.145907,39.153108],[106.096631,39.08487],[106.060907,38.968667],[105.97098,38.909097],[106.003625,38.874636],[105.897683,38.788875],[105.90569,38.731488],[105.852719,38.641349],[105.874277,38.593197],[105.821307,38.366967],[105.86627,38.296565],[105.775111,38.186601],[105.780655,38.084949],[105.840401,38.003902],[105.799749,37.940227],[105.80406,37.861854],[105.760944,37.799947],[105.622974,37.778669],[105.598952,37.699178],[105.315004,37.702018],[105.111128,37.633818],[105.024281,37.579781],[104.866601,37.566503],[104.801311,37.538516],[104.419429,37.511943],[104.407726,37.464467],[104.287002,37.42789],[104.183524,37.406981],[103.948235,37.564606],[103.676606,37.783871],[103.401897,37.861854],[103.362477,38.037368],[103.369868,38.089658],[103.53494,38.156497],[103.507838,38.281068],[103.416063,38.404956],[103.85954,38.64462],[104.044322,38.895128],[104.168125,38.940285],[104.207546,39.083941],[104.177364,39.15218],[104.047401,39.297721],[104.091133,39.418466],[103.964865,39.455434],[103.839214,39.460516],[103.595302,39.386565],[103.344615,39.331514],[103.007696,39.09973],[102.601792,39.172129],[102.45335,39.25511],[102.280887,39.190217],[101.830636,39.093229],[101.926106,39.000758],[102.075164,38.891403],[101.941505,38.808926],[101.777049,38.660507],[101.679115,38.690869],[101.601506,38.6549],[101.562702,38.712816],[101.307087,38.802865],[101.334189,38.848545],[101.24303,38.86066],[101.198682,38.943077],[101.228863,39.02075],[101.117378,38.97518],[100.969553,38.9468],[100.961545,39.005873],[100.835278,39.025863],[100.864227,39.106695],[100.842669,39.199955],[100.842053,39.405523],[100.619699,39.38749],[100.498975,39.400437],[100.500823,39.4813],[100.326512,39.509003],[100.314193,39.606799],[100.250135,39.68512],[100.128179,39.702155],[100.040716,39.756913],[99.904593,39.785886],[99.822058,39.85987],[99.672384,39.887881],[99.488218,39.875943],[99.927383,40.063947],[100.002528,40.197528],[100.169447,40.277458],[100.169447,40.541242],[100.242744,40.618495],[100.237201,40.716977],[100.107853,40.875511],[100.057346,40.908077],[99.673,40.932943],[99.565827,40.846551],[99.174705,40.858317],[99.172858,40.747354],[99.102025,40.676603],[99.041662,40.693844],[98.984996,40.782701],[98.790975,40.705185],[98.801446,40.609411],[98.689345,40.691576],[98.668403,40.772734],[98.569853,40.746901],[98.627751,40.677965],[98.344419,40.568518],[98.333332,40.918929],[98.25018,40.939271],[97.971776,41.097726],[97.629314,41.440407],[97.613915,41.477176],[97.84674,41.656687],[97.307177,42.565259],[97.172903,42.795305],[98.195362,42.653331],[98.546447,42.638368],[99.503001,42.568344],[99.969267,42.648051],[100.272309,42.636167],[100.32528,42.689845],[100.826655,42.67533],[101.23995,42.59698],[101.581796,42.525145],[101.803534,42.503534],[102.070236,42.232107],[102.449039,42.143885],[102.540814,42.162072],[102.712045,42.152757],[103.021862,42.02799],[103.418527,41.882489],[103.868779,41.802701],[104.080046,41.804931],[104.530298,41.874916],[104.524138,41.662051],[104.68613,41.64551],[104.923267,41.654005],[105.009498,41.583331],[105.230621,41.750942],[105.291599,41.750049],[105.74185,41.949274],[106.01348,42.03199],[106.619564,42.243625],[106.785867,42.291444],[107.051337,42.319322],[107.269996,42.363547],[107.303872,42.4126],[107.46648,42.458967],[107.57427,42.413042],[107.939522,42.403764],[108.022058,42.433359],[108.238252,42.460291],[108.298614,42.438216],[108.532671,42.443073],[108.845569,42.395811],[109.026039,42.458525],[109.291509,42.435567],[109.544044,42.472208],[109.683862,42.559089],[109.906216,42.635727],[110.108244,42.642769],[110.139657,42.67489],[110.437156,42.781254],[110.469801,42.839194],[110.631177,42.936078],[110.736502,43.089639],[110.769763,43.099251],[111.02045,43.329926],[111.183674,43.396045],[111.354289,43.436029],[111.456535,43.49422],[111.564325,43.490314],[111.79407,43.67192],[111.951135,43.693122],[111.959758,43.8232],[111.870447,43.940071],[111.773128,44.010686],[111.662875,44.061012],[111.559397,44.171408],[111.507042,44.294019],[111.415883,44.357368],[111.478709,44.488982],[111.569868,44.576418],[111.560629,44.647124],[111.624687,44.778509],[111.764505,44.969314],[111.889541,45.045459],[112.002874,45.090675],[112.113743,45.072931],[112.438959,45.071663],[112.540589,45.001054],[112.599719,44.93078],[112.850406,44.840484],[112.937869,44.84006],[113.11526,44.799741],[113.503918,44.77766],[113.631417,44.745372],[113.907358,44.915105],[114.065038,44.931204],[114.19069,45.036581],[114.347139,45.119392],[114.519602,45.283812],[114.551014,45.387699],[114.745035,45.438521],[114.974165,45.377193],[115.153403,45.395682],[115.36467,45.392321],[115.699741,45.459509],[115.936878,45.632987],[116.035428,45.68526],[116.17463,45.688604],[116.286731,45.775056],[116.288579,45.838869],[116.243,45.875956],[116.271949,45.966692],[116.414231,46.13404],[116.439484,46.137771],[116.585462,46.292199],[116.745606,46.327743],[116.826294,46.380602],[117.097308,46.35707],[117.372017,46.360373],[117.392343,46.463093],[117.447777,46.528172],[117.42006,46.582071],[117.49582,46.600574],[117.622704,46.596052],[117.704008,46.516645],[117.870927,46.549985],[117.914659,46.607973],[118.04647,46.631398],[118.124078,46.678216],[118.192448,46.682731],[118.316252,46.739347],[118.446831,46.704482],[118.586033,46.692992],[118.639004,46.721302],[118.788061,46.687246],[118.845343,46.771731],[118.914329,46.775009],[118.912481,46.733196],[119.011647,46.745498],[119.123132,46.642901],[119.26295,46.649062],[119.374435,46.60304],[119.431718,46.638793],[119.656535,46.625645],[119.677477,46.584539],[119.783419,46.626056],[119.8136,46.668363],[119.911534,46.669595],[119.93494,46.712688],[119.928781,46.903933],[119.859795,46.917013],[119.795122,47.01297],[119.806825,47.054973],[119.716282,47.195829],[119.56784,47.24825],[119.559833,47.303053],[119.487152,47.329419],[119.353493,47.43192],[119.365812,47.477232],[119.152081,47.540685],[119.134219,47.664539],[118.773278,47.771213],[118.568171,47.992315],[118.424041,48.014734],[118.299621,48.005127],[118.231252,48.043943],[117.96147,48.011132],[117.813645,48.016335],[117.493357,47.758343],[117.384335,47.641162],[117.094844,47.823865],[116.879265,47.893718],[116.669846,47.890509],[116.453035,47.837522],[116.26579,47.876866],[116.111189,47.811812],[115.939342,47.683071],[115.580249,47.921793],[115.529126,48.155029],[115.822929,48.2595],[115.799523,48.514993],[115.83032,48.560156],[116.077928,48.822412],[116.048363,48.873598],[116.717889,49.847388],[116.736367,49.847388],[117.068974,49.695524],[117.278394,49.636272],[117.485349,49.633172],[117.809333,49.521049],[117.867848,49.592853],[117.980565,49.621158],[118.084658,49.618057],[118.122231,49.669586],[118.205998,49.684686],[118.225708,49.734211],[118.388316,49.786004],[118.395092,49.819601],[118.49549,49.843144],[118.485635,49.86706],[118.574946,49.931423],[118.741866,49.946441],[118.929111,49.989545],[119.092335,49.986082],[119.163168,50.027613],[119.190269,50.087538],[119.243856,50.078324],[119.360269,50.196441],[119.319001,50.220948],[119.358421,50.358949],[119.259871,50.345205],[119.125596,50.389095],[119.250631,50.448568],[119.28266,50.604899],[119.361501,50.632611],[119.383674,50.682301],[119.450196,50.695569],[119.506862,50.764118],[119.491464,50.879026],[119.633746,51.010218],[119.726137,51.050105],[119.788346,51.16656],[119.760629,51.21231],[119.944795,51.366848],[120.002693,51.459396],[119.985447,51.505227],[120.051968,51.553245],[120.035338,51.586343],[120.087077,51.678076],[120.172693,51.679931],[120.363634,51.789982],[120.398742,51.832153],[120.480046,51.855072],[120.481278,51.885735],[120.656821,51.92634],[120.719031,52.014438],[120.68577,52.036896],[120.747364,52.076996],[120.786784,52.157824],[120.7449,52.206984],[120.755371,52.258287],[120.627256,52.324161],[120.62356,52.361081],[120.688234,52.427531],[120.689466,52.516098],[120.727654,52.529568],[120.467728,52.644076],[120.40367,52.617929],[120.287873,52.623378],[120.196714,52.579043],[120.049505,52.598672],[120.035338,52.646255],[120.071063,52.706113],[120.038418,52.780006],[120.222584,52.842934],[120.350699,52.906131],[120.455409,53.011376],[120.549647,53.076125],[120.643886,53.106667],[120.736277,53.204615],[120.840371,53.24724],[120.882871,53.294472],[121.129246,53.277303],[121.285695,53.291253],[121.347289,53.327003],[121.499426,53.337008],[121.612143,53.260484],[121.679896,53.240437],[121.665114,53.170556],[121.754425,53.146519],[121.817867,53.061744],[121.785838,53.018575],[121.715621,52.998054],[121.66265,52.912626],[121.610295,52.892416],[121.591201,52.824499],[121.476636,52.772043],[121.373158,52.683268],[121.182217,52.599399],[121.325731,52.572498],[121.416274,52.499346],[121.519136,52.456709],[121.63986,52.444311],[121.714389,52.317944],[121.841272,52.282818],[121.94783,52.298555],[122.091344,52.427167],[122.168952,52.513549],[122.207756,52.469103],[122.310618,52.475299],[122.342031,52.41403],[122.484313,52.341711],[122.478153,52.29636],[122.585943,52.266344],[122.76087,52.26671],[122.769493,52.179843],[122.629059,52.136529],[122.683877,51.974649],[122.726377,51.978704],[122.706051,51.890166],[122.771957,51.779619],[122.749167,51.746661],[122.85634,51.606786],[122.854492,51.477659],[122.903768,51.415384],[122.965977,51.387015],[122.978296,51.331346],[123.058984,51.321999],[123.294273,51.25427],[123.465504,51.287212],[123.736517,50.974064],[123.825829,50.813669],[124.076516,50.564249],[123.983509,50.510249],[124.005067,50.434469],[123.920067,50.37307],[123.800575,50.455806],[123.777785,50.344441],[123.870792,50.270307],[123.878799,50.208696],[123.953944,50.186865],[124.007531,50.219417],[124.061733,50.199122],[124.103001,50.238555],[124.189233,50.216737],[124.278544,50.231284],[124.32474,50.178436],[124.368471,50.258068],[124.36416,50.360857],[124.43992,50.388713],[124.499666,50.397868],[124.504594,50.342532],[124.578507,50.294777],[124.619774,50.229753],[124.575427,50.179585],[124.508289,50.162723],[124.604992,50.070644],[124.680752,50.031841],[124.650571,49.99493],[124.66597,49.868217],[124.730644,49.817671],[124.74173,49.761274],[124.824266,49.849703],[124.972708,49.834654],[124.935135,49.866675],[124.977635,49.900601],[125.095896,49.795661],[125.177815,49.829637],[125.222779,49.799137],[125.219699,49.669199],[125.132236,49.671909],[125.234482,49.592077],[125.228323,49.486857],[125.264047,49.461585],[125.261583,49.318656],[125.219699,49.188999],[125.117453,49.126],[124.906802,49.183915],[124.807636,49.108769],[124.808252,49.020563],[124.709086,48.920406],[124.697383,48.841711],[124.653651,48.777089],[124.579122,48.596574],[124.520608,48.556196],[124.555717,48.467805],[124.507674,48.445584],[124.51876,48.378068],[124.579738,48.304095],[124.578507,48.251931],[124.463942,48.097518],[124.467637,48.178972],[124.418978,48.181765],[124.404812,48.264679],[124.317964,48.347856],[124.314269,48.503894],[124.25945,48.536391],[124.25945,48.536391],[124.07898,48.436058],[123.873256,48.281006],[123.746373,48.19772],[123.537569,48.021938],[123.300432,47.953861],[123.228983,47.840735],[123.166158,47.783677],[122.855108,47.677432],[122.763333,47.613338],[122.59395,47.547551],[122.543443,47.495427],[122.507103,47.401555],[122.418407,47.350503],[122.556378,47.17265],[122.679566,47.094092],[122.845869,47.046819],[122.778116,47.00277],[122.796594,46.938261],[122.895144,46.960317],[122.906847,46.807372],[123.026339,46.718841],[123.163694,46.740167],[123.221592,46.850355],[123.309056,46.86222],[123.374345,46.837668],[123.404526,46.935401],[123.52833,46.944797],[123.483366,46.845854],[123.562823,46.825797],[123.576989,46.891259],[123.625648,46.84749],[123.631808,46.728685],[123.603475,46.689299],[123.366338,46.677805],[123.276411,46.660972],[123.228368,46.58824],[123.18094,46.614138],[123.04605,46.617426],[123.002318,46.574257],[123.011557,46.43506],[123.178476,46.247944],[123.102716,46.172172],[123.112571,46.129894],[123.04605,46.10003],[122.792898,46.073056],[122.828623,45.912185],[122.752246,45.834701],[122.792283,45.766291],[122.741775,45.70532],[122.671558,45.700723],[122.640761,45.7713],[122.555146,45.821359],[122.504639,45.787157],[122.496016,45.858041],[122.446125,45.916764],[122.362357,45.917597],[122.372828,45.855957],[122.258879,45.794666],[122.200981,45.85679],[122.091344,45.881787],[122.040221,45.95879],[121.84312,46.02447],[121.762432,45.999538],[121.809243,45.96087],[121.817251,45.875539],[121.754425,45.795084],[121.644172,45.752516],[121.713773,45.701977],[121.811091,45.686932],[121.867142,45.719942],[121.949062,45.711169],[122.003264,45.623363],[121.966308,45.596157],[122.02359,45.490137],[122.163408,45.443979],[122.147394,45.295598],[122.239169,45.276234],[122.22993,45.20672],[122.143082,45.183108],[122.109822,45.142186],[122.119677,45.068705],[122.074713,45.006553],[122.079025,44.914258],[122.04946,44.912987],[122.114749,44.776386],[122.161561,44.728371],[122.103046,44.673935],[122.13138,44.577697],[122.196053,44.559794],[122.228082,44.480017],[122.28598,44.477883],[122.291524,44.310291],[122.271198,44.255463],[122.319241,44.232745],[122.483697,44.237032],[122.676486,44.28631],[122.76087,44.369772],[122.85634,44.398422],[123.025108,44.492823],[123.125506,44.509466],[123.128585,44.366778],[123.196955,44.34496],[123.323838,44.179991],[123.386664,44.161966],[123.32815,44.083795],[123.332461,44.028326],[123.400831,43.979264],[123.52525,43.695718],[123.5117,43.59267],[123.439019,43.577501],[123.439019,43.577501],[123.304744,43.551055],[123.315831,43.49205],[123.382968,43.46904],[123.419925,43.409955],[123.486446,43.445587],[123.608402,43.366474],[123.703873,43.370824]]],[[[124.076516,50.564249],[123.825829,50.813669],[123.736517,50.974064],[123.465504,51.287212],[123.661989,51.319008],[123.711264,51.398216],[123.842459,51.367595],[123.926227,51.300681],[124.071588,51.320878],[124.128255,51.347419],[124.239124,51.344429],[124.271769,51.308162],[124.406659,51.271867],[124.43684,51.353772],[124.490427,51.380294],[124.58713,51.363486],[124.62655,51.327608],[124.693687,51.332842],[124.783614,51.392243],[124.864302,51.379547],[124.942527,51.447465],[124.928976,51.498523],[125.047236,51.529801],[125.098975,51.658408],[125.130388,51.635389],[125.35151,51.623876],[125.567089,51.455668],[125.567089,51.455668],[125.595422,51.416877],[125.595422,51.416877],[125.597886,51.414638],[125.597886,51.414638],[125.600966,51.413518],[125.600966,51.413518],[125.623756,51.387762],[125.623756,51.387762],[125.63977,51.372451],[125.63977,51.372451],[125.668103,51.347419],[125.668103,51.347419],[125.670567,51.34555],[125.670567,51.34555],[125.743248,51.275984],[125.743248,51.275984],[125.756798,51.227675],[125.840566,51.220555],[125.878138,51.159431],[126.059225,51.043711],[126.033971,51.010971],[126.073391,50.963514],[125.890457,50.805729],[125.758646,50.746706],[125.825784,50.703906],[125.787595,50.677373],[125.829479,50.561589],[125.740784,50.523184],[125.632379,50.443996],[125.590495,50.452378],[125.519662,50.315795],[125.466075,50.297452],[125.448829,50.216354],[125.334264,50.165023],[125.258504,50.103659],[125.294228,50.029151],[125.231402,49.957606],[125.239409,49.844687],[125.177815,49.829637],[125.095896,49.795661],[124.977635,49.900601],[124.935135,49.866675],[124.972708,49.834654],[124.824266,49.849703],[124.74173,49.761274],[124.730644,49.817671],[124.66597,49.868217],[124.650571,49.99493],[124.680752,50.031841],[124.604992,50.070644],[124.508289,50.162723],[124.575427,50.179585],[124.619774,50.229753],[124.578507,50.294777],[124.504594,50.342532],[124.499666,50.397868],[124.43992,50.388713],[124.43992,50.539919],[124.322892,50.532693],[124.289015,50.553226],[124.076516,50.564249]]]]}},{type:"Feature",properties:{adcode:21e4,name:"\u8FBD\u5B81\u7701",center:[123.429096,41.796767],centroid:[122.606135,41.300702],childrenNum:14,level:"province",subFeatureIndex:5,acroutes:[1e5],parent:{adcode:1e5}},geometry:{type:"MultiPolygon",coordinates:[[[[119.239545,41.314696],[119.326392,41.329525],[119.30545,41.402271],[119.376283,41.422015],[119.405848,41.508548],[119.361501,41.56498],[119.415703,41.590044],[119.307914,41.657581],[119.294363,41.775935],[119.334399,41.869569],[119.324544,41.969296],[119.384906,42.089738],[119.315921,42.119037],[119.237697,42.201088],[119.284508,42.265325],[119.415703,42.309588],[119.502551,42.387857],[119.572152,42.359568],[119.541971,42.292329],[119.744615,42.211725],[119.846861,42.21527],[119.837622,42.135455],[119.989759,41.898969],[120.051968,41.775935],[120.035954,41.708075],[120.096316,41.696907],[120.188707,41.848179],[120.373489,41.994648],[120.456641,42.016433],[120.466496,42.105277],[120.58414,42.167394],[120.624792,42.154532],[120.745516,42.223689],[120.79048,42.218372],[120.933378,42.279493],[121.068884,42.252483],[121.285079,42.387857],[121.304789,42.435567],[121.304789,42.435567],[121.388557,42.475297],[121.604752,42.494271],[121.66573,42.437333],[121.904714,42.569666],[121.940438,42.688525],[122.071634,42.711391],[122.20406,42.683687],[122.203445,42.731171],[122.338951,42.670051],[122.395002,42.683687],[122.457212,42.774227],[122.374676,42.774667],[122.35127,42.830419],[122.436886,42.843142],[122.563769,42.826031],[122.624747,42.773349],[122.732536,42.786524],[122.786123,42.756218],[122.786123,42.756218],[122.831087,42.722381],[122.887137,42.770275],[123.058368,42.768957],[123.227752,42.831735],[123.169853,42.859811],[123.18402,42.926002],[123.259165,42.992997],[123.474743,43.04243],[123.515395,43.027561],[123.515395,43.027561],[123.572678,43.0035],[123.666916,43.179585],[123.664453,43.264606],[123.703873,43.370824],[123.710032,43.417344],[123.791952,43.491182],[123.87264,43.451234],[123.84985,43.415606],[123.896046,43.361689],[124.032784,43.280724],[124.098074,43.29292],[124.114704,43.247175],[124.226805,43.241945],[124.226805,43.241945],[124.282856,43.230176],[124.284088,43.166058],[124.425754,43.076092],[124.333363,42.997373],[124.422674,42.975927],[124.431913,42.930821],[124.369087,42.882613],[124.435609,42.88086],[124.454703,42.823836],[124.514449,42.873406],[124.514449,42.873406],[124.539086,42.867266],[124.659195,42.972862],[124.686912,43.051176],[124.785462,43.117161],[124.896331,43.129826],[124.840897,43.032372],[124.869846,42.988183],[124.859375,42.822959],[124.897563,42.787841],[124.975171,42.802768],[124.996113,42.745234],[124.996113,42.745234],[124.968396,42.72282],[125.038613,42.615476],[125.097127,42.62252],[125.068794,42.499564],[125.186439,42.428059],[125.175352,42.308261],[125.29854,42.290116],[125.305931,42.146103],[125.353358,42.178923],[125.490097,42.136343],[125.369989,42.003096],[125.291764,41.958618],[125.299156,41.872243],[125.299156,41.872243],[125.297308,41.861995],[125.297308,41.861995],[125.29238,41.83971],[125.29238,41.83971],[125.29238,41.83971],[125.319482,41.777273],[125.319482,41.777273],[125.323793,41.771026],[125.323793,41.771026],[125.325025,41.670097],[125.450677,41.674119],[125.450061,41.598099],[125.534444,41.478073],[125.547995,41.401373],[125.637306,41.34435],[125.646545,41.264344],[125.758646,41.232404],[125.737088,41.179737],[125.791291,41.167577],[125.712451,41.095471],[125.726617,41.055328],[125.674879,40.974516],[125.589263,40.931135],[125.707523,40.866915],[125.544915,40.72922],[125.49564,40.728767],[125.422343,40.635297],[125.279445,40.655273],[125.018287,40.53624],[124.985642,40.475279],[124.897563,40.47892],[124.851368,40.427017],[124.74481,40.375074],[124.718325,40.319441],[124.62039,40.290695],[124.388797,40.113384],[124.38079,40.108808],[124.336442,40.049751],[124.372167,40.021348],[124.239124,39.927352],[124.173218,39.841496],[124.144885,39.745413],[124.103001,39.823577],[124.002603,39.800137],[123.828908,39.831389],[123.697097,39.807032],[123.665684,39.831389],[123.612714,39.77485],[123.536337,39.788644],[123.392823,39.723787],[123.383584,39.766572],[123.274563,39.753693],[123.253005,39.689724],[123.010941,39.655184],[122.972753,39.594813],[122.85634,39.606799],[122.808913,39.559764],[122.581631,39.464211],[122.489856,39.403673],[122.412864,39.411995],[122.274893,39.322257],[122.242865,39.267618],[122.117213,39.213863],[122.167104,39.158676],[122.048228,39.101123],[121.963228,39.030046],[121.864062,39.037018],[121.920728,38.969598],[121.863446,38.942611],[121.790149,39.022609],[121.671273,39.010057],[121.655874,38.9468],[121.719316,38.92027],[121.708845,38.872772],[121.565331,38.875101],[121.509897,38.817784],[121.359608,38.822446],[121.259825,38.786543],[121.198848,38.721686],[121.13479,38.72402],[121.128014,38.958897],[121.204391,38.941215],[121.341129,38.980761],[121.370695,39.060251],[121.508049,39.034229],[121.68236,39.117837],[121.604136,39.166098],[121.598592,39.279198],[121.668193,39.276419],[121.723628,39.367603],[121.621382,39.32596],[121.474788,39.296332],[121.432904,39.357426],[121.246891,39.421702],[121.304173,39.481762],[121.224717,39.51962],[121.297398,39.605877],[121.450151,39.625235],[121.501274,39.706758],[121.45939,39.747713],[121.530223,39.851603],[121.626925,39.882831],[121.699606,39.937445],[121.76428,39.933316],[121.82341,40.036467],[121.884388,40.053415],[122.01004,40.149067],[121.940438,40.2423],[122.02667,40.245041],[122.040221,40.322178],[122.198517,40.382367],[122.245944,40.519868],[122.133843,40.614408],[122.148626,40.671612],[122.06609,40.648464],[121.951525,40.680687],[121.934279,40.798103],[121.852359,40.821199],[121.816019,40.894962],[121.682976,40.829802],[121.526527,40.851529],[121.499426,40.880035],[121.335586,40.900842],[121.23642,40.851077],[121.126167,40.869177],[121.086747,40.798103],[120.991276,40.744181],[121.033776,40.70972],[120.8299,40.671158],[120.822509,40.593966],[120.72827,40.539423],[120.674683,40.471183],[120.616169,40.457071],[120.599539,40.355471],[120.537329,40.325372],[120.523778,40.256914],[120.465264,40.178787],[120.371641,40.174673],[120.273091,40.127111],[119.955882,40.046544],[119.913998,39.988349],[119.854252,39.988349],[119.845629,40.000726],[119.845629,40.000726],[119.848093,40.020432],[119.848093,40.020432],[119.817296,40.049751],[119.817296,40.049751],[119.780339,40.047002],[119.780339,40.047002],[119.779723,40.049293],[119.779723,40.049293],[119.736608,40.10469],[119.745847,40.208038],[119.625123,40.224029],[119.642369,40.291151],[119.586934,40.37553],[119.598637,40.465266],[119.571536,40.540333],[119.30237,40.530329],[119.162552,40.599872],[119.184726,40.680233],[119.054147,40.664804],[118.911249,40.776811],[118.849039,40.800821],[118.90201,40.960963],[118.977154,40.959155],[118.977154,40.959155],[119.013495,41.007485],[118.951901,41.01832],[118.96422,41.079236],[119.037516,41.067509],[119.126212,41.138744],[119.2494,41.279634],[119.239545,41.314696]]],[[[122.969057,39.513158],[122.978912,39.561609],[123.036194,39.533004],[122.969057,39.513158]]]]}},{type:"Feature",properties:{adcode:22e4,name:"\u5409\u6797\u7701",center:[125.3245,43.886841],centroid:[126.171246,43.703944],childrenNum:9,level:"province",subFeatureIndex:6,acroutes:[1e5],parent:{adcode:1e5}},geometry:{type:"MultiPolygon",coordinates:[[[[125.707523,40.866915],[125.589263,40.931135],[125.674879,40.974516],[125.726617,41.055328],[125.712451,41.095471],[125.791291,41.167577],[125.737088,41.179737],[125.758646,41.232404],[125.646545,41.264344],[125.637306,41.34435],[125.547995,41.401373],[125.534444,41.478073],[125.450061,41.598099],[125.450677,41.674119],[125.325025,41.670097],[125.323793,41.771026],[125.323793,41.771026],[125.319482,41.777273],[125.319482,41.777273],[125.29238,41.83971],[125.29238,41.83971],[125.29238,41.83971],[125.297308,41.861995],[125.297308,41.861995],[125.299156,41.872243],[125.299156,41.872243],[125.291764,41.958618],[125.369989,42.003096],[125.490097,42.136343],[125.353358,42.178923],[125.305931,42.146103],[125.29854,42.290116],[125.175352,42.308261],[125.186439,42.428059],[125.068794,42.499564],[125.097127,42.62252],[125.038613,42.615476],[124.968396,42.72282],[124.996113,42.745234],[124.996113,42.745234],[124.975171,42.802768],[124.897563,42.787841],[124.859375,42.822959],[124.869846,42.988183],[124.840897,43.032372],[124.896331,43.129826],[124.785462,43.117161],[124.686912,43.051176],[124.659195,42.972862],[124.539086,42.867266],[124.514449,42.873406],[124.514449,42.873406],[124.454703,42.823836],[124.435609,42.88086],[124.369087,42.882613],[124.431913,42.930821],[124.422674,42.975927],[124.333363,42.997373],[124.425754,43.076092],[124.284088,43.166058],[124.282856,43.230176],[124.226805,43.241945],[124.226805,43.241945],[124.114704,43.247175],[124.098074,43.29292],[124.032784,43.280724],[123.896046,43.361689],[123.84985,43.415606],[123.87264,43.451234],[123.791952,43.491182],[123.710032,43.417344],[123.703873,43.370824],[123.608402,43.366474],[123.486446,43.445587],[123.419925,43.409955],[123.382968,43.46904],[123.315831,43.49205],[123.304744,43.551055],[123.439019,43.577501],[123.439019,43.577501],[123.5117,43.59267],[123.52525,43.695718],[123.400831,43.979264],[123.332461,44.028326],[123.32815,44.083795],[123.386664,44.161966],[123.323838,44.179991],[123.196955,44.34496],[123.128585,44.366778],[123.125506,44.509466],[123.025108,44.492823],[122.85634,44.398422],[122.76087,44.369772],[122.676486,44.28631],[122.483697,44.237032],[122.319241,44.232745],[122.271198,44.255463],[122.291524,44.310291],[122.28598,44.477883],[122.228082,44.480017],[122.196053,44.559794],[122.13138,44.577697],[122.103046,44.673935],[122.161561,44.728371],[122.114749,44.776386],[122.04946,44.912987],[122.079025,44.914258],[122.074713,45.006553],[122.119677,45.068705],[122.109822,45.142186],[122.143082,45.183108],[122.22993,45.20672],[122.239169,45.276234],[122.147394,45.295598],[122.163408,45.443979],[122.02359,45.490137],[121.966308,45.596157],[122.003264,45.623363],[121.949062,45.711169],[121.867142,45.719942],[121.811091,45.686932],[121.713773,45.701977],[121.644172,45.752516],[121.754425,45.795084],[121.817251,45.875539],[121.809243,45.96087],[121.762432,45.999538],[121.84312,46.02447],[122.040221,45.95879],[122.091344,45.881787],[122.200981,45.85679],[122.258879,45.794666],[122.372828,45.855957],[122.362357,45.917597],[122.446125,45.916764],[122.496016,45.858041],[122.504639,45.787157],[122.555146,45.821359],[122.640761,45.7713],[122.671558,45.700723],[122.741775,45.70532],[122.792283,45.766291],[122.752246,45.834701],[122.828623,45.912185],[122.792898,46.073056],[123.04605,46.10003],[123.112571,46.129894],[123.102716,46.172172],[123.178476,46.247944],[123.248078,46.273178],[123.319527,46.253736],[123.319527,46.253736],[123.373113,46.223112],[123.498765,46.259528],[123.565902,46.22601],[123.610866,46.252909],[123.779633,46.264078],[123.896046,46.303774],[123.982893,46.22601],[123.99398,46.101275],[124.040176,46.019484],[123.970574,45.971267],[123.996444,45.907189],[124.061118,45.886369],[124.064813,45.797586],[124.009379,45.78215],[124.13811,45.68735],[124.129487,45.637589],[124.273001,45.584014],[124.287783,45.539191],[124.354305,45.546734],[124.398652,45.44062],[124.480572,45.456151],[124.544014,45.412066],[124.625318,45.437262],[124.886476,45.442719],[124.923433,45.541286],[124.961005,45.49517],[125.025678,45.493492],[125.06941,45.384757],[125.248649,45.417526],[125.347815,45.395262],[125.398322,45.416686],[125.424807,45.485523],[125.497488,45.469161],[125.628067,45.522006],[125.687813,45.51404],[125.716146,45.421725],[125.697052,45.349447],[125.760494,45.291389],[125.915095,45.196602],[126.166398,45.133323],[126.321615,45.178891],[126.428172,45.2358],[126.567375,45.252651],[126.831613,45.146406],[126.96404,45.132056],[126.968351,45.074621],[127.085995,44.944757],[127.021938,44.899002],[126.984366,44.823936],[127.037336,44.72157],[127.049039,44.567041],[127.094003,44.615189],[127.182082,44.644144],[127.392733,44.632223],[127.557189,44.575566],[127.536247,44.522266],[127.463566,44.484713],[127.50853,44.437312],[127.483892,44.401842],[127.483892,44.401842],[127.623095,44.277743],[127.591066,44.227601],[127.681609,44.167116],[127.724109,44.196723],[127.729036,44.098836],[127.862079,44.063162],[128.059796,44.110007],[128.089977,44.132342],[128.101679,44.290593],[128.049941,44.349239],[128.190375,44.367206],[128.211317,44.431757],[128.373309,44.51416],[128.46262,44.433894],[128.481714,44.375332],[128.450301,44.203157],[128.574721,44.047682],[128.584576,43.990887],[128.644938,43.936193],[128.636315,43.891366],[128.723778,43.894816],[128.760734,43.857724],[128.719467,43.816724],[128.877763,43.540213],[128.949212,43.55409],[129.014501,43.523295],[129.230696,43.59527],[129.211602,43.784336],[129.406855,43.819314],[129.467833,43.874548],[129.742542,43.875841],[129.784426,43.964623],[129.869425,44.005521],[129.869425,44.005521],[129.880512,44.000357],[129.880512,44.000357],[129.98091,44.014128],[130.017251,43.962039],[130.027106,43.851684],[130.079461,43.835285],[130.079461,43.835285],[130.189098,43.940501],[130.260547,43.948256],[130.353554,44.050262],[130.338155,43.949979],[130.338155,43.949979],[130.383119,43.906025],[130.380039,43.783904],[130.423771,43.742853],[130.4133,43.652009],[130.488444,43.655905],[130.823515,43.502901],[130.841378,43.454274],[130.907283,43.434291],[131.026775,43.508542],[131.134565,43.428643],[131.134565,43.428643],[131.294093,43.469909],[131.304564,43.502033],[131.314419,43.392567],[131.275615,43.369084],[131.255289,43.265041],[131.206014,43.23715],[131.218332,43.146853],[131.171521,43.069536],[131.102536,43.021],[131.151195,42.968485],[131.114855,42.915048],[131.034167,42.929069],[131.045869,42.866828],[130.949167,42.876913],[130.890653,42.852793],[130.801957,42.879544],[130.784095,42.842265],[130.666451,42.847968],[130.40714,42.731611],[130.464423,42.688525],[130.586995,42.67621],[130.633806,42.603586],[130.570364,42.557327],[130.558661,42.496035],[130.482285,42.626483],[130.388046,42.603145],[130.242069,42.738643],[130.265474,42.904092],[130.10225,42.922935],[130.144134,42.976365],[129.994461,42.980304],[129.98707,42.977678],[129.939642,43.01225],[129.899606,43.002187],[129.85957,42.966295],[129.858338,42.964544],[129.839244,42.879983],[129.835549,42.866828],[129.821382,42.854109],[129.816454,42.851039],[129.7641,42.716227],[129.764716,42.713149],[129.776418,42.69908],[129.794281,42.684127],[129.741926,42.580681],[129.748701,42.470884],[129.704354,42.427176],[129.612579,42.436892],[129.601492,42.42276],[129.546057,42.361336],[129.452434,42.440866],[129.344029,42.451462],[129.239935,42.36841],[129.231928,42.36001],[129.260261,42.335689],[129.183269,42.262225],[129.215914,42.20818],[129.120443,42.142111],[128.954755,42.083966],[128.930734,42.014211],[128.737945,42.050209],[128.70222,42.020434],[128.60675,42.030212],[128.569177,41.996426],[128.466316,42.020878],[128.090593,42.022656],[128.033926,42.000428],[128.106607,41.950164],[128.112766,41.79378],[128.171897,41.713882],[128.278454,41.658922],[128.317258,41.593177],[128.242114,41.501827],[128.203309,41.411246],[128.113998,41.364561],[127.932296,41.446686],[127.850376,41.422912],[127.636645,41.41349],[127.547334,41.477176],[127.40998,41.463278],[127.294183,41.48659],[127.283096,41.513925],[127.115561,41.540353],[127.179618,41.599888],[127.039184,41.671884],[127.051503,41.744693],[126.943714,41.772365],[126.931395,41.812959],[126.808207,41.748264],[126.798968,41.697354],[126.726903,41.751389],[126.688099,41.674119],[126.608643,41.670543],[126.569838,41.621809],[126.497158,41.406758],[126.539041,41.366806],[126.435564,41.351088],[126.322847,41.231054],[126.293282,41.17073],[126.157775,41.091413],[126.031507,40.927067],[125.959442,40.881845],[125.875059,40.90853],[125.817161,40.866915],[125.785132,40.895867],[125.707523,40.866915]]]]}},{type:"Feature",properties:{adcode:23e4,name:"\u9ED1\u9F99\u6C5F\u7701",center:[126.642464,45.756967],centroid:[127.693002,48.040469],childrenNum:13,level:"province",subFeatureIndex:7,acroutes:[1e5],parent:{adcode:1e5}},geometry:{type:"MultiPolygon",coordinates:[[[[123.319527,46.253736],[123.319527,46.253736],[123.248078,46.273178],[123.178476,46.247944],[123.011557,46.43506],[123.002318,46.574257],[123.04605,46.617426],[123.18094,46.614138],[123.228368,46.58824],[123.276411,46.660972],[123.366338,46.677805],[123.603475,46.689299],[123.631808,46.728685],[123.625648,46.84749],[123.576989,46.891259],[123.562823,46.825797],[123.483366,46.845854],[123.52833,46.944797],[123.404526,46.935401],[123.374345,46.837668],[123.309056,46.86222],[123.221592,46.850355],[123.163694,46.740167],[123.026339,46.718841],[122.906847,46.807372],[122.895144,46.960317],[122.796594,46.938261],[122.778116,47.00277],[122.845869,47.046819],[122.679566,47.094092],[122.556378,47.17265],[122.418407,47.350503],[122.507103,47.401555],[122.543443,47.495427],[122.59395,47.547551],[122.763333,47.613338],[122.855108,47.677432],[123.166158,47.783677],[123.228983,47.840735],[123.300432,47.953861],[123.537569,48.021938],[123.746373,48.19772],[123.873256,48.281006],[124.07898,48.436058],[124.25945,48.536391],[124.25945,48.536391],[124.314269,48.503894],[124.317964,48.347856],[124.404812,48.264679],[124.418978,48.181765],[124.467637,48.178972],[124.463942,48.097518],[124.578507,48.251931],[124.579738,48.304095],[124.51876,48.378068],[124.507674,48.445584],[124.555717,48.467805],[124.520608,48.556196],[124.579122,48.596574],[124.653651,48.777089],[124.697383,48.841711],[124.709086,48.920406],[124.808252,49.020563],[124.807636,49.108769],[124.906802,49.183915],[125.117453,49.126],[125.219699,49.188999],[125.261583,49.318656],[125.264047,49.461585],[125.228323,49.486857],[125.234482,49.592077],[125.132236,49.671909],[125.219699,49.669199],[125.222779,49.799137],[125.177815,49.829637],[125.239409,49.844687],[125.231402,49.957606],[125.294228,50.029151],[125.258504,50.103659],[125.334264,50.165023],[125.448829,50.216354],[125.466075,50.297452],[125.519662,50.315795],[125.590495,50.452378],[125.632379,50.443996],[125.740784,50.523184],[125.829479,50.561589],[125.787595,50.677373],[125.825784,50.703906],[125.758646,50.746706],[125.890457,50.805729],[126.073391,50.963514],[126.033971,51.010971],[126.059225,51.043711],[125.878138,51.159431],[125.840566,51.220555],[125.756798,51.227675],[125.743248,51.275984],[125.743248,51.275984],[125.670567,51.34555],[125.670567,51.34555],[125.668103,51.347419],[125.668103,51.347419],[125.63977,51.372451],[125.63977,51.372451],[125.623756,51.387762],[125.623756,51.387762],[125.600966,51.413518],[125.600966,51.413518],[125.597886,51.414638],[125.597886,51.414638],[125.595422,51.416877],[125.595422,51.416877],[125.567089,51.455668],[125.567089,51.455668],[125.35151,51.623876],[125.130388,51.635389],[125.098975,51.658408],[125.047236,51.529801],[124.928976,51.498523],[124.942527,51.447465],[124.864302,51.379547],[124.783614,51.392243],[124.693687,51.332842],[124.62655,51.327608],[124.58713,51.363486],[124.490427,51.380294],[124.43684,51.353772],[124.406659,51.271867],[124.271769,51.308162],[124.239124,51.344429],[124.128255,51.347419],[124.071588,51.320878],[123.926227,51.300681],[123.842459,51.367595],[123.711264,51.398216],[123.661989,51.319008],[123.465504,51.287212],[123.294273,51.25427],[123.058984,51.321999],[122.978296,51.331346],[122.965977,51.387015],[122.903768,51.415384],[122.854492,51.477659],[122.85634,51.606786],[122.749167,51.746661],[122.771957,51.779619],[122.706051,51.890166],[122.726377,51.978704],[122.683877,51.974649],[122.629059,52.136529],[122.769493,52.179843],[122.76087,52.26671],[122.585943,52.266344],[122.478153,52.29636],[122.484313,52.341711],[122.342031,52.41403],[122.310618,52.475299],[122.207756,52.469103],[122.168952,52.513549],[122.091344,52.427167],[121.94783,52.298555],[121.841272,52.282818],[121.714389,52.317944],[121.63986,52.444311],[121.519136,52.456709],[121.416274,52.499346],[121.325731,52.572498],[121.182217,52.599399],[121.373158,52.683268],[121.476636,52.772043],[121.591201,52.824499],[121.610295,52.892416],[121.66265,52.912626],[121.715621,52.998054],[121.785838,53.018575],[121.817867,53.061744],[121.754425,53.146519],[121.665114,53.170556],[121.679896,53.240437],[121.612143,53.260484],[121.499426,53.337008],[121.596128,53.352368],[121.697758,53.392705],[121.754425,53.389494],[121.875765,53.426587],[122.111054,53.426944],[122.161561,53.468635],[122.227466,53.461868],[122.350038,53.50566],[122.435038,53.444766],[122.608117,53.46543],[122.894528,53.462936],[123.052209,53.506727],[123.137209,53.498186],[123.274563,53.563269],[123.454417,53.536608],[123.510468,53.509218],[123.517243,53.558293],[123.569598,53.505304],[123.58746,53.546919],[123.668764,53.533763],[123.698329,53.498542],[123.865249,53.489644],[124.058038,53.404121],[124.125791,53.348082],[124.239124,53.379501],[124.327819,53.332006],[124.375863,53.259053],[124.435609,53.223962],[124.563108,53.201389],[124.683832,53.206406],[124.734339,53.146519],[124.832889,53.145083],[124.87231,53.099123],[124.887708,53.164458],[124.970244,53.194221],[125.195062,53.198522],[125.315786,53.145083],[125.503647,53.095171],[125.530749,53.050956],[125.613901,53.083313],[125.684118,53.008136],[125.742632,52.993733],[125.737704,52.945087],[125.665023,52.913348],[125.678574,52.860999],[125.772197,52.89783],[125.855349,52.866418],[125.985312,52.758648],[126.058609,52.798098],[126.115275,52.757924],[126.045058,52.738366],[126.061688,52.673473],[125.995783,52.675287],[125.968682,52.630279],[126.030891,52.576135],[126.066616,52.60376],[126.213209,52.5252],[126.205202,52.466187],[126.266796,52.475664],[126.353644,52.389207],[126.327774,52.310628],[126.4331,52.298555],[126.300673,52.220915],[126.34502,52.192315],[126.499005,52.160394],[126.563679,52.119266],[126.514404,52.037264],[126.450962,52.027693],[126.462665,51.948473],[126.510092,51.922281],[126.622809,51.777397],[126.734294,51.711454],[126.741069,51.642073],[126.69549,51.578536],[126.837156,51.536128],[126.784185,51.44821],[126.908605,51.407174],[126.930163,51.359376],[126.837156,51.345177],[126.841468,51.258763],[126.92154,51.259512],[126.887047,51.321999],[126.978822,51.329477],[126.976358,51.291702],[126.899982,51.200689],[126.922772,51.061764],[127.143894,50.91035],[127.236285,50.781524],[127.295415,50.755035],[127.294799,50.663721],[127.370559,50.581349],[127.293567,50.46571],[127.3644,50.43828],[127.332371,50.340623],[127.371791,50.296688],[127.603385,50.23932],[127.58737,50.137802],[127.501755,50.056817],[127.495595,49.994545],[127.543638,49.944131],[127.531936,49.825777],[127.563964,49.793343],[127.660051,49.77905],[127.677913,49.697846],[127.815268,49.594017],[127.897804,49.578889],[128.001281,49.592465],[128.070882,49.55677],[128.185447,49.539301],[128.287077,49.566473],[128.343128,49.545125],[128.389939,49.590138],[128.537764,49.604487],[128.715155,49.56492],[128.744104,49.594792],[128.813089,49.558323],[128.754575,49.506676],[128.792147,49.473251],[128.871604,49.492298],[129.013886,49.457307],[129.055769,49.382188],[129.143849,49.357253],[129.215298,49.398935],[129.320623,49.358422],[129.379138,49.366995],[129.390224,49.432799],[129.448739,49.441359],[129.546057,49.395041],[129.562687,49.299541],[129.604571,49.278858],[129.714209,49.296029],[129.761636,49.257384],[129.753629,49.208547],[129.847867,49.181177],[129.866962,49.114252],[129.913157,49.108377],[129.937179,49.04057],[130.020946,49.020955],[130.059135,48.978954],[130.211272,48.901137],[130.245148,48.866514],[130.471198,48.905464],[130.501995,48.86612],[130.680617,48.881074],[130.689856,48.849586],[130.622103,48.783792],[130.538335,48.612004],[130.605473,48.5942],[130.620871,48.495964],[130.767465,48.507858],[130.740363,48.425339],[130.845073,48.296533],[130.769313,48.23121],[130.765617,48.189344],[130.673842,48.128278],[130.699711,48.044344],[130.891269,47.927006],[130.961486,47.827882],[130.966413,47.732996],[131.029855,47.694752],[131.115471,47.689919],[131.273767,47.739032],[131.456085,47.747079],[131.543548,47.735813],[131.59036,47.660912],[131.695685,47.709248],[131.825649,47.677432],[131.970394,47.671388],[132.000575,47.712066],[132.086191,47.703208],[132.272205,47.718507],[132.371987,47.76518],[132.469305,47.726154],[132.570319,47.720922],[132.599268,47.792521],[132.687348,47.885293],[132.661478,47.944643],[132.723072,47.963076],[132.819159,47.937028],[132.883216,48.002325],[132.992238,48.035142],[133.041513,48.102313],[133.15423,48.137063],[133.302055,48.103112],[133.407997,48.124684],[133.536728,48.117494],[133.59709,48.194928],[133.693177,48.186951],[133.740604,48.25472],[134.0689,48.338311],[134.131109,48.335527],[134.20379,48.38244],[134.350384,48.378466],[134.501905,48.418986],[134.696542,48.407072],[134.820961,48.376081],[134.927519,48.451537],[135.09567,48.437646],[135.082736,48.396346],[134.864077,48.332345],[134.679295,48.256314],[134.67252,48.170593],[134.632484,48.099516],[134.551796,48.032742],[134.607846,47.909362],[134.660201,47.900538],[134.678679,47.819446],[134.772918,47.763572],[134.779694,47.716091],[134.684223,47.631889],[134.685455,47.603253],[134.576434,47.519273],[134.568426,47.478445],[134.493898,47.446894],[134.339297,47.43961],[134.177305,47.32658],[134.156979,47.248656],[134.230276,47.182411],[134.222268,47.105496],[134.142812,47.093277],[134.042414,46.886761],[134.011001,46.637971],[133.919842,46.596052],[133.852089,46.449903],[133.950023,46.394634],[133.876726,46.362438],[133.922922,46.330635],[133.904444,46.25084],[133.83977,46.202825],[133.706111,46.163056],[133.745531,46.075547],[133.676546,45.942982],[133.616184,45.943398],[133.576148,45.870957],[133.51209,45.886785],[133.470822,45.838035],[133.484373,45.738737],[133.445569,45.70532],[133.491764,45.672301],[133.371656,45.576895],[133.21028,45.516975],[133.141295,45.427605],[133.095715,45.246753],[133.138215,45.178469],[133.103107,45.107147],[132.945426,45.020512],[132.867202,45.061944],[132.394161,45.163706],[132.025829,45.250545],[131.93159,45.288442],[131.917423,45.339354],[131.82996,45.31159],[131.79362,45.211778],[131.721555,45.234536],[131.650722,45.159909],[131.695685,45.132056],[131.632244,45.074621],[131.484418,44.995553],[131.464708,44.963388],[131.355687,44.98963],[131.274999,44.919766],[131.16105,44.948145],[131.090217,44.924426],[131.07913,44.881623],[130.967029,44.854059],[131.016304,44.789551],[131.064348,44.787003],[131.111775,44.71009],[131.310723,44.046392],[131.263912,44.030047],[131.267608,43.938778],[131.211557,43.826221],[131.244818,43.604369],[131.20047,43.531971],[131.304564,43.502033],[131.294093,43.469909],[131.134565,43.428643],[131.134565,43.428643],[131.026775,43.508542],[130.907283,43.434291],[130.841378,43.454274],[130.823515,43.502901],[130.488444,43.655905],[130.4133,43.652009],[130.423771,43.742853],[130.380039,43.783904],[130.383119,43.906025],[130.338155,43.949979],[130.338155,43.949979],[130.353554,44.050262],[130.260547,43.948256],[130.189098,43.940501],[130.079461,43.835285],[130.079461,43.835285],[130.027106,43.851684],[130.017251,43.962039],[129.98091,44.014128],[129.880512,44.000357],[129.880512,44.000357],[129.869425,44.005521],[129.869425,44.005521],[129.784426,43.964623],[129.742542,43.875841],[129.467833,43.874548],[129.406855,43.819314],[129.211602,43.784336],[129.230696,43.59527],[129.014501,43.523295],[128.949212,43.55409],[128.877763,43.540213],[128.719467,43.816724],[128.760734,43.857724],[128.723778,43.894816],[128.636315,43.891366],[128.644938,43.936193],[128.584576,43.990887],[128.574721,44.047682],[128.450301,44.203157],[128.481714,44.375332],[128.46262,44.433894],[128.373309,44.51416],[128.211317,44.431757],[128.190375,44.367206],[128.049941,44.349239],[128.101679,44.290593],[128.089977,44.132342],[128.059796,44.110007],[127.862079,44.063162],[127.729036,44.098836],[127.724109,44.196723],[127.681609,44.167116],[127.591066,44.227601],[127.623095,44.277743],[127.483892,44.401842],[127.483892,44.401842],[127.50853,44.437312],[127.463566,44.484713],[127.536247,44.522266],[127.557189,44.575566],[127.392733,44.632223],[127.182082,44.644144],[127.094003,44.615189],[127.049039,44.567041],[127.037336,44.72157],[126.984366,44.823936],[127.021938,44.899002],[127.085995,44.944757],[126.968351,45.074621],[126.96404,45.132056],[126.831613,45.146406],[126.567375,45.252651],[126.428172,45.2358],[126.321615,45.178891],[126.166398,45.133323],[125.915095,45.196602],[125.760494,45.291389],[125.697052,45.349447],[125.716146,45.421725],[125.687813,45.51404],[125.628067,45.522006],[125.497488,45.469161],[125.424807,45.485523],[125.398322,45.416686],[125.347815,45.395262],[125.248649,45.417526],[125.06941,45.384757],[125.025678,45.493492],[124.961005,45.49517],[124.923433,45.541286],[124.886476,45.442719],[124.625318,45.437262],[124.544014,45.412066],[124.480572,45.456151],[124.398652,45.44062],[124.354305,45.546734],[124.287783,45.539191],[124.273001,45.584014],[124.129487,45.637589],[124.13811,45.68735],[124.009379,45.78215],[124.064813,45.797586],[124.061118,45.886369],[123.996444,45.907189],[123.970574,45.971267],[124.040176,46.019484],[123.99398,46.101275],[123.982893,46.22601],[123.896046,46.303774],[123.779633,46.264078],[123.610866,46.252909],[123.565902,46.22601],[123.498765,46.259528],[123.373113,46.223112],[123.319527,46.253736]]],[[[124.43992,50.388713],[124.36416,50.360857],[124.368471,50.258068],[124.32474,50.178436],[124.278544,50.231284],[124.189233,50.216737],[124.103001,50.238555],[124.061733,50.199122],[124.007531,50.219417],[123.953944,50.186865],[123.878799,50.208696],[123.870792,50.270307],[123.777785,50.344441],[123.800575,50.455806],[123.920067,50.37307],[124.005067,50.434469],[123.983509,50.510249],[124.076516,50.564249],[124.289015,50.553226],[124.322892,50.532693],[124.43992,50.539919],[124.43992,50.388713]]]]}},{type:"Feature",properties:{adcode:31e4,name:"\u4E0A\u6D77\u5E02",center:[121.472644,31.231706],centroid:[121.438732,31.072508],childrenNum:16,level:"province",subFeatureIndex:8,acroutes:[1e5],parent:{adcode:1e5}},geometry:{type:"MultiPolygon",coordinates:[[[[121.970004,30.789217],[121.943518,30.77688],[121.904714,30.814399],[121.601056,30.805149],[121.426129,30.730089],[121.362071,30.679673],[121.274608,30.677615],[121.217942,30.785105],[121.123087,30.778936],[121.097218,30.85704],[120.989428,30.833924],[120.991892,31.00793],[120.901349,31.017673],[120.881023,31.134513],[121.076892,31.158581],[121.063341,31.268088],[121.150188,31.275247],[121.106457,31.364697],[121.173594,31.448956],[121.25613,31.478047],[121.25613,31.478047],[121.302325,31.498966],[121.302325,31.498966],[121.343593,31.512229],[121.520984,31.394835],[121.713773,31.308992],[121.946598,31.065861],[121.990945,30.968434],[121.970004,30.789217]]],[[[121.371926,31.553028],[121.145261,31.753699],[121.200079,31.835066],[121.323267,31.86861],[121.43352,31.768452],[121.715005,31.673788],[121.974931,31.617249],[121.995873,31.493354],[121.890547,31.428537],[121.819098,31.438237],[121.547469,31.531101],[121.434136,31.59024],[121.371926,31.553028]]],[[[121.74149,31.345792],[121.509897,31.482639],[121.742106,31.407091],[121.74149,31.345792]]],[[[121.844352,31.294678],[121.792613,31.377468],[121.914569,31.343236],[121.844352,31.294678]]],[[[121.943518,31.215397],[122.008808,31.221026],[121.995873,31.160629],[121.943518,31.215397]]]]}},{type:"Feature",properties:{adcode:32e4,name:"\u6C5F\u82CF\u7701",center:[118.767413,32.041544],centroid:[119.48196,32.985864],childrenNum:13,level:"province",subFeatureIndex:9,acroutes:[1e5],parent:{adcode:1e5}},geometry:{type:"MultiPolygon",coordinates:[[[[121.974931,31.617249],[121.715005,31.673788],[121.43352,31.768452],[121.323267,31.86861],[121.200079,31.835066],[121.145261,31.753699],[121.371926,31.553028],[121.343593,31.512229],[121.302325,31.498966],[121.302325,31.498966],[121.25613,31.478047],[121.25613,31.478047],[121.173594,31.448956],[121.106457,31.364697],[121.150188,31.275247],[121.063341,31.268088],[121.076892,31.158581],[120.881023,31.134513],[120.901349,31.017673],[120.698089,30.970999],[120.713487,30.885286],[120.589068,30.854472],[120.504684,30.757858],[120.423996,30.900689],[120.35809,30.88734],[120.371025,30.948424],[120.226279,30.926356],[120.13512,30.941752],[120.001461,31.026902],[119.919542,31.170868],[119.678093,31.168308],[119.623891,31.130416],[119.460051,31.156533],[119.388602,31.194415],[119.388602,31.194415],[119.379979,31.269622],[119.267878,31.250698],[119.199508,31.293655],[119.075089,31.232282],[118.781286,31.239956],[118.728931,31.281384],[118.745561,31.37287],[118.853967,31.39841],[118.876756,31.532631],[118.873061,31.53569],[118.858278,31.624382],[118.804691,31.618268],[118.77451,31.682444],[118.736938,31.634061],[118.643931,31.65138],[118.697518,31.709935],[118.638388,31.759295],[118.552772,31.729275],[118.481939,31.778117],[118.504729,31.841674],[118.363679,31.930581],[118.400019,32.077724],[118.499801,32.1203],[118.522591,32.188178],[118.642083,32.208937],[118.69567,32.31721],[118.69259,32.463224],[118.592192,32.481396],[118.563859,32.56363],[118.719076,32.614042],[118.719076,32.614042],[118.92172,32.557074],[118.922336,32.557074],[118.92172,32.557074],[118.922336,32.557074],[118.978386,32.504106],[119.041212,32.515207],[119.084944,32.452622],[119.22045,32.57674],[119.184726,32.825465],[119.104038,32.82647],[118.995017,32.958604],[118.849039,32.956596],[118.811467,32.854622],[118.74125,32.850601],[118.756648,32.737433],[118.707373,32.720319],[118.375382,32.718809],[118.250346,32.84859],[118.2331,32.914414],[118.293462,32.947056],[118.244803,32.998256],[118.221397,33.182228],[118.038463,33.134642],[117.939297,33.262813],[117.971941,33.277821],[118.050782,33.492148],[118.108064,33.475181],[118.112376,33.617302],[118.16781,33.66313],[118.116071,33.767645],[117.901724,33.719883],[117.805638,33.736304],[117.752667,33.711422],[117.758826,33.885445],[117.715095,33.879485],[117.629479,34.028872],[117.575892,33.982744],[117.514914,34.061097],[117.410205,34.026888],[117.352922,34.089842],[117.192778,34.068532],[117.025243,34.167106],[117.04988,34.242321],[116.971656,34.279409],[116.969192,34.387613],[116.828142,34.389094],[116.774555,34.452764],[116.574991,34.488773],[116.595933,34.510469],[116.491839,34.57109],[116.429629,34.652834],[116.374195,34.640036],[116.408071,34.85095],[116.445028,34.89562],[116.677853,34.939285],[116.821983,34.929475],[116.966728,34.875497],[117.000605,34.793482],[117.088069,34.702039],[117.07575,34.637575],[117.137344,34.633144],[117.175532,34.47003],[117.242669,34.445856],[117.301184,34.557294],[117.301184,34.557294],[117.322125,34.566656],[117.322125,34.566656],[117.32151,34.566656],[117.32151,34.566656],[117.322125,34.574046],[117.322125,34.574046],[117.402813,34.569612],[117.465023,34.484827],[117.592523,34.462631],[117.684298,34.547439],[117.801942,34.51885],[117.793935,34.65185],[117.902956,34.644467],[117.951615,34.678424],[118.084042,34.655788],[118.079115,34.569612],[118.185056,34.543989],[118.132702,34.483348],[118.177665,34.453257],[118.179513,34.379218],[118.290382,34.424637],[118.404947,34.427598],[118.440671,34.527724],[118.424657,34.595228],[118.460997,34.65628],[118.601431,34.714336],[118.690127,34.678424],[118.783749,34.723188],[118.719076,34.745315],[118.772047,34.794464],[118.860742,34.94419],[118.865053,35.029974],[118.928495,35.051039],[119.114509,35.054958],[119.137915,35.09609],[119.286972,35.11518],[119.306066,35.076506],[119.238929,35.04908],[119.202588,34.890222],[119.238313,34.799378],[119.378747,34.764487],[119.459435,34.770876],[119.50871,34.729089],[119.465594,34.673012],[119.582623,34.598676],[119.781571,34.515892],[119.811752,34.48532],[119.962657,34.458684],[120.311895,34.307091],[120.367329,34.091328],[120.583524,33.668608],[120.651277,33.575937],[120.741205,33.337826],[120.821893,33.298327],[120.90566,33.030366],[120.929682,32.876232],[120.974646,32.874724],[120.966638,32.770141],[120.900733,32.72334],[120.916131,32.642261],[121.153268,32.529333],[121.352216,32.47433],[121.425513,32.430909],[121.472941,32.138034],[121.524063,32.137528],[121.759352,32.059471],[121.856055,31.95546],[121.970004,31.719096],[121.974931,31.617249]]]]}},{type:"Feature",properties:{adcode:33e4,name:"\u6D59\u6C5F\u7701",center:[120.153576,30.287459],centroid:[120.109522,29.181876],childrenNum:11,level:"province",subFeatureIndex:10,acroutes:[1e5],parent:{adcode:1e5}},geometry:{type:"MultiPolygon",coordinates:[[[[120.461568,27.14259],[120.401206,27.211253],[120.430155,27.258601],[120.34146,27.39946],[120.26262,27.432921],[120.13512,27.420175],[120.052584,27.338886],[120.007005,27.376084],[119.843165,27.300611],[119.770484,27.305928],[119.685485,27.438762],[119.70889,27.514141],[119.630666,27.582574],[119.644217,27.663684],[119.501319,27.649905],[119.474833,27.539079],[119.376899,27.534835],[119.267878,27.421237],[119.194581,27.418582],[118.983314,27.498751],[118.903858,27.462125],[118.869365,27.54014],[118.913713,27.61651],[118.818242,27.916697],[118.730163,27.970611],[118.719076,28.063576],[118.802228,28.117416],[118.771431,28.188634],[118.802228,28.240303],[118.700598,28.310912],[118.674728,28.271398],[118.587881,28.28299],[118.444367,28.25348],[118.433896,28.288786],[118.486867,28.328821],[118.432048,28.402003],[118.472084,28.482497],[118.426505,28.532447],[118.425273,28.537177],[118.426505,28.532447],[118.425273,28.537177],[118.421577,28.540331],[118.421577,28.541908],[118.423425,28.587626],[118.423425,28.587626],[118.431432,28.679528],[118.379077,28.785509],[118.379077,28.785509],[118.306396,28.823782],[118.270056,28.918619],[118.111144,28.997671],[118.111144,28.997671],[118.037847,29.097054],[118.027992,29.168132],[118.077883,29.290836],[118.136397,29.284052],[118.20723,29.346135],[118.193064,29.395149],[118.316252,29.422774],[118.310708,29.49623],[118.496106,29.519662],[118.500417,29.575877],[118.573714,29.638302],[118.644547,29.641942],[118.744945,29.738621],[118.755416,29.845586],[118.894619,29.93792],[118.902626,30.029133],[118.847807,30.163208],[118.929727,30.202515],[118.880452,30.31518],[118.954365,30.360106],[119.06277,30.304849],[119.201356,30.290901],[119.246936,30.341002],[119.36766,30.384885],[119.326392,30.532906],[119.237081,30.54682],[119.238929,30.60915],[119.312225,30.620993],[119.386754,30.685333],[119.416935,30.642101],[119.482841,30.70437],[119.479761,30.772253],[119.575847,30.829814],[119.585702,30.976642],[119.633746,31.019724],[119.623891,31.130416],[119.678093,31.168308],[119.919542,31.170868],[120.001461,31.026902],[120.13512,30.941752],[120.226279,30.926356],[120.371025,30.948424],[120.35809,30.88734],[120.423996,30.900689],[120.504684,30.757858],[120.589068,30.854472],[120.713487,30.885286],[120.698089,30.970999],[120.901349,31.017673],[120.991892,31.00793],[120.989428,30.833924],[121.097218,30.85704],[121.123087,30.778936],[121.217942,30.785105],[121.274608,30.677615],[121.058413,30.563823],[121.225333,30.404496],[121.328195,30.397271],[121.497578,30.258864],[121.632469,30.072119],[121.721164,29.992865],[121.78399,29.993383],[121.919497,29.920808],[121.968156,29.956584],[122.00696,29.891764],[122.140003,29.901619],[122.10243,29.859597],[121.997721,29.759919],[121.937359,29.748491],[121.833265,29.653382],[121.966308,29.635702],[122.000185,29.582642],[121.968772,29.515497],[121.993409,29.451954],[121.937975,29.384201],[121.986634,29.15507],[121.966308,29.053128],[121.884388,29.105419],[121.780294,29.109601],[121.767975,29.166565],[121.660186,29.118487],[121.774751,28.864138],[121.668193,28.873046],[121.704534,28.816443],[121.689135,28.719415],[121.540694,28.655379],[121.634317,28.56293],[121.687287,28.40095],[121.627541,28.251899],[121.499426,28.306171],[121.373774,28.133246],[121.288159,28.144854],[121.261057,28.034533],[121.140949,28.031364],[121.108304,28.13905],[121.059029,28.096305],[120.991892,27.95],[121.05595,27.900306],[121.162507,27.90718],[121.152652,27.810376],[121.153268,27.809847],[121.149572,27.801908],[121.149572,27.801379],[121.149572,27.80085],[121.13479,27.787088],[121.134174,27.787088],[121.152036,27.815139],[121.027616,27.832601],[120.942001,27.896605],[120.797871,27.779677],[120.634647,27.577271],[120.703016,27.478581],[120.673451,27.369708],[120.572437,27.313903],[120.544104,27.154303],[120.461568,27.14259]]],[[[122.301379,29.942068],[122.163408,29.988201],[122.038989,29.989756],[121.991561,30.075743],[121.990945,30.076261],[121.952757,30.183898],[122.152938,30.113015],[122.293988,30.100075],[122.347574,30.014109],[122.301379,29.942068]]],[[[122.100583,30.304333],[122.228082,30.329641],[122.22993,30.232503],[122.058083,30.291934],[122.100583,30.304333]]],[[[122.317393,30.249561],[122.40732,30.272817],[122.397465,30.225266],[122.317393,30.249561]]],[[[122.435038,29.906287],[122.391922,29.831573],[122.327248,29.922883],[122.411632,29.951918],[122.435038,29.906287]]],[[[122.353734,30.464339],[122.423335,30.408624],[122.281669,30.418944],[122.277973,30.471558],[122.353734,30.464339]]],[[[122.303843,29.832611],[122.310002,29.766671],[122.221307,29.832611],[122.303843,29.832611]]],[[[122.13138,29.673659],[122.047612,29.719396],[122.130148,29.79056],[122.200981,29.711082],[122.192358,29.655462],[122.13138,29.673659]]],[[[121.943518,30.77688],[121.970004,30.789217],[122.011271,30.669381],[121.968156,30.68842],[121.943518,30.77688]]],[[[121.874533,29.964878],[121.835113,29.992865],[121.855439,30.085062],[121.924424,30.052441],[121.933047,29.994938],[121.874533,29.964878]]],[[[122.155401,29.97058],[122.154169,29.971098],[122.152322,29.971098],[122.163408,29.988201],[122.155401,29.97058]]],[[[121.136638,27.948414],[121.041783,27.943657],[121.0695,27.984349],[121.136638,27.948414]]],[[[121.134174,27.786029],[121.134174,27.787088],[121.13479,27.787088],[121.134174,27.786029]]],[[[122.152322,29.971098],[122.154169,29.971098],[122.155401,29.97058],[122.152322,29.971098]]]]}},{type:"Feature",properties:{adcode:34e4,name:"\u5B89\u5FBD\u7701",center:[117.283042,31.86119],centroid:[117.226894,31.849585],childrenNum:16,level:"province",subFeatureIndex:11,acroutes:[1e5],parent:{adcode:1e5}},geometry:{type:"MultiPolygon",coordinates:[[[[115.5088,32.468777],[115.409018,32.549005],[115.304924,32.553039],[115.20083,32.591864],[115.183584,32.665937],[115.197135,32.85613],[115.139237,32.897837],[114.943368,32.935005],[114.883006,32.990227],[114.925506,33.016821],[114.902716,33.129632],[114.966158,33.147167],[115.042534,33.08653],[115.168186,33.088535],[115.301229,33.141657],[115.365286,33.335826],[115.312931,33.376307],[115.345576,33.503125],[115.421953,33.556992],[115.639995,33.584909],[115.563003,33.771624],[115.614126,33.775603],[115.629524,33.871536],[115.546988,33.875014],[115.60735,34.030359],[115.736082,34.076957],[115.877132,34.003083],[115.95782,34.007547],[116.00032,33.964881],[115.987385,33.900842],[116.05945,33.861103],[116.074232,33.781571],[116.155536,33.709929],[116.263326,33.729835],[116.316297,33.771127],[116.437021,33.801461],[116.437637,33.846694],[116.64336,33.896869],[116.648288,33.973317],[116.575607,34.069028],[116.575607,34.069028],[116.530643,34.107183],[116.565752,34.173541],[116.516477,34.296217],[116.409303,34.273971],[116.409303,34.273971],[116.26271,34.375762],[116.213435,34.382181],[116.162312,34.459178],[116.204196,34.508497],[116.196804,34.576017],[116.240536,34.552367],[116.281188,34.60754],[116.374195,34.640036],[116.429629,34.652834],[116.491839,34.57109],[116.595933,34.510469],[116.574991,34.488773],[116.774555,34.452764],[116.828142,34.389094],[116.969192,34.387613],[116.971656,34.279409],[117.04988,34.242321],[117.025243,34.167106],[117.192778,34.068532],[117.352922,34.089842],[117.410205,34.026888],[117.514914,34.061097],[117.575892,33.982744],[117.629479,34.028872],[117.715095,33.879485],[117.758826,33.885445],[117.752667,33.711422],[117.805638,33.736304],[117.901724,33.719883],[118.116071,33.767645],[118.16781,33.66313],[118.112376,33.617302],[118.108064,33.475181],[118.050782,33.492148],[117.971941,33.277821],[117.939297,33.262813],[118.038463,33.134642],[118.221397,33.182228],[118.244803,32.998256],[118.293462,32.947056],[118.2331,32.914414],[118.250346,32.84859],[118.375382,32.718809],[118.707373,32.720319],[118.756648,32.737433],[118.74125,32.850601],[118.811467,32.854622],[118.849039,32.956596],[118.995017,32.958604],[119.104038,32.82647],[119.184726,32.825465],[119.22045,32.57674],[119.084944,32.452622],[119.041212,32.515207],[118.978386,32.504106],[118.922336,32.557074],[118.92172,32.557074],[118.922336,32.557074],[118.92172,32.557074],[118.719076,32.614042],[118.719076,32.614042],[118.563859,32.56363],[118.592192,32.481396],[118.69259,32.463224],[118.69567,32.31721],[118.642083,32.208937],[118.522591,32.188178],[118.499801,32.1203],[118.400019,32.077724],[118.363679,31.930581],[118.504729,31.841674],[118.481939,31.778117],[118.552772,31.729275],[118.638388,31.759295],[118.697518,31.709935],[118.643931,31.65138],[118.736938,31.634061],[118.77451,31.682444],[118.804691,31.618268],[118.858278,31.624382],[118.873061,31.53569],[118.866285,31.527021],[118.870597,31.526001],[118.876756,31.532631],[118.853967,31.39841],[118.745561,31.37287],[118.728931,31.281384],[118.781286,31.239956],[119.075089,31.232282],[119.199508,31.293655],[119.267878,31.250698],[119.379979,31.269622],[119.388602,31.194415],[119.388602,31.194415],[119.460051,31.156533],[119.623891,31.130416],[119.633746,31.019724],[119.585702,30.976642],[119.575847,30.829814],[119.479761,30.772253],[119.482841,30.70437],[119.416935,30.642101],[119.386754,30.685333],[119.312225,30.620993],[119.238929,30.60915],[119.237081,30.54682],[119.326392,30.532906],[119.36766,30.384885],[119.246936,30.341002],[119.201356,30.290901],[119.06277,30.304849],[118.954365,30.360106],[118.880452,30.31518],[118.929727,30.202515],[118.847807,30.163208],[118.902626,30.029133],[118.894619,29.93792],[118.755416,29.845586],[118.744945,29.738621],[118.644547,29.641942],[118.573714,29.638302],[118.500417,29.575877],[118.496106,29.519662],[118.310708,29.49623],[118.316252,29.422774],[118.193064,29.395149],[118.136397,29.419125],[118.134549,29.508728],[118.008282,29.578479],[117.872775,29.547774],[117.807486,29.573796],[117.707703,29.548815],[117.647957,29.614897],[117.545711,29.594089],[117.532161,29.651822],[117.453936,29.688214],[117.455168,29.749011],[117.384335,29.84351],[117.29256,29.822749],[117.246365,29.915104],[117.17738,29.921846],[117.073286,29.832092],[117.136728,29.7755],[117.112706,29.712121],[116.780715,29.570153],[116.651983,29.637262],[116.677237,29.66898],[116.694483,29.672099],[116.694483,29.672099],[116.717273,29.690813],[116.710498,29.69705],[116.709882,29.69757],[116.706186,29.69809],[116.698795,29.707964],[116.684012,29.72823],[116.789954,29.795233],[116.882961,29.89332],[116.900207,29.949326],[116.83307,29.957621],[116.747454,30.057101],[116.666766,30.076779],[116.586078,30.046226],[116.552201,29.909918],[116.473361,29.89747],[116.26271,29.782251],[116.207891,29.82742],[116.13521,29.819634],[116.127203,29.899544],[116.073616,29.970061],[116.091479,30.036385],[116.065609,30.204584],[115.985537,30.290901],[115.903001,30.313631],[115.921479,30.416364],[115.876516,30.582368],[115.819234,30.59782],[115.762567,30.685848],[115.782893,30.751687],[115.851262,30.756829],[115.865429,30.864231],[115.976298,30.931488],[116.071769,30.956633],[116.058834,31.012545],[115.938726,31.047409],[115.869125,31.147828],[115.763799,31.118123],[115.700973,31.201068],[115.646155,31.209768],[115.559307,31.160117],[115.516191,31.263485],[115.457677,31.281384],[115.442279,31.346303],[115.372062,31.349368],[115.373909,31.405559],[115.371446,31.495905],[115.496481,31.674297],[115.660937,31.760822],[115.767495,31.787272],[115.816154,31.762348],[115.909777,31.791849],[115.893146,31.833033],[115.931334,31.994541],[115.941805,32.166402],[115.912856,32.227666],[115.899306,32.391005],[115.845719,32.501583],[115.789052,32.468777],[115.706517,32.494014],[115.667712,32.409696],[115.567314,32.421819],[115.509416,32.466758],[115.510648,32.467768],[115.510648,32.468272],[115.510648,32.468777],[115.5088,32.468777]]],[[[116.717273,29.690813],[116.694483,29.672099],[116.694483,29.672099],[116.677237,29.66898],[116.684012,29.72823],[116.698795,29.707964],[116.706186,29.69809],[116.709882,29.69757],[116.710498,29.69705],[116.709882,29.69757],[116.717273,29.690813]]],[[[118.873061,31.53569],[118.876756,31.532631],[118.870597,31.526001],[118.866285,31.527021],[118.873061,31.53569]]],[[[115.510648,32.468777],[115.510648,32.468272],[115.510648,32.467768],[115.509416,32.466758],[115.5088,32.468777],[115.510648,32.468777]]]]}},{type:"Feature",properties:{adcode:35e4,name:"\u798F\u5EFA\u7701",center:[119.306239,26.075302],centroid:[118.005928,26.070282],childrenNum:9,level:"province",subFeatureIndex:12,acroutes:[1e5],parent:{adcode:1e5}},geometry:{type:"MultiPolygon",coordinates:[[[[120.461568,27.14259],[120.393199,27.081343],[120.287257,27.094128],[120.29588,27.035519],[120.231823,26.907006],[120.117258,26.916609],[120.047041,26.824809],[120.1382,26.79704],[120.165917,26.73133],[120.110483,26.692848],[120.1382,26.637775],[119.967585,26.597657],[119.896136,26.516306],[119.827767,26.524872],[119.851788,26.595516],[119.949107,26.624404],[120.052584,26.786892],[119.942947,26.784756],[119.86965,26.642588],[119.83023,26.69071],[119.711354,26.686433],[119.665159,26.725986],[119.577695,26.622264],[119.788346,26.58321],[119.876426,26.359867],[119.962657,26.373269],[119.8986,26.308388],[119.841317,26.322333],[119.668854,26.256887],[119.604181,26.168853],[119.668854,26.025924],[119.723673,26.011406],[119.688564,25.897892],[119.632514,25.884436],[119.635594,25.746011],[119.601101,25.683479],[119.472986,25.662448],[119.586934,25.592317],[119.634362,25.475161],[119.716898,25.550758],[119.716898,25.551838],[119.683637,25.592856],[119.785883,25.667841],[119.790194,25.614439],[119.883817,25.54644],[119.812368,25.523225],[119.864107,25.479482],[119.764325,25.433562],[119.773564,25.395732],[119.646064,25.460576],[119.649144,25.34275],[119.549362,25.367082],[119.48592,25.364919],[119.490232,25.447069],[119.438493,25.412487],[119.452044,25.490824],[119.36458,25.521065],[119.354725,25.427077],[119.288204,25.410865],[119.256175,25.488664],[119.14469,25.388165],[119.299291,25.32869],[119.380595,25.250247],[119.293131,25.23347],[119.26911,25.15984],[119.131755,25.223187],[119.165632,25.145217],[119.119436,25.012447],[119.107118,25.075327],[119.035669,25.125717],[119.081248,25.218856],[118.989473,25.202075],[118.996864,25.266481],[118.911249,25.241589],[118.981466,25.19612],[118.975923,25.118133],[118.868133,25.082372],[118.928495,25.025459],[119.02335,25.04877],[118.989473,24.973944],[119.032589,24.962011],[119.032589,24.961468],[118.918024,24.924034],[118.96114,24.871933],[118.86259,24.886589],[118.650707,24.808949],[118.786213,24.776358],[118.703677,24.665485],[118.675344,24.57628],[118.558316,24.512602],[118.557084,24.573016],[118.444367,24.614907],[118.355056,24.534376],[118.242955,24.512602],[118.134549,24.575736],[118.12531,24.571927],[118.048934,24.418385],[118.088354,24.409123],[118.158571,24.270111],[118.001507,24.176805],[117.762522,23.88718],[117.671979,23.877879],[117.612849,23.71364],[117.500132,23.703232],[117.463791,23.58539],[117.387415,23.555228],[117.192778,23.561809],[117.192778,23.629799],[117.053576,23.696657],[117.012308,23.855446],[116.980279,23.881709],[116.981511,23.999282],[116.939627,24.033713],[116.9347,24.127123],[116.998757,24.178988],[116.933468,24.21992],[116.903903,24.369888],[116.860787,24.462507],[116.789338,24.50988],[116.761005,24.58281],[116.815207,24.655154],[116.778867,24.680165],[116.597165,24.65461],[116.525716,24.604572],[116.486912,24.71876],[116.44626,24.714412],[116.376659,24.820353],[116.245464,24.793197],[116.18079,24.87519],[116.068073,24.849675],[116.014486,24.905584],[115.89253,24.937056],[115.873436,25.020038],[115.928255,25.050396],[115.880212,25.092126],[115.855574,25.209654],[115.929487,25.234553],[116.008327,25.319496],[116.005247,25.490284],[116.063145,25.563173],[116.067457,25.703967],[116.18079,25.774571],[116.131515,25.82413],[116.176478,25.893048],[116.258398,25.902736],[116.36434,25.960312],[116.383434,26.029687],[116.489375,26.113529],[116.471513,26.175296],[116.396985,26.166168],[116.412999,26.298197],[116.519557,26.410251],[116.601476,26.372733],[116.610716,26.477216],[116.539267,26.559129],[116.566368,26.650075],[116.516477,26.69071],[116.557745,26.774073],[116.548506,26.839758],[116.679085,26.978479],[116.910062,27.034453],[117.05296,27.100519],[117.043721,27.139928],[117.171836,27.290509],[117.100387,27.338886],[117.133032,27.4223],[117.084989,27.564011],[117.01662,27.563481],[117.040641,27.670043],[117.096692,27.626582],[117.118865,27.694416],[117.204481,27.683819],[117.296872,27.764854],[117.27901,27.870161],[117.341836,27.855879],[117.52169,27.982236],[117.608537,27.863814],[117.740348,27.800321],[117.78716,27.896076],[117.856145,27.945772],[117.999043,27.991218],[118.096977,27.96744],[118.155491,28.061992],[118.356288,28.091555],[118.37415,28.188106],[118.314404,28.22238],[118.433896,28.288786],[118.444367,28.25348],[118.587881,28.28299],[118.674728,28.271398],[118.700598,28.310912],[118.802228,28.240303],[118.771431,28.188634],[118.802228,28.117416],[118.719076,28.063576],[118.730163,27.970611],[118.818242,27.916697],[118.913713,27.61651],[118.869365,27.54014],[118.903858,27.462125],[118.983314,27.498751],[119.194581,27.418582],[119.267878,27.421237],[119.376899,27.534835],[119.474833,27.539079],[119.501319,27.649905],[119.644217,27.663684],[119.630666,27.582574],[119.70889,27.514141],[119.685485,27.438762],[119.770484,27.305928],[119.843165,27.300611],[120.007005,27.376084],[120.052584,27.338886],[120.13512,27.420175],[120.26262,27.432921],[120.34146,27.39946],[120.430155,27.258601],[120.401206,27.211253],[120.461568,27.14259]]],[[[118.412338,24.514235],[118.477012,24.437452],[118.335962,24.385148],[118.316252,24.487557],[118.374766,24.458695],[118.412338,24.514235]]],[[[119.532116,25.203158],[119.549362,25.162007],[119.444036,25.202075],[119.473601,25.259988],[119.532116,25.203158]]],[[[118.079115,24.444533],[118.093281,24.540907],[118.142557,24.561588],[118.20723,24.487012],[118.143173,24.421109],[118.079115,24.444533]]],[[[119.737224,26.646332],[119.668238,26.628683],[119.673782,26.681087],[119.737224,26.646332]]]]}},{type:"Feature",properties:{adcode:36e4,name:"\u6C5F\u897F\u7701",center:[115.892151,28.676493],centroid:[115.732937,27.636129],childrenNum:11,level:"province",subFeatureIndex:13,acroutes:[1e5],parent:{adcode:1e5}},geometry:{type:"MultiPolygon",coordinates:[[[[113.94185,29.047374],[113.952321,29.092871],[114.061959,29.204176],[114.252284,29.234985],[114.259059,29.344049],[114.519602,29.325271],[114.660652,29.393585],[114.759818,29.363345],[114.931049,29.422252],[114.860216,29.475917],[114.940904,29.494147],[115.00065,29.572235],[115.154019,29.51029],[115.142316,29.651822],[115.359127,29.646623],[115.471844,29.742777],[115.511264,29.839877],[115.667712,29.850257],[115.837096,29.748491],[115.965827,29.724593],[116.13521,29.819634],[116.207891,29.82742],[116.26271,29.782251],[116.473361,29.89747],[116.552201,29.909918],[116.586078,30.046226],[116.666766,30.076779],[116.747454,30.057101],[116.83307,29.957621],[116.900207,29.949326],[116.882961,29.89332],[116.789954,29.795233],[116.684012,29.72823],[116.677237,29.66898],[116.651983,29.637262],[116.780715,29.570153],[117.112706,29.712121],[117.136728,29.7755],[117.073286,29.832092],[117.17738,29.921846],[117.246365,29.915104],[117.29256,29.822749],[117.384335,29.84351],[117.455168,29.749011],[117.453936,29.688214],[117.532161,29.651822],[117.545711,29.594089],[117.647957,29.614897],[117.707703,29.548815],[117.807486,29.573796],[117.872775,29.547774],[118.008282,29.578479],[118.134549,29.508728],[118.136397,29.419125],[118.193064,29.395149],[118.20723,29.346135],[118.136397,29.284052],[118.077883,29.290836],[118.027992,29.168132],[118.037847,29.097054],[118.111144,28.997671],[118.111144,28.997671],[118.270056,28.918619],[118.306396,28.823782],[118.379077,28.785509],[118.379077,28.785509],[118.431432,28.679528],[118.423425,28.587626],[118.423425,28.587626],[118.421577,28.541908],[118.421577,28.540331],[118.425273,28.537177],[118.426505,28.532447],[118.425273,28.537177],[118.426505,28.532447],[118.472084,28.482497],[118.432048,28.402003],[118.486867,28.328821],[118.433896,28.288786],[118.314404,28.22238],[118.37415,28.188106],[118.356288,28.091555],[118.155491,28.061992],[118.096977,27.96744],[117.999043,27.991218],[117.856145,27.945772],[117.78716,27.896076],[117.740348,27.800321],[117.608537,27.863814],[117.52169,27.982236],[117.341836,27.855879],[117.27901,27.870161],[117.296872,27.764854],[117.204481,27.683819],[117.118865,27.694416],[117.096692,27.626582],[117.040641,27.670043],[117.01662,27.563481],[117.084989,27.564011],[117.133032,27.4223],[117.100387,27.338886],[117.171836,27.290509],[117.043721,27.139928],[117.05296,27.100519],[116.910062,27.034453],[116.679085,26.978479],[116.548506,26.839758],[116.557745,26.774073],[116.516477,26.69071],[116.566368,26.650075],[116.539267,26.559129],[116.610716,26.477216],[116.601476,26.372733],[116.519557,26.410251],[116.412999,26.298197],[116.396985,26.166168],[116.471513,26.175296],[116.489375,26.113529],[116.383434,26.029687],[116.36434,25.960312],[116.258398,25.902736],[116.176478,25.893048],[116.131515,25.82413],[116.18079,25.774571],[116.067457,25.703967],[116.063145,25.563173],[116.005247,25.490284],[116.008327,25.319496],[115.929487,25.234553],[115.855574,25.209654],[115.880212,25.092126],[115.928255,25.050396],[115.873436,25.020038],[115.89253,24.937056],[115.907313,24.880075],[115.822313,24.90884],[115.756408,24.749192],[115.845103,24.563221],[115.688038,24.545261],[115.67264,24.604028],[115.573474,24.617083],[115.556227,24.682883],[115.412714,24.792654],[115.358511,24.735064],[115.308004,24.758429],[115.095505,24.674184],[115.056701,24.703541],[114.909491,24.661679],[114.868839,24.562132],[114.729637,24.608924],[114.704999,24.526211],[114.664963,24.583898],[114.589819,24.537642],[114.534384,24.558867],[114.428443,24.486468],[114.391486,24.562677],[114.308334,24.574104],[114.258443,24.641558],[114.169132,24.689407],[114.27261,24.700279],[114.33482,24.747562],[114.403189,24.877361],[114.395798,24.951161],[114.506051,24.999975],[114.561485,25.077495],[114.640326,25.073702],[114.735796,25.121925],[114.679746,25.194495],[114.743188,25.274597],[114.63663,25.324364],[114.535616,25.41681],[114.381015,25.31571],[114.31511,25.338424],[114.262755,25.29191],[114.13156,25.30922],[114.039785,25.250789],[114.051488,25.348699],[113.94493,25.441667],[113.983118,25.599332],[113.913517,25.701272],[113.971416,25.835979],[114.028082,25.893586],[114.007756,26.007104],[114.044096,26.076452],[114.237501,26.152204],[114.181451,26.214489],[114.088444,26.168316],[113.944314,26.16402],[114.029314,26.266545],[114.030546,26.376485],[114.085364,26.4065],[114.073046,26.480965],[114.106306,26.576254],[113.915365,26.613706],[113.860546,26.663978],[113.834677,26.803983],[113.927068,26.949149],[113.821126,27.037651],[113.779242,27.137265],[113.848844,27.225087],[113.872865,27.385116],[113.616635,27.345264],[113.632033,27.405303],[113.583374,27.524754],[113.607395,27.625522],[113.763228,27.799262],[113.729967,27.887086],[113.752141,27.933614],[113.864242,28.004954],[113.914133,27.991218],[114.047176,28.05724],[113.992357,28.161207],[114.107538,28.182833],[114.25598,28.323554],[114.252284,28.395687],[114.172212,28.432524],[114.218407,28.484601],[114.08598,28.558201],[114.157429,28.761384],[114.152502,28.83479],[114.076741,28.834266],[114.008988,28.955273],[113.966488,28.945326],[113.94185,29.047374]]]]}},{type:"Feature",properties:{adcode:37e4,name:"\u5C71\u4E1C\u7701",center:[117.000923,36.675807],centroid:[118.186283,36.374485],childrenNum:17,level:"province",subFeatureIndex:14,acroutes:[1e5],parent:{adcode:1e5}},geometry:{type:"MultiPolygon",coordinates:[[[[121.362071,37.634292],[121.4791,37.474914],[121.565331,37.440242],[121.635548,37.49438],[121.66573,37.47349],[121.923808,37.473015],[122.08888,37.554171],[122.166488,37.439292],[122.234857,37.469216],[122.284133,37.426464],[122.41656,37.414585],[122.487393,37.434541],[122.553914,37.406981],[122.670942,37.429315],[122.573624,37.296159],[122.629059,37.194708],[122.581015,37.147508],[122.505871,37.149892],[122.467067,37.03726],[122.575472,37.054452],[122.532356,36.901497],[122.344495,36.828257],[122.174495,36.842623],[122.141235,36.93833],[122.051923,36.904846],[122.008808,36.962238],[121.767975,36.874698],[121.762432,36.846454],[121.627541,36.795683],[121.647867,36.723301],[121.492035,36.789933],[121.454462,36.75255],[121.209318,36.671489],[121.028848,36.573046],[120.847146,36.618682],[120.983269,36.546133],[120.890878,36.373375],[120.828668,36.466779],[120.759683,36.462448],[120.694393,36.390234],[120.7449,36.330969],[120.66298,36.331933],[120.712255,36.126809],[120.478199,36.091522],[120.343308,36.04219],[120.290337,36.061539],[120.362402,36.19637],[120.181316,36.204095],[120.108635,36.127292],[120.241062,36.047995],[120.213345,35.998152],[120.292801,36.017512],[120.262004,35.965712],[120.062439,35.870739],[120.011317,35.713006],[119.926317,35.759631],[119.923237,35.635238],[119.718129,35.615785],[119.665775,35.57005],[119.543819,35.347815],[119.411392,35.231581],[119.373819,35.078464],[119.306066,35.076506],[119.286972,35.11518],[119.137915,35.09609],[119.114509,35.054958],[118.928495,35.051039],[118.865053,35.029974],[118.860742,34.94419],[118.772047,34.794464],[118.719076,34.745315],[118.783749,34.723188],[118.690127,34.678424],[118.601431,34.714336],[118.460997,34.65628],[118.424657,34.595228],[118.440671,34.527724],[118.404947,34.427598],[118.290382,34.424637],[118.179513,34.379218],[118.177665,34.453257],[118.132702,34.483348],[118.185056,34.543989],[118.079115,34.569612],[118.084042,34.655788],[117.951615,34.678424],[117.902956,34.644467],[117.793935,34.65185],[117.801942,34.51885],[117.684298,34.547439],[117.592523,34.462631],[117.465023,34.484827],[117.402813,34.569612],[117.322125,34.574046],[117.322125,34.574046],[117.32151,34.566656],[117.32151,34.566656],[117.322125,34.566656],[117.322125,34.566656],[117.301184,34.557294],[117.301184,34.557294],[117.242669,34.445856],[117.175532,34.47003],[117.137344,34.633144],[117.07575,34.637575],[117.088069,34.702039],[117.000605,34.793482],[116.966728,34.875497],[116.821983,34.929475],[116.677853,34.939285],[116.445028,34.89562],[116.408071,34.85095],[116.374195,34.640036],[116.281188,34.60754],[116.240536,34.552367],[116.196804,34.576017],[116.134594,34.559758],[116.101334,34.605571],[115.83032,34.562714],[115.697278,34.594243],[115.667096,34.557294],[115.515575,34.582421],[115.461373,34.637083],[115.42688,34.805273],[115.317243,34.859297],[115.256265,34.845549],[115.251953,34.906416],[115.189128,34.914757],[115.12815,35.004493],[115.028983,34.97165],[114.923658,34.968709],[114.824492,35.012335],[114.883006,35.098537],[114.841738,35.151389],[114.932281,35.197362],[114.929817,35.248196],[115.02036,35.364406],[115.093657,35.41611],[115.237171,35.422937],[115.357895,35.498475],[115.383148,35.569076],[115.48601,35.710091],[115.693582,35.75429],[115.773654,35.854252],[115.875284,35.859102],[115.911624,35.960385],[116.048979,35.970071],[116.099486,36.111826],[115.989849,36.045576],[115.646155,35.920663],[115.496481,35.885283],[115.498329,35.897401],[115.503257,35.91194],[115.503257,35.91194],[115.487242,35.903702],[115.473692,35.896917],[115.473692,35.896917],[115.467532,35.889646],[115.467532,35.889646],[115.464452,35.882859],[115.464452,35.88092],[115.464452,35.882859],[115.463837,35.882859],[115.464452,35.88092],[115.463837,35.88092],[115.463837,35.882859],[115.463837,35.88092],[115.460141,35.86783],[115.363438,35.78002],[115.335105,35.796522],[115.362822,35.972008],[115.447822,36.012672],[115.483547,36.149036],[115.466916,36.259115],[115.466916,36.259115],[115.366518,36.308793],[115.308004,36.461967],[115.308004,36.461967],[115.283366,36.486505],[115.365902,36.622043],[115.479851,36.76022],[115.683727,36.808139],[115.71206,36.883313],[115.79706,36.968931],[115.776734,36.992829],[115.868509,37.076414],[115.909777,37.206622],[115.969523,37.239497],[115.984921,37.326616],[116.051443,37.367998],[116.169087,37.384164],[116.236224,37.361816],[116.2855,37.404604],[116.226369,37.428365],[116.240536,37.489633],[116.240536,37.489633],[116.27626,37.466841],[116.291659,37.557966],[116.337238,37.580255],[116.379738,37.521909],[116.38097,37.522858],[116.379738,37.521909],[116.38097,37.522858],[116.433941,37.47349],[116.724664,37.744139],[116.788106,37.843429],[117.023395,37.832561],[117.093612,37.849571],[117.267923,37.838704],[117.34122,37.863271],[117.438538,37.853823],[117.513067,37.94353],[117.5839,38.070819],[117.70216,38.075529],[117.771761,38.136734],[117.808718,38.228445],[117.895565,38.30173],[117.997811,38.211992],[118.045238,38.207761],[118.143788,38.297035],[118.07234,38.170139],[118.331034,38.124968],[118.504729,38.114141],[118.552156,38.055744],[118.607591,38.129204],[118.726467,38.154144],[118.853967,38.155085],[118.974075,38.094367],[119.004872,37.992114],[119.110813,37.921349],[119.12806,37.814601],[119.217371,37.810347],[119.259871,37.702492],[119.080016,37.696337],[118.99748,37.632396],[118.939582,37.527129],[118.983314,37.349926],[119.054147,37.254738],[119.12806,37.254738],[119.298675,37.197567],[119.329472,37.115548],[119.489616,37.13463],[119.566608,37.100755],[119.744615,37.135107],[119.89244,37.263786],[119.843781,37.376557],[120.144359,37.482036],[120.246605,37.556543],[120.215192,37.621023],[120.272475,37.636661],[120.227511,37.693497],[120.367945,37.697758],[120.466496,37.757858],[120.595227,37.767318],[120.733197,37.833506],[120.938305,37.821219],[121.037471,37.718585],[121.136022,37.723318],[121.153884,37.613914],[121.217326,37.582626],[121.354064,37.595901],[121.362071,37.634292]]],[[[115.498329,35.897401],[115.496481,35.885283],[115.460141,35.86783],[115.463837,35.88092],[115.463837,35.882859],[115.463837,35.88092],[115.464452,35.88092],[115.463837,35.882859],[115.464452,35.882859],[115.464452,35.88092],[115.464452,35.882859],[115.467532,35.889646],[115.467532,35.889646],[115.473692,35.896917],[115.473692,35.896917],[115.487242,35.903702],[115.498329,35.897401]]],[[[121.487723,37.578833],[121.487723,37.577884],[121.487107,37.577884],[121.485875,37.578359],[121.485875,37.578833],[121.487723,37.578833]]],[[[121.487723,37.578833],[121.488339,37.578833],[121.488339,37.578833],[121.487723,37.57741],[121.487723,37.577884],[121.487723,37.578833]]]]}},{type:"Feature",properties:{adcode:41e4,name:"\u6CB3\u5357\u7701",center:[113.665412,34.757975],centroid:[113.619918,33.902738],childrenNum:18,level:"province",subFeatureIndex:15,acroutes:[1e5],parent:{adcode:1e5}},geometry:{type:"MultiPolygon",coordinates:[[[[116.196804,34.576017],[116.204196,34.508497],[116.162312,34.459178],[116.213435,34.382181],[116.26271,34.375762],[116.409303,34.273971],[116.409303,34.273971],[116.516477,34.296217],[116.565752,34.173541],[116.530643,34.107183],[116.575607,34.069028],[116.575607,34.069028],[116.648288,33.973317],[116.64336,33.896869],[116.437637,33.846694],[116.437021,33.801461],[116.316297,33.771127],[116.263326,33.729835],[116.155536,33.709929],[116.074232,33.781571],[116.05945,33.861103],[115.987385,33.900842],[116.00032,33.964881],[115.95782,34.007547],[115.877132,34.003083],[115.736082,34.076957],[115.60735,34.030359],[115.546988,33.875014],[115.629524,33.871536],[115.614126,33.775603],[115.563003,33.771624],[115.639995,33.584909],[115.421953,33.556992],[115.345576,33.503125],[115.312931,33.376307],[115.365286,33.335826],[115.301229,33.141657],[115.168186,33.088535],[115.042534,33.08653],[114.966158,33.147167],[114.902716,33.129632],[114.925506,33.016821],[114.883006,32.990227],[114.943368,32.935005],[115.139237,32.897837],[115.197135,32.85613],[115.183584,32.665937],[115.20083,32.591864],[115.304924,32.553039],[115.409018,32.549005],[115.5088,32.468777],[115.509416,32.466758],[115.567314,32.421819],[115.667712,32.409696],[115.706517,32.494014],[115.789052,32.468777],[115.845719,32.501583],[115.899306,32.391005],[115.912856,32.227666],[115.941805,32.166402],[115.931334,31.994541],[115.893146,31.833033],[115.909777,31.791849],[115.816154,31.762348],[115.767495,31.787272],[115.660937,31.760822],[115.496481,31.674297],[115.371446,31.495905],[115.373909,31.405559],[115.301229,31.384109],[115.22054,31.426494],[115.235323,31.556597],[115.12507,31.598904],[115.088729,31.507638],[115.024056,31.528551],[114.830035,31.458654],[114.778912,31.5209],[114.696376,31.526001],[114.641558,31.582085],[114.560869,31.561185],[114.549783,31.642721],[114.586123,31.762348],[114.448769,31.728257],[114.292936,31.752173],[114.195002,31.850315],[114.135871,31.843707],[114.088444,31.781677],[113.988662,31.750138],[113.954785,31.856413],[113.838373,31.854889],[113.791561,32.036142],[113.728735,32.0833],[113.783554,32.186153],[113.749677,32.272196],[113.761996,32.268149],[113.757069,32.29243],[113.758301,32.296476],[113.752757,32.388478],[113.664062,32.422324],[113.624642,32.361191],[113.425693,32.269161],[113.211962,32.431919],[113.118956,32.375846],[113.025949,32.425354],[112.992072,32.378373],[112.860877,32.395552],[112.733993,32.363718],[112.729066,32.366245],[112.544284,32.403635],[112.451893,32.344511],[112.390915,32.371298],[112.328089,32.321761],[112.228923,32.385447],[112.014576,32.450098],[111.948671,32.517225],[111.890157,32.503097],[111.640701,32.634703],[111.577875,32.593376],[111.380159,32.828984],[111.293311,32.859145],[111.242804,32.930486],[111.273601,32.971656],[111.238493,33.040899],[111.151029,33.053438],[111.179363,33.115601],[111.056791,33.192743],[111.032769,33.209265],[110.984726,33.255308],[111.025994,33.330327],[110.996429,33.435745],[111.02661,33.474183],[111.02661,33.478675],[111.00382,33.578429],[110.877552,33.635238],[110.782698,33.795494],[110.587445,33.887929],[110.669365,33.939072],[110.590525,34.096778],[110.642264,34.16067],[110.43962,34.24331],[110.426685,34.275454],[110.503677,34.337234],[110.403279,34.43352],[110.403279,34.43352],[110.360779,34.516878],[110.379257,34.600646],[110.474728,34.617389],[110.533242,34.583406],[110.710017,34.605078],[110.749437,34.652342],[110.883712,34.642498],[110.929907,34.731548],[110.966248,34.70499],[111.118385,34.756622],[111.148566,34.80773],[111.232949,34.789551],[111.346282,34.831798],[111.570484,34.843094],[111.66965,34.988319],[111.900012,35.079933],[112.062004,35.055937],[112.078634,35.219362],[112.058924,35.279951],[112.513487,35.218384],[112.637291,35.225716],[112.628052,35.263342],[112.766022,35.203718],[112.818377,35.258457],[112.911384,35.24673],[112.992072,35.296068],[112.997,35.362455],[113.126347,35.332197],[113.189789,35.449261],[113.298194,35.427325],[113.31236,35.481424],[113.485439,35.520879],[113.578446,35.63378],[113.604316,35.797008],[113.656671,35.836792],[113.637576,35.98847],[113.694859,36.026707],[113.651743,36.172224],[113.716417,36.262492],[113.731199,36.363257],[113.819894,36.330969],[113.881488,36.354102],[113.911054,36.314578],[113.982502,36.358921],[114.055799,36.330005],[114.060727,36.276482],[114.169132,36.243675],[114.169132,36.243675],[114.345291,36.255738],[114.591666,36.130192],[114.912571,36.140339],[114.914419,36.051865],[114.996955,36.06831],[115.064092,36.178985],[115.201446,36.210371],[115.201446,36.210371],[115.312931,36.088137],[115.483547,36.149036],[115.447822,36.012672],[115.362822,35.972008],[115.335105,35.796522],[115.363438,35.78002],[115.460141,35.86783],[115.496481,35.885283],[115.646155,35.920663],[115.989849,36.045576],[116.099486,36.111826],[116.048979,35.970071],[115.911624,35.960385],[115.875284,35.859102],[115.773654,35.854252],[115.693582,35.75429],[115.48601,35.710091],[115.383148,35.569076],[115.357895,35.498475],[115.237171,35.422937],[115.093657,35.41611],[115.02036,35.364406],[114.929817,35.248196],[114.932281,35.197362],[114.841738,35.151389],[114.883006,35.098537],[114.824492,35.012335],[114.923658,34.968709],[115.028983,34.97165],[115.12815,35.004493],[115.189128,34.914757],[115.251953,34.906416],[115.256265,34.845549],[115.317243,34.859297],[115.42688,34.805273],[115.461373,34.637083],[115.515575,34.582421],[115.667096,34.557294],[115.697278,34.594243],[115.83032,34.562714],[116.101334,34.605571],[116.134594,34.559758],[116.196804,34.576017]]],[[[115.498329,35.897401],[115.487242,35.903702],[115.503257,35.91194],[115.503257,35.91194],[115.498329,35.897401]]],[[[113.749677,32.272196],[113.758301,32.296476],[113.757069,32.29243],[113.761996,32.268149],[113.749677,32.272196]]]]}},{type:"Feature",properties:{adcode:42e4,name:"\u6E56\u5317\u7701",center:[114.298572,30.584355],centroid:[112.271042,30.98802],childrenNum:17,level:"province",subFeatureIndex:16,acroutes:[1e5],parent:{adcode:1e5}},geometry:{type:"MultiPolygon",coordinates:[[[[109.232378,29.119533],[109.110422,29.215143],[109.11227,29.360737],[108.919481,29.326314],[108.927488,29.435281],[108.880677,29.442576],[108.91209,29.571714],[108.844337,29.658582],[108.785822,29.633622],[108.690968,29.689773],[108.666946,29.842472],[108.602273,29.865824],[108.504338,29.707964],[108.437201,29.741218],[108.424266,29.816],[108.371295,29.841434],[108.516041,29.885539],[108.542526,29.998047],[108.513577,30.057619],[108.56778,30.157517],[108.581947,30.255763],[108.460606,30.35959],[108.402092,30.376626],[108.42673,30.492184],[108.56778,30.468464],[108.688504,30.587519],[108.743939,30.494762],[108.808612,30.491153],[108.971836,30.627686],[109.114734,30.64416],[109.09256,30.578762],[109.103647,30.565883],[109.143683,30.521052],[109.299516,30.630775],[109.36111,30.550942],[109.35495,30.487028],[109.435638,30.59576],[109.590855,30.693566],[109.780564,30.848822],[109.893897,30.899662],[110.008462,30.883746],[110.082375,30.799496],[110.172918,30.978694],[110.135961,30.986902],[110.119947,31.088409],[110.189548,31.129391],[110.140273,31.390238],[110.054042,31.410666],[109.946252,31.506108],[109.848934,31.552008],[109.719586,31.555067],[109.76455,31.602981],[109.731289,31.700263],[109.585928,31.726731],[109.638282,31.811172],[109.584696,31.900617],[109.631507,31.962059],[109.590855,32.012807],[109.621652,32.106617],[109.592703,32.219568],[109.495385,32.300522],[109.502776,32.389489],[109.575457,32.506629],[109.637051,32.540935],[109.631507,32.599929],[109.726978,32.608498],[109.816905,32.577244],[109.910528,32.592872],[110.017701,32.546987],[110.085454,32.613034],[110.153824,32.593376],[110.206179,32.633191],[110.156903,32.683061],[110.159367,32.767122],[110.10886,32.82999],[109.988752,32.886281],[109.76455,32.909391],[109.794731,33.066977],[109.688174,33.116603],[109.576073,33.110088],[109.438718,33.152177],[109.537268,33.2438],[109.619804,33.27532],[109.732521,33.231288],[109.852013,33.247803],[110.031252,33.191742],[110.164911,33.209265],[110.218497,33.163197],[110.468569,33.181226],[110.54125,33.255809],[110.59422,33.168706],[110.702626,33.097057],[110.745741,33.147167],[110.824582,33.158188],[110.984726,33.255308],[111.032769,33.209265],[111.037081,33.187235],[111.031537,33.17722],[111.056791,33.192743],[111.179363,33.115601],[111.151029,33.053438],[111.238493,33.040899],[111.273601,32.971656],[111.242804,32.930486],[111.293311,32.859145],[111.380159,32.828984],[111.577875,32.593376],[111.640701,32.634703],[111.890157,32.503097],[111.948671,32.517225],[112.014576,32.450098],[112.228923,32.385447],[112.328089,32.321761],[112.390915,32.371298],[112.451893,32.344511],[112.544284,32.403635],[112.729066,32.366245],[112.730914,32.363212],[112.732146,32.362707],[112.733993,32.363718],[112.860877,32.395552],[112.992072,32.378373],[113.025949,32.425354],[113.118956,32.375846],[113.211962,32.431919],[113.425693,32.269161],[113.624642,32.361191],[113.664062,32.422324],[113.752757,32.388478],[113.758301,32.296476],[113.749677,32.272196],[113.783554,32.186153],[113.728735,32.0833],[113.791561,32.036142],[113.838373,31.854889],[113.954785,31.856413],[113.988662,31.750138],[114.088444,31.781677],[114.135871,31.843707],[114.195002,31.850315],[114.292936,31.752173],[114.448769,31.728257],[114.586123,31.762348],[114.549783,31.642721],[114.560869,31.561185],[114.641558,31.582085],[114.696376,31.526001],[114.778912,31.5209],[114.830035,31.458654],[115.024056,31.528551],[115.088729,31.507638],[115.12507,31.598904],[115.235323,31.556597],[115.22054,31.426494],[115.301229,31.384109],[115.373909,31.405559],[115.372062,31.349368],[115.442279,31.346303],[115.457677,31.281384],[115.516191,31.263485],[115.559307,31.160117],[115.646155,31.209768],[115.700973,31.201068],[115.763799,31.118123],[115.869125,31.147828],[115.938726,31.047409],[116.058834,31.012545],[116.071769,30.956633],[115.976298,30.931488],[115.865429,30.864231],[115.851262,30.756829],[115.782893,30.751687],[115.762567,30.685848],[115.819234,30.59782],[115.876516,30.582368],[115.921479,30.416364],[115.903001,30.313631],[115.985537,30.290901],[116.065609,30.204584],[116.091479,30.036385],[116.073616,29.970061],[116.127203,29.899544],[116.13521,29.819634],[115.965827,29.724593],[115.837096,29.748491],[115.667712,29.850257],[115.511264,29.839877],[115.471844,29.742777],[115.359127,29.646623],[115.142316,29.651822],[115.154019,29.51029],[115.00065,29.572235],[114.940904,29.494147],[114.860216,29.475917],[114.931049,29.422252],[114.759818,29.363345],[114.660652,29.393585],[114.519602,29.325271],[114.259059,29.344049],[114.252284,29.234985],[114.061959,29.204176],[113.952321,29.092871],[113.94185,29.047374],[113.877793,29.035343],[113.816199,29.105419],[113.749677,29.060973],[113.66283,29.1697],[113.689931,29.230808],[113.606779,29.253779],[113.686236,29.392021],[113.753373,29.43997],[113.630801,29.523307],[113.736743,29.576918],[113.664678,29.683536],[113.547033,29.675219],[113.566127,29.846105],[113.37765,29.703287],[113.145441,29.449349],[113.078304,29.438407],[113.057362,29.522265],[112.950188,29.472792],[112.912,29.607095],[113.004391,29.692892],[113.020405,29.772384],[112.937869,29.783809],[112.939101,29.768229],[112.926782,29.763036],[112.861493,29.78329],[112.79374,29.736023],[112.788812,29.681457],[112.687182,29.592528],[112.439574,29.633622],[112.369973,29.542048],[112.281278,29.536842],[112.303452,29.585244],[112.111279,29.659622],[112.07617,29.740179],[111.95483,29.796791],[111.962222,29.837282],[111.862439,29.856484],[111.807005,29.904213],[111.723853,29.909399],[111.723853,29.909399],[111.709686,29.897988],[111.709686,29.897988],[111.39063,29.914585],[111.244036,30.039492],[110.929907,30.063316],[110.924364,30.111463],[110.746973,30.113015],[110.712481,30.033277],[110.650887,30.077814],[110.497518,30.05503],[110.557264,29.988201],[110.498134,29.910955],[110.60038,29.839877],[110.642264,29.777578],[110.507373,29.691853],[110.360779,29.635702],[110.219729,29.746413],[110.113788,29.789521],[110.02386,29.769788],[109.869876,29.774462],[109.775637,29.755244],[109.714043,29.673139],[109.717739,29.614897],[109.516326,29.62582],[109.458428,29.513414],[109.343863,29.369602],[109.352487,29.284574],[109.258248,29.21932],[109.274262,29.122146],[109.232378,29.119533]]],[[[113.020405,29.772384],[112.926782,29.692372],[112.926782,29.763036],[112.939101,29.768229],[112.937869,29.783809],[113.020405,29.772384]]],[[[111.032769,33.209265],[111.056791,33.192743],[111.031537,33.17722],[111.037081,33.187235],[111.032769,33.209265]]],[[[109.106111,30.57052],[109.09872,30.579277],[109.100567,30.580823],[109.106727,30.572066],[109.106111,30.57052]]],[[[112.732146,32.362707],[112.730914,32.363212],[112.729066,32.366245],[112.733993,32.363718],[112.732146,32.362707]]]]}},{type:"Feature",properties:{adcode:43e4,name:"\u6E56\u5357\u7701",center:[112.982279,28.19409],centroid:[111.754313,27.655081],childrenNum:14,level:"province",subFeatureIndex:17,acroutes:[1e5],parent:{adcode:1e5}},geometry:{type:"MultiPolygon",coordinates:[[[[109.965962,26.195699],[110.017701,26.343246],[109.932701,26.476145],[109.856325,26.465433],[109.892665,26.525408],[109.82676,26.605681],[109.946252,26.685899],[109.838463,26.72759],[109.821216,26.781017],[109.652449,26.76232],[109.660456,26.709419],[109.590855,26.686433],[109.529261,26.740414],[109.548971,26.737208],[109.548971,26.737208],[109.528029,26.744689],[109.52187,26.748964],[109.504624,26.805051],[109.500928,26.828546],[109.486761,26.895267],[109.555131,26.947015],[109.520022,27.058433],[109.454733,27.069622],[109.472595,27.135136],[109.415928,27.15377],[109.267487,27.128746],[109.164625,27.065893],[109.07901,27.115965],[108.87575,26.999273],[108.791366,27.084539],[108.878829,27.106378],[108.907162,27.2054],[109.040821,27.276151],[109.142451,27.418051],[109.202197,27.449913],[109.300132,27.423893],[109.303211,27.475396],[109.461508,27.567724],[109.470747,27.68011],[109.332777,27.782853],[109.345711,27.840537],[109.30198,27.956342],[109.378972,28.032948],[109.298284,28.036117],[109.340168,28.190216],[109.388211,28.268236],[109.27303,28.310386],[109.274262,28.494592],[109.321074,28.581322],[109.304443,28.623871],[109.201581,28.598133],[109.2989,28.747221],[109.241002,28.776594],[109.235458,28.882476],[109.319842,29.042667],[109.232378,29.119533],[109.274262,29.122146],[109.258248,29.21932],[109.352487,29.284574],[109.343863,29.369602],[109.458428,29.513414],[109.516326,29.62582],[109.717739,29.614897],[109.714043,29.673139],[109.775637,29.755244],[109.869876,29.774462],[110.02386,29.769788],[110.113788,29.789521],[110.219729,29.746413],[110.360779,29.635702],[110.507373,29.691853],[110.642264,29.777578],[110.60038,29.839877],[110.498134,29.910955],[110.557264,29.988201],[110.497518,30.05503],[110.650887,30.077814],[110.712481,30.033277],[110.746973,30.113015],[110.924364,30.111463],[110.929907,30.063316],[111.244036,30.039492],[111.39063,29.914585],[111.709686,29.897988],[111.709686,29.897988],[111.723853,29.909399],[111.723853,29.909399],[111.807005,29.904213],[111.862439,29.856484],[111.962222,29.837282],[111.95483,29.796791],[112.07617,29.740179],[112.111279,29.659622],[112.303452,29.585244],[112.281278,29.536842],[112.369973,29.542048],[112.439574,29.633622],[112.687182,29.592528],[112.788812,29.681457],[112.79374,29.736023],[112.861493,29.78329],[112.926782,29.763036],[112.926782,29.692372],[113.020405,29.772384],[113.004391,29.692892],[112.912,29.607095],[112.950188,29.472792],[113.057362,29.522265],[113.078304,29.438407],[113.145441,29.449349],[113.37765,29.703287],[113.566127,29.846105],[113.547033,29.675219],[113.664678,29.683536],[113.736743,29.576918],[113.630801,29.523307],[113.753373,29.43997],[113.686236,29.392021],[113.606779,29.253779],[113.689931,29.230808],[113.66283,29.1697],[113.749677,29.060973],[113.816199,29.105419],[113.877793,29.035343],[113.94185,29.047374],[113.966488,28.945326],[114.008988,28.955273],[114.076741,28.834266],[114.152502,28.83479],[114.157429,28.761384],[114.08598,28.558201],[114.218407,28.484601],[114.172212,28.432524],[114.252284,28.395687],[114.25598,28.323554],[114.107538,28.182833],[113.992357,28.161207],[114.047176,28.05724],[113.914133,27.991218],[113.864242,28.004954],[113.752141,27.933614],[113.729967,27.887086],[113.763228,27.799262],[113.607395,27.625522],[113.583374,27.524754],[113.632033,27.405303],[113.616635,27.345264],[113.872865,27.385116],[113.848844,27.225087],[113.779242,27.137265],[113.821126,27.037651],[113.927068,26.949149],[113.834677,26.803983],[113.860546,26.663978],[113.915365,26.613706],[114.106306,26.576254],[114.073046,26.480965],[114.085364,26.4065],[114.030546,26.376485],[114.029314,26.266545],[113.944314,26.16402],[114.088444,26.168316],[114.181451,26.214489],[114.237501,26.152204],[114.044096,26.076452],[114.007756,26.007104],[114.028082,25.893586],[113.971416,25.835979],[113.913517,25.701272],[113.983118,25.599332],[113.94493,25.441667],[113.887032,25.436804],[113.822974,25.331935],[113.753373,25.362756],[113.611707,25.326527],[113.611707,25.326527],[113.535946,25.368704],[113.449715,25.359512],[113.373338,25.402758],[113.311129,25.490284],[113.248919,25.514045],[113.11834,25.445449],[113.080151,25.3833],[112.900297,25.311383],[112.867036,25.249706],[112.992688,25.247],[113.034572,25.198285],[112.96805,25.141426],[113.018557,25.082914],[112.979137,25.034133],[113.011782,24.946279],[112.871348,24.895816],[112.780805,24.896901],[112.712436,25.083456],[112.660081,25.132759],[112.414937,25.142509],[112.369357,25.189081],[112.3053,25.157132],[112.187039,25.182584],[112.155626,25.026544],[112.119902,24.963638],[112.175337,24.92729],[112.171025,24.86379],[112.097112,24.826327],[112.024431,24.739955],[111.951135,24.769839],[111.68936,24.778531],[111.570484,24.644821],[111.431282,24.687776],[111.479325,24.797543],[111.470086,24.928917],[111.43313,24.97991],[111.435593,25.09321],[111.321645,25.10513],[111.274833,25.151175],[111.200921,25.074786],[111.101754,25.035218],[111.100522,24.945736],[110.991501,24.924034],[110.951465,25.043891],[110.998892,25.161465],[111.112841,25.217232],[111.103602,25.284877],[111.301319,25.450851],[111.343202,25.602569],[111.30871,25.72014],[111.442369,25.771877],[111.43313,25.84621],[111.49226,25.868824],[111.346282,25.906504],[111.252043,25.864517],[111.189834,25.953318],[111.267442,26.058716],[111.279761,26.271911],[111.204616,26.307852],[111.092515,26.306779],[110.94469,26.373805],[110.939146,26.28425],[110.76114,26.248838],[110.612083,26.333594],[110.555416,26.286396],[110.516612,26.186035],[110.373098,26.08935],[110.325671,25.975373],[110.257301,25.961388],[110.201251,26.066241],[110.165527,26.023773],[110.065128,26.051191],[110.099005,26.16939],[109.965962,26.195699]]],[[[109.48245,26.029687],[109.449805,26.101709],[109.486761,26.148445],[109.486761,26.148445],[109.439334,26.238641],[109.466435,26.314288],[109.340784,26.264399],[109.285965,26.296052],[109.326001,26.427398],[109.407305,26.532902],[109.35495,26.693383],[109.454117,26.761252],[109.52187,26.748964],[109.528029,26.744689],[109.529261,26.740414],[109.590855,26.686433],[109.660456,26.709419],[109.652449,26.76232],[109.821216,26.781017],[109.838463,26.72759],[109.946252,26.685899],[109.82676,26.605681],[109.892665,26.525408],[109.856325,26.465433],[109.932701,26.476145],[110.017701,26.343246],[109.965962,26.195699],[109.906832,26.143611],[109.864332,26.027537],[109.783028,25.988282],[109.806434,25.874746],[109.685094,25.880129],[109.730057,25.989895],[109.635203,26.047428],[109.513247,25.997962],[109.48245,26.029687]]]]}},{type:"Feature",properties:{adcode:44e4,name:"\u5E7F\u4E1C\u7701",center:[113.280637,23.125178],centroid:[113.429877,23.334664],childrenNum:22,level:"province",subFeatureIndex:18,acroutes:[1e5],parent:{adcode:1e5}},geometry:{type:"MultiPolygon",coordinates:[[[[109.785492,21.457116],[109.742992,21.61629],[109.898209,21.649661],[109.940709,21.734723],[109.94502,21.844172],[110.051578,21.856945],[110.119947,21.901918],[110.200019,21.898587],[110.200019,21.898587],[110.388497,21.89026],[110.355236,22.061709],[110.355236,22.061709],[110.350924,22.072799],[110.350924,22.072799],[110.414366,22.20858],[110.488895,22.144863],[110.560344,22.196393],[110.629329,22.149296],[110.646575,22.222982],[110.725415,22.295522],[110.785777,22.294415],[110.711249,22.369684],[110.778386,22.585304],[111.055559,22.648268],[111.056791,22.72776],[111.202152,22.740452],[111.358601,22.889362],[111.363528,22.968713],[111.433746,23.036456],[111.377695,23.082149],[111.388782,23.210337],[111.353673,23.28895],[111.399869,23.469638],[111.479941,23.532738],[111.487332,23.62651],[111.615448,23.639117],[111.667187,23.718023],[111.621607,23.725692],[111.664723,23.83465],[111.8107,23.806735],[111.812548,23.887727],[111.940664,23.987803],[111.878454,24.110195],[111.877838,24.229196],[111.939432,24.230287],[112.029975,24.297925],[112.057692,24.387327],[111.985011,24.467953],[112.007185,24.534376],[111.937584,24.595323],[111.961606,24.720934],[112.024431,24.739955],[112.097112,24.826327],[112.171025,24.86379],[112.175337,24.92729],[112.119902,24.963638],[112.155626,25.026544],[112.187039,25.182584],[112.3053,25.157132],[112.369357,25.189081],[112.414937,25.142509],[112.660081,25.132759],[112.712436,25.083456],[112.780805,24.896901],[112.871348,24.895816],[113.011782,24.946279],[112.979137,25.034133],[113.018557,25.082914],[112.96805,25.141426],[113.034572,25.198285],[112.992688,25.247],[112.867036,25.249706],[112.900297,25.311383],[113.080151,25.3833],[113.11834,25.445449],[113.248919,25.514045],[113.311129,25.490284],[113.373338,25.402758],[113.449715,25.359512],[113.535946,25.368704],[113.611707,25.326527],[113.611707,25.326527],[113.753373,25.362756],[113.822974,25.331935],[113.887032,25.436804],[113.94493,25.441667],[114.051488,25.348699],[114.039785,25.250789],[114.13156,25.30922],[114.262755,25.29191],[114.31511,25.338424],[114.381015,25.31571],[114.535616,25.41681],[114.63663,25.324364],[114.743188,25.274597],[114.679746,25.194495],[114.735796,25.121925],[114.640326,25.073702],[114.561485,25.077495],[114.506051,24.999975],[114.395798,24.951161],[114.403189,24.877361],[114.33482,24.747562],[114.27261,24.700279],[114.169132,24.689407],[114.258443,24.641558],[114.308334,24.574104],[114.391486,24.562677],[114.428443,24.486468],[114.534384,24.558867],[114.589819,24.537642],[114.664963,24.583898],[114.704999,24.526211],[114.729637,24.608924],[114.868839,24.562132],[114.909491,24.661679],[115.056701,24.703541],[115.095505,24.674184],[115.308004,24.758429],[115.358511,24.735064],[115.412714,24.792654],[115.556227,24.682883],[115.573474,24.617083],[115.67264,24.604028],[115.688038,24.545261],[115.845103,24.563221],[115.756408,24.749192],[115.822313,24.90884],[115.907313,24.880075],[115.89253,24.937056],[116.014486,24.905584],[116.068073,24.849675],[116.18079,24.87519],[116.245464,24.793197],[116.376659,24.820353],[116.44626,24.714412],[116.486912,24.71876],[116.525716,24.604572],[116.597165,24.65461],[116.778867,24.680165],[116.815207,24.655154],[116.761005,24.58281],[116.789338,24.50988],[116.860787,24.462507],[116.903903,24.369888],[116.933468,24.21992],[116.998757,24.178988],[116.9347,24.127123],[116.939627,24.033713],[116.981511,23.999282],[116.980279,23.881709],[117.012308,23.855446],[117.053576,23.696657],[117.192778,23.629799],[117.192778,23.561809],[117.054192,23.542064],[117.01046,23.502564],[116.921765,23.53219],[116.874953,23.447683],[116.874338,23.447683],[116.871258,23.416391],[116.871874,23.415842],[116.782563,23.313679],[116.806584,23.200989],[116.74499,23.215286],[116.550969,23.109668],[116.576839,23.014429],[116.50539,22.930696],[116.382818,22.919124],[116.317528,22.952736],[116.226985,22.914715],[116.106877,22.817685],[116.073616,22.8425],[115.883291,22.785142],[115.796444,22.739349],[115.788437,22.809964],[115.654162,22.865657],[115.542677,22.76142],[115.606119,22.754799],[115.57409,22.650477],[115.471844,22.697956],[115.381301,22.684156],[115.338185,22.776867],[115.230396,22.776867],[115.236555,22.825406],[115.054853,22.777419],[115.04007,22.712307],[114.87623,22.589724],[114.747499,22.581437],[114.728405,22.651029],[114.749963,22.764179],[114.709927,22.7879],[114.512826,22.655446],[114.603369,22.63888],[114.559022,22.583094],[114.616304,22.54276],[114.611377,22.481959],[114.485109,22.446572],[114.467863,22.533365],[114.41058,22.599667],[114.232574,22.539997],[114.185762,22.551601],[114.185762,22.551601],[114.045944,22.502413],[114.044096,22.502413],[114.031778,22.504071],[113.959097,22.505177],[113.891959,22.442701],[113.733663,22.73659],[113.678228,22.726104],[113.740438,22.53447],[113.631417,22.475877],[113.669605,22.416154],[113.558736,22.213012],[113.553809,22.107727],[113.442324,22.009575],[113.330223,21.961861],[113.246455,21.880266],[113.091854,22.065591],[113.032724,22.072799],[113.037652,21.935223],[112.944645,21.84195],[112.795587,21.923567],[112.651458,21.761954],[112.523342,21.760842],[112.439574,21.803624],[112.415553,21.734723],[112.24001,21.701371],[112.192583,21.78918],[112.036134,21.761398],[111.951135,21.671904],[112.026895,21.633533],[111.811316,21.558985],[111.810084,21.604609],[111.693672,21.590144],[111.677658,21.52949],[111.382623,21.495534],[111.257587,21.413675],[111.28284,21.485513],[111.061102,21.44932],[110.929291,21.375792],[110.799328,21.374678],[110.626249,21.215797],[110.422373,21.190695],[110.388497,21.125968],[110.296722,21.093594],[110.180925,20.981905],[110.201251,20.867337],[110.390344,20.820367],[110.392192,20.682727],[110.466105,20.680488],[110.548025,20.477715],[110.545561,20.42726],[110.452554,20.311151],[110.349076,20.258958],[110.118099,20.219661],[110.082375,20.258958],[109.910528,20.224152],[109.916071,20.316762],[109.861252,20.376789],[109.888354,20.475473],[109.839695,20.489485],[109.793499,20.61554],[109.74484,20.62114],[109.730057,20.719667],[109.654913,20.903673],[109.674623,21.136572],[109.763934,21.226395],[109.757775,21.346816],[109.868644,21.365763],[109.894513,21.44208],[109.785492,21.457116]]],[[[117.100387,23.401566],[116.946402,23.421881],[117.129336,23.483358],[117.100387,23.401566]]],[[[112.853486,21.74028],[112.804826,21.686361],[112.817145,21.590144],[112.730914,21.613509],[112.782037,21.665788],[112.70566,21.679133],[112.831312,21.77529],[112.853486,21.74028]]],[[[112.625588,21.616847],[112.535045,21.628527],[112.663776,21.714157],[112.625588,21.616847]]],[[[110.495054,21.075171],[110.560344,21.061213],[110.535706,20.923235],[110.47288,20.983022],[110.347845,20.984698],[110.201251,20.938324],[110.211106,20.986933],[110.305961,21.088012],[110.495054,21.075171]]],[[[110.501829,21.142711],[110.431612,21.181211],[110.634256,21.21022],[110.582517,21.094711],[110.501829,21.142711]]],[[[116.769628,20.771704],[116.88604,20.77562],[116.934084,20.67657],[116.862635,20.588657],[116.749302,20.600979],[116.849084,20.62842],[116.87249,20.738134],[116.769628,20.771704]]],[[[110.598532,20.857273],[110.548641,20.908703],[110.584365,20.948941],[110.646575,20.917087],[110.598532,20.857273]]],[[[115.943037,21.097502],[116.044051,21.11034],[116.067457,21.040552],[115.989233,21.035526],[115.943037,21.097502]]]]}},{type:"Feature",properties:{adcode:45e4,name:"\u5E7F\u897F\u58EE\u65CF\u81EA\u6CBB\u533A",center:[108.320004,22.82402],centroid:[108.794237,23.833575],childrenNum:14,level:"province",subFeatureIndex:19,acroutes:[1e5],parent:{adcode:1e5}},geometry:{type:"MultiPolygon",coordinates:[[[[112.024431,24.739955],[111.961606,24.720934],[111.937584,24.595323],[112.007185,24.534376],[111.985011,24.467953],[112.057692,24.387327],[112.029975,24.297925],[111.939432,24.230287],[111.877838,24.229196],[111.878454,24.110195],[111.940664,23.987803],[111.812548,23.887727],[111.8107,23.806735],[111.664723,23.83465],[111.621607,23.725692],[111.667187,23.718023],[111.615448,23.639117],[111.487332,23.62651],[111.479941,23.532738],[111.399869,23.469638],[111.353673,23.28895],[111.388782,23.210337],[111.377695,23.082149],[111.433746,23.036456],[111.363528,22.968713],[111.358601,22.889362],[111.202152,22.740452],[111.056791,22.72776],[111.055559,22.648268],[110.778386,22.585304],[110.711249,22.369684],[110.785777,22.294415],[110.725415,22.295522],[110.646575,22.222982],[110.629329,22.149296],[110.560344,22.196393],[110.488895,22.144863],[110.414366,22.20858],[110.350924,22.072799],[110.350924,22.072799],[110.355236,22.061709],[110.355236,22.061709],[110.388497,21.89026],[110.200019,21.898587],[110.200019,21.898587],[110.119947,21.901918],[110.051578,21.856945],[109.94502,21.844172],[109.940709,21.734723],[109.898209,21.649661],[109.742992,21.61629],[109.785492,21.457116],[109.704188,21.462684],[109.612413,21.55676],[109.540964,21.466025],[109.245929,21.425929],[109.138756,21.389163],[109.042669,21.464355],[109.150459,21.523924],[109.142451,21.56455],[108.937959,21.589588],[108.881293,21.627415],[108.74517,21.599046],[108.710062,21.646881],[108.591802,21.677465],[108.479085,21.546743],[108.338651,21.541177],[108.230245,21.49108],[108.235173,21.60294],[108.106441,21.508895],[108.030681,21.546186],[107.956768,21.535055],[107.860066,21.651886],[107.546553,21.58625],[107.46956,21.659671],[107.388256,21.594039],[107.310648,21.733611],[107.247206,21.703039],[107.088294,21.805291],[107.011917,21.826399],[107.05996,21.915241],[106.999598,21.947433],[106.73844,22.007911],[106.681158,21.995152],[106.717498,22.074463],[106.673151,22.182543],[106.7021,22.206918],[106.663296,22.330948],[106.562282,22.34589],[106.562282,22.462608],[106.61402,22.601876],[106.710723,22.57536],[106.768621,22.739349],[106.841302,22.799484],[106.606013,22.925737],[106.366413,22.857939],[106.286957,22.86676],[106.206885,22.978629],[106.019639,22.990747],[105.994385,22.93786],[105.893987,22.936758],[105.724604,23.062332],[105.574931,23.066186],[105.542902,23.18449],[105.531815,23.248275],[105.694423,23.363122],[105.699966,23.401566],[105.815763,23.506953],[105.89214,23.525058],[105.999929,23.447683],[106.141595,23.569487],[106.120653,23.605129],[106.157609,23.724048],[106.136667,23.795238],[106.192102,23.824798],[106.04982,24.089986],[105.933407,24.123847],[105.89214,24.040271],[105.704278,24.066497],[105.649459,24.033167],[105.628518,24.126577],[105.529967,24.129308],[105.481924,24.018958],[105.320548,24.116202],[105.260186,24.061033],[105.20044,24.105279],[105.229389,24.165888],[105.164715,24.288109],[105.188121,24.346995],[105.063085,24.429281],[105.063085,24.429281],[104.979933,24.412937],[104.83642,24.446712],[104.72863,24.446167],[104.70892,24.321372],[104.610986,24.376973],[104.492109,24.656241],[104.529682,24.73126],[104.63316,24.65896],[104.743413,24.621978],[104.841963,24.676359],[104.899245,24.752996],[105.03352,24.787765],[105.077868,24.918065],[105.082179,24.915895],[105.096346,24.928375],[105.09573,24.928375],[105.198592,24.995095],[105.265729,24.930003],[105.365511,24.943566],[105.445584,24.918608],[105.500402,24.807862],[105.70551,24.768752],[105.827466,24.702997],[105.942031,24.724738],[106.023335,24.632313],[106.045508,24.681796],[106.173008,24.760059],[106.206269,24.851304],[106.146522,24.948449],[106.215508,24.982079],[106.304819,24.973944],[106.590615,25.087791],[106.684238,25.178252],[106.732281,25.162548],[106.900432,25.194495],[106.912751,25.243212],[107.013765,25.275138],[107.012533,25.353024],[106.963874,25.437884],[107.066736,25.509186],[107.064272,25.559395],[107.228728,25.604728],[107.336517,25.461116],[107.318039,25.401677],[107.420901,25.393029],[107.432604,25.289205],[107.481263,25.300024],[107.472024,25.213984],[107.599523,25.250789],[107.659885,25.316251],[107.700537,25.193954],[107.741805,25.239965],[107.841587,25.115966],[108.001732,25.196661],[108.115065,25.210195],[108.152021,25.324364],[108.142782,25.390867],[108.348506,25.536183],[108.418723,25.443287],[108.471693,25.458955],[108.625062,25.308138],[108.6072,25.491904],[108.68912,25.623072],[108.763649,25.637097],[108.781511,25.554537],[108.949046,25.557236],[109.025423,25.512426],[109.088249,25.550758],[109.030966,25.629545],[109.07901,25.720679],[109.000785,25.73631],[108.953974,25.686714],[108.953974,25.686714],[108.896076,25.71421],[108.989698,25.778881],[109.143683,25.795044],[109.147995,25.7417],[109.3414,25.732537],[109.339552,25.834363],[109.435022,25.933411],[109.408537,25.967305],[109.48245,26.029687],[109.513247,25.997962],[109.635203,26.047428],[109.730057,25.989895],[109.685094,25.880129],[109.806434,25.874746],[109.783028,25.988282],[109.864332,26.027537],[109.906832,26.143611],[109.965962,26.195699],[110.099005,26.16939],[110.065128,26.051191],[110.165527,26.023773],[110.201251,26.066241],[110.257301,25.961388],[110.325671,25.975373],[110.373098,26.08935],[110.516612,26.186035],[110.555416,26.286396],[110.612083,26.333594],[110.76114,26.248838],[110.939146,26.28425],[110.94469,26.373805],[111.092515,26.306779],[111.204616,26.307852],[111.279761,26.271911],[111.267442,26.058716],[111.189834,25.953318],[111.252043,25.864517],[111.346282,25.906504],[111.49226,25.868824],[111.43313,25.84621],[111.442369,25.771877],[111.30871,25.72014],[111.343202,25.602569],[111.301319,25.450851],[111.103602,25.284877],[111.112841,25.217232],[110.998892,25.161465],[110.951465,25.043891],[110.991501,24.924034],[111.100522,24.945736],[111.101754,25.035218],[111.200921,25.074786],[111.274833,25.151175],[111.321645,25.10513],[111.435593,25.09321],[111.43313,24.97991],[111.470086,24.928917],[111.479325,24.797543],[111.431282,24.687776],[111.570484,24.644821],[111.68936,24.778531],[111.951135,24.769839],[112.024431,24.739955]]],[[[105.082179,24.915895],[105.077868,24.918065],[105.09573,24.928375],[105.096346,24.928375],[105.082179,24.915895]]]]}},{type:"Feature",properties:{adcode:46e4,name:"\u6D77\u5357\u7701",center:[110.33119,20.031971],centroid:[109.754777,19.189617],childrenNum:19,level:"province",subFeatureIndex:20,acroutes:[1e5],parent:{adcode:1e5}},geometry:{type:"MultiPolygon",coordinates:[[[[109.231147,19.863293],[109.300748,19.917868],[109.498464,19.873422],[109.585312,19.98817],[109.712195,20.017406],[109.76147,19.981422],[109.965346,19.993792],[110.106396,20.026963],[110.144585,20.074176],[110.291178,20.056754],[110.318279,20.109015],[110.526467,20.0753],[110.562191,20.109577],[110.717408,20.148901],[110.744509,20.074176],[110.871393,20.011784],[110.969327,20.010097],[111.071573,19.629025],[110.920668,19.552926],[110.844292,19.450278],[110.729727,19.378611],[110.619474,19.152118],[110.578206,18.78489],[110.499366,18.751466],[110.495054,18.65002],[110.329366,18.64265],[110.246215,18.609764],[110.117483,18.507666],[110.090382,18.399262],[110.022629,18.360083],[109.919767,18.375415],[109.785492,18.339639],[109.749767,18.193617],[109.584696,18.143589],[109.355566,18.215216],[109.287813,18.264655],[109.138756,18.268064],[109.117814,18.322032],[108.944735,18.31408],[108.888068,18.412319],[108.68912,18.447513],[108.644772,18.486672],[108.663866,18.673261],[108.593033,18.809246],[108.637997,18.920785],[108.591186,19.14477],[108.609048,19.276417],[108.663866,19.374095],[108.765496,19.401187],[109.048829,19.620007],[109.169553,19.736628],[109.159082,19.790684],[109.231147,19.863293]]],[[[113.896887,7.607259],[114.029314,7.670119],[114.211632,7.786918],[114.268298,7.870496],[114.414892,7.952872],[114.540543,7.945761],[114.540543,7.862199],[114.419819,7.765577],[114.368696,7.63869],[114.157429,7.56159],[113.98743,7.536085],[113.896887,7.607259]]],[[[111.660411,16.258092],[111.606825,16.17766],[111.569252,16.195472],[111.660411,16.258092]]],[[[113.976959,8.872658],[114.060111,8.816493],[114.037321,8.781016],[113.976959,8.872658]]],[[[112.067547,16.319543],[111.97454,16.323563],[112.047221,16.360309],[112.067547,16.319543]]],[[[115.837712,9.709358],[115.925791,9.7813],[115.901153,9.671021],[115.837712,9.709358]]],[[[109.463972,7.344453],[109.536037,7.448882],[109.653065,7.559218],[109.72205,7.575825],[109.904984,7.551507],[109.938861,7.504647],[109.791651,7.524815],[109.654297,7.479138],[109.513247,7.320122],[109.463972,7.344453]]],[[[112.527654,16.058099],[112.607726,16.066724],[112.570154,16.010945],[112.448814,16.005194],[112.527654,16.058099]]],[[[114.469095,10.83618],[114.587355,10.90904],[114.565181,10.836767],[114.469095,10.83618]]],[[[112.383524,16.266134],[112.528886,16.318395],[112.538741,16.289107],[112.383524,16.266134]]],[[[116.48876,10.395704],[116.514629,10.349208],[116.637817,10.3651],[116.566368,10.304472],[116.467202,10.309182],[116.48876,10.395704]]],[[[115.16757,8.386402],[115.315395,8.356213],[115.285214,8.314772],[115.18112,8.345557],[115.16757,8.386402]]],[[[109.936397,7.848566],[109.953027,7.888869],[110.078063,7.949317],[110.050346,7.846195],[109.988136,7.812408],[109.936397,7.848566]]],[[[114.696992,11.004203],[114.766593,11.110489],[114.793079,11.076435],[114.696992,11.004203]]],[[[110.459946,8.116389],[110.568351,8.172657],[110.554184,8.09388],[110.471032,8.071962],[110.459946,8.116389]]],[[[117.266691,10.691581],[117.369553,10.742727],[117.404661,10.671002],[117.266691,10.691581]]],[[[113.80696,19.223319],[113.920293,19.223319],[113.874097,19.151553],[113.80696,19.223319]]]]}},{type:"Feature",properties:{adcode:5e5,name:"\u91CD\u5E86\u5E02",center:[106.504962,29.533155],centroid:[107.88398,30.067321],childrenNum:38,level:"province",subFeatureIndex:21,acroutes:[1e5],parent:{adcode:1e5}},geometry:{type:"MultiPolygon",coordinates:[[[[109.09256,30.578762],[109.114734,30.64416],[108.971836,30.627686],[108.808612,30.491153],[108.743939,30.494762],[108.688504,30.587519],[108.56778,30.468464],[108.42673,30.492184],[108.402092,30.376626],[108.460606,30.35959],[108.581947,30.255763],[108.56778,30.157517],[108.513577,30.057619],[108.542526,29.998047],[108.516041,29.885539],[108.371295,29.841434],[108.424266,29.816],[108.437201,29.741218],[108.504338,29.707964],[108.602273,29.865824],[108.666946,29.842472],[108.690968,29.689773],[108.785822,29.633622],[108.844337,29.658582],[108.91209,29.571714],[108.880677,29.442576],[108.927488,29.435281],[108.919481,29.326314],[109.11227,29.360737],[109.110422,29.215143],[109.232378,29.119533],[109.319842,29.042667],[109.235458,28.882476],[109.241002,28.776594],[109.2989,28.747221],[109.201581,28.598133],[109.304443,28.623871],[109.321074,28.581322],[109.274262,28.494592],[109.191726,28.470927],[109.152306,28.349885],[109.081473,28.249264],[109.086401,28.184942],[109.026655,28.220271],[109.006329,28.163317],[108.922561,28.217635],[108.772888,28.21289],[108.726692,28.282463],[108.764881,28.306698],[108.779663,28.425158],[108.710678,28.500902],[108.640461,28.457251],[108.688504,28.422527],[108.668178,28.334614],[108.611512,28.324607],[108.577019,28.534024],[108.636149,28.621245],[108.565316,28.662204],[108.471077,28.627548],[108.332491,28.679528],[108.385462,28.772398],[108.352817,28.815395],[108.350353,28.933282],[108.268433,29.089734],[108.256115,29.040574],[108.068253,29.086597],[108.024521,29.038482],[107.930899,29.035343],[107.867457,28.960508],[107.784921,29.04842],[107.810791,29.138348],[107.751044,29.199997],[107.701769,29.142006],[107.589052,29.149845],[107.570574,29.218276],[107.486806,29.174402],[107.404271,29.187984],[107.412894,29.095485],[107.36485,29.010753],[107.441227,28.943755],[107.383945,28.848417],[107.219489,28.772923],[107.191156,28.888763],[107.057497,28.895049],[106.983584,28.851561],[106.986664,28.793899],[106.986664,28.793899],[106.926302,28.809104],[106.824056,28.756139],[106.883186,28.69265],[106.866556,28.624397],[106.73844,28.554522],[106.7446,28.465667],[106.632499,28.503531],[106.564745,28.485127],[106.63681,28.623346],[106.562897,28.753516],[106.45326,28.816968],[106.504999,28.662204],[106.484057,28.530344],[106.395978,28.570287],[106.37442,28.525613],[106.304203,28.650653],[106.248152,28.829024],[106.173008,28.92019],[106.048588,28.906573],[106.043661,28.954226],[105.970364,28.966267],[105.88906,28.909716],[105.762176,28.991391],[105.693807,29.267351],[105.518264,29.264219],[105.427721,29.316924],[105.428337,29.417562],[105.380294,29.456643],[105.380294,29.456643],[105.324859,29.448828],[105.289751,29.552979],[105.38399,29.67002],[105.476996,29.674699],[105.575547,29.745374],[105.619894,29.846624],[105.709206,29.840396],[105.70243,29.924957],[105.753553,30.018254],[105.687648,30.038974],[105.582938,30.123884],[105.582938,30.127507],[105.580474,30.129577],[105.574315,30.130611],[105.56138,30.183898],[105.571235,30.17976],[105.642684,30.186484],[105.624822,30.275917],[105.720292,30.252662],[105.720292,30.252662],[105.714749,30.322927],[105.792357,30.427199],[105.881053,30.387465],[106.031958,30.373529],[106.10587,30.310531],[106.17116,30.306399],[106.180399,30.23302],[106.256776,30.19631],[106.262935,30.211306],[106.428623,30.254729],[106.451412,30.307949],[106.451412,30.307949],[106.610941,30.292451],[106.610941,30.292451],[106.612789,30.235605],[106.612789,30.235605],[106.612173,30.235605],[106.612173,30.235605],[106.611557,30.235605],[106.612173,30.235605],[106.611557,30.235605],[106.677462,30.157],[106.726121,30.033277],[106.825904,30.031205],[106.825904,30.031205],[106.913367,30.025506],[106.974345,30.082992],[106.976193,30.083509],[106.980504,30.085062],[106.981736,30.085062],[107.053801,30.043636],[107.054417,30.041046],[107.055649,30.040528],[107.058113,30.043118],[107.221337,30.213891],[107.359923,30.456087],[107.516987,30.644675],[107.424597,30.740889],[107.514524,30.854986],[107.645103,30.821079],[107.739957,30.884259],[107.763979,30.816968],[107.85329,30.793842],[107.994956,30.90839],[107.943833,30.989466],[108.053471,31.040745],[108.009123,31.10839],[108.083652,31.185713],[108.095354,31.268088],[108.185898,31.337104],[108.153869,31.371338],[108.216079,31.410666],[108.191441,31.492333],[108.34173,31.509679],[108.391621,31.593298],[108.517889,31.665131],[108.535135,31.757769],[108.343578,31.860987],[108.259194,31.966628],[108.373759,32.077217],[108.447672,32.07164],[108.369447,32.173493],[108.509882,32.201343],[108.67249,32.104083],[108.734084,32.106617],[108.902235,31.984899],[108.988466,31.979317],[109.164009,31.877247],[109.195422,31.817782],[109.273646,31.801003],[109.281654,31.717061],[109.585928,31.726731],[109.731289,31.700263],[109.76455,31.602981],[109.719586,31.555067],[109.848934,31.552008],[109.946252,31.506108],[110.054042,31.410666],[110.140273,31.390238],[110.189548,31.129391],[110.119947,31.088409],[110.135961,30.986902],[110.172918,30.978694],[110.082375,30.799496],[110.008462,30.883746],[109.893897,30.899662],[109.780564,30.848822],[109.590855,30.693566],[109.435638,30.59576],[109.35495,30.487028],[109.36111,30.550942],[109.299516,30.630775],[109.143683,30.521052],[109.103647,30.565883],[109.106111,30.57052],[109.106727,30.572066],[109.108575,30.576702],[109.102415,30.580308],[109.100567,30.580823],[109.09872,30.579277],[109.09256,30.578762]]],[[[105.574315,30.130611],[105.580474,30.129577],[105.582938,30.127507],[105.582938,30.123884],[105.574315,30.130611]]],[[[109.09256,30.578762],[109.09872,30.579277],[109.106111,30.57052],[109.103647,30.565883],[109.09256,30.578762]]],[[[109.102415,30.580308],[109.108575,30.576702],[109.106727,30.572066],[109.100567,30.580823],[109.102415,30.580308]]],[[[107.053801,30.043636],[107.058113,30.043118],[107.055649,30.040528],[107.054417,30.041046],[107.053801,30.043636]]]]}},{type:"Feature",properties:{adcode:51e4,name:"\u56DB\u5DDD\u7701",center:[104.065735,30.659462],centroid:[102.693438,30.674548],childrenNum:21,level:"province",subFeatureIndex:22,acroutes:[1e5],parent:{adcode:1e5}},geometry:{type:"MultiPolygon",coordinates:[[[[105.720292,30.252662],[105.720292,30.252662],[105.624822,30.275917],[105.642684,30.186484],[105.571235,30.17976],[105.56138,30.188035],[105.558916,30.18545],[105.56138,30.183898],[105.574315,30.130611],[105.582938,30.123884],[105.687648,30.038974],[105.753553,30.018254],[105.70243,29.924957],[105.709206,29.840396],[105.619894,29.846624],[105.575547,29.745374],[105.476996,29.674699],[105.38399,29.67002],[105.289751,29.552979],[105.324859,29.448828],[105.380294,29.456643],[105.380294,29.456643],[105.428337,29.417562],[105.427721,29.316924],[105.518264,29.264219],[105.693807,29.267351],[105.762176,28.991391],[105.88906,28.909716],[105.970364,28.966267],[106.043661,28.954226],[106.048588,28.906573],[106.173008,28.92019],[106.248152,28.829024],[106.304203,28.650653],[106.37442,28.525613],[106.330688,28.481971],[106.2925,28.537177],[106.103407,28.636476],[105.966668,28.76086],[105.891524,28.672179],[105.884748,28.594981],[105.749242,28.614943],[105.683952,28.535601],[105.62359,28.518253],[105.639604,28.32408],[105.730147,28.271925],[105.826234,28.304064],[105.88906,28.238722],[105.860111,28.165955],[105.975907,28.107917],[106.126812,28.16701],[106.206885,28.134302],[106.328225,27.952643],[106.304819,27.899249],[106.343007,27.821489],[106.193334,27.754265],[106.120653,27.779677],[106.023335,27.746851],[105.78435,27.719312],[105.62359,27.666333],[105.605112,27.715605],[105.508409,27.769089],[105.353809,27.74897],[105.308229,27.705011],[105.273736,27.795028],[105.308229,27.810376],[105.308229,27.810376],[105.244171,27.823077],[105.233084,27.895547],[105.284823,27.935729],[105.270657,27.99703],[105.186273,27.995445],[105.186889,28.0546],[105.05939,28.097889],[104.872144,27.905594],[104.743413,27.901892],[104.573413,27.840537],[104.40095,27.952114],[104.354139,28.019744],[104.44653,28.112666],[104.44961,28.269817],[104.384936,28.329874],[104.314103,28.306698],[104.254357,28.408844],[104.261748,28.537177],[104.318415,28.538229],[104.425588,28.626497],[104.314719,28.615468],[104.12501,28.637526],[103.940844,28.606013],[103.844757,28.660104],[103.838598,28.587101],[103.781931,28.525613],[103.877402,28.311966],[103.721569,28.201817],[103.639649,28.261912],[103.573128,28.230815],[103.471498,28.123221],[103.430846,28.044039],[103.488128,28.03242],[103.515846,27.965326],[103.487512,27.795028],[103.29226,27.632943],[103.295955,27.568785],[103.222043,27.566133],[103.111789,27.401054],[102.989833,27.368114],[102.941174,27.405303],[102.882044,27.293168],[102.913457,27.133538],[102.870957,27.026992],[102.898674,26.908073],[102.991681,26.775675],[103.018783,26.593911],[103.056971,26.525943],[102.989833,26.483108],[102.998457,26.371661],[102.739762,26.268691],[102.674473,26.205363],[102.60056,26.250448],[102.638748,26.307852],[102.567915,26.36362],[102.392372,26.296588],[102.349257,26.244545],[102.245163,26.212341],[102.107808,26.068391],[102.005562,26.091499],[102.005562,26.091499],[101.917483,26.108156],[101.86328,26.052266],[101.799223,26.109231],[101.807846,26.156501],[101.690202,26.241861],[101.630455,26.224687],[101.586724,26.279422],[101.660636,26.346999],[101.636615,26.395245],[101.506652,26.499708],[101.458608,26.495424],[101.400094,26.605146],[101.451833,26.600867],[101.453065,26.692848],[101.512195,26.756443],[101.389623,26.723314],[101.357594,26.770868],[101.399478,26.841893],[101.267667,26.902737],[101.264587,26.955549],[101.136472,27.023794],[101.170349,27.195821],[101.057016,27.20061],[101.021907,27.332508],[100.936908,27.469026],[100.848212,27.670573],[100.782307,27.691767],[100.707162,27.80085],[100.681293,27.923041],[100.633866,27.915111],[100.54517,27.809318],[100.442924,27.866459],[100.327744,27.720372],[100.295099,27.869633],[100.210715,27.877037],[100.196549,27.936257],[100.086296,28.030836],[100.033941,28.184942],[100.157129,28.210254],[100.176223,28.324607],[100.054267,28.376737],[100.073977,28.42621],[99.990209,28.476712],[99.987129,28.524561],[99.793724,28.699473],[99.733362,28.719415],[99.717964,28.846321],[99.625573,28.814871],[99.615718,28.741975],[99.532566,28.681628],[99.463581,28.549266],[99.403219,28.546638],[99.437095,28.398318],[99.374886,28.181778],[99.306516,28.227652],[99.280647,28.298269],[99.174705,28.402003],[99.183944,28.588677],[99.126662,28.699473],[99.103872,28.842128],[99.132206,28.948467],[99.113727,29.221409],[99.075539,29.314316],[99.052133,29.563908],[98.993003,29.656502],[99.0238,29.846105],[99.068148,29.93118],[99.044742,30.079885],[98.989308,30.151826],[98.907388,30.698196],[98.957895,30.765056],[98.901844,30.785105],[98.774345,30.907877],[98.806374,30.995621],[98.736772,31.049459],[98.709671,31.118635],[98.602498,31.192367],[98.64007,31.337615],[98.691809,31.333016],[98.773113,31.249163],[98.88583,31.376446],[98.837787,31.436705],[98.713367,31.510189],[98.553839,31.656473],[98.543983,31.718588],[98.414636,31.832525],[98.434962,32.007734],[98.301919,32.12334],[98.218768,32.234752],[98.218768,32.342489],[97.937283,32.484425],[97.730944,32.527315],[97.543698,32.621602],[97.42359,32.704713],[97.386018,32.779196],[97.373699,32.956094],[97.523988,32.988721],[97.542466,33.036385],[97.487648,33.10658],[97.487648,33.168205],[97.576343,33.221779],[97.621306,33.334327],[97.676125,33.340825],[97.753733,33.410277],[97.625618,33.461705],[97.552321,33.465698],[97.52522,33.575937],[97.415583,33.605343],[97.435293,33.680558],[97.388481,33.884452],[97.458698,33.886935],[97.660111,33.956444],[97.70261,34.036805],[97.665654,34.126997],[97.834421,34.208186],[97.937283,34.196804],[97.937283,34.196804],[98.051848,34.115604],[98.21076,34.078444],[98.401702,34.08786],[98.440506,33.981255],[98.406629,33.867065],[98.462064,33.849178],[98.539056,33.746752],[98.6567,33.647193],[98.61728,33.63723],[98.648077,33.549014],[98.742316,33.477677],[98.734309,33.409278],[98.779272,33.37181],[98.759562,33.277321],[98.858728,33.150674],[99.002242,33.08252],[99.179633,33.044912],[99.235067,32.982197],[99.268328,32.878744],[99.385973,32.900349],[99.558436,32.839039],[99.607711,32.780705],[99.763543,32.778693],[99.788181,32.956596],[99.854086,32.945048],[99.877492,33.045915],[99.956332,32.948061],[100.038252,32.928979],[100.123252,32.837028],[100.139266,32.724346],[100.088143,32.668959],[100.208252,32.606482],[100.258759,32.742466],[100.339447,32.719313],[100.399809,32.756556],[100.516837,32.630168],[100.54517,32.569681],[100.645568,32.526306],[100.690532,32.678025],[100.93198,32.600433],[101.075494,32.683061],[101.157414,32.661404],[101.22332,32.725856],[101.237486,32.824962],[101.124153,32.909893],[101.129081,32.989725],[101.183899,32.984204],[101.169733,33.100566],[101.11553,33.194746],[101.183283,33.270317],[101.297232,33.262313],[101.393935,33.157687],[101.405022,33.225783],[101.486326,33.227285],[101.625528,33.100566],[101.739477,33.265815],[101.64955,33.323328],[101.695745,33.433748],[101.769658,33.447728],[101.769042,33.538541],[101.844186,33.602353],[101.907012,33.542032],[101.9452,33.437742],[101.885454,33.380804],[101.878063,33.315829],[101.769658,33.268816],[101.841723,33.184731],[101.865744,33.103072],[101.935345,33.186734],[102.08933,33.204759],[102.112736,33.287324],[102.217446,33.248303],[102.186649,33.332327],[102.264873,33.417269],[102.396684,33.40678],[102.462589,33.449724],[102.440416,33.57494],[102.33817,33.614313],[102.342481,33.725357],[102.299981,33.782566],[102.239619,33.788036],[102.234076,33.870046],[102.136142,33.965377],[102.237772,33.963392],[102.315996,33.994154],[102.391756,33.970836],[102.437336,34.087364],[102.471213,34.072993],[102.655994,34.113623],[102.599328,34.145321],[102.798276,34.272982],[102.911609,34.313022],[102.978747,34.249246],[102.973203,34.205217],[103.124108,34.16166],[103.178927,34.079931],[103.119797,34.034822],[103.124108,33.968354],[103.181391,33.900842],[103.153057,33.814884],[103.279325,33.806433],[103.349542,33.74327],[103.525085,33.798975],[103.520157,33.678566],[103.626099,33.727347],[103.778236,33.658648],[103.871243,33.68255],[104.046169,33.686533],[104.168741,33.611821],[104.155191,33.542531],[104.22048,33.404782],[104.292545,33.336326],[104.432979,33.325828],[104.303632,33.304328],[104.378161,33.109086],[104.337509,33.038392],[104.426204,33.0108],[104.378161,32.953081],[104.288234,32.94304],[104.294393,32.83552],[104.363994,32.822448],[104.458849,32.748504],[104.582653,32.722333],[104.643015,32.661908],[104.739717,32.635711],[104.845659,32.653848],[104.881999,32.600938],[105.026745,32.650322],[105.111128,32.59388],[105.347033,32.682558],[105.455439,32.737433],[105.391381,32.835017],[105.414171,32.921948],[105.49917,32.911902],[105.563844,32.72485],[105.596489,32.699175],[105.719061,32.759575],[105.822538,32.770141],[105.825002,32.824962],[106.025798,32.85814],[106.093552,32.823956],[106.07261,32.764103],[106.076305,32.753537],[106.17424,32.697664],[106.347935,32.670974],[106.421231,32.616562],[106.585687,32.688097],[106.663296,32.690615],[106.733513,32.739446],[106.82344,32.705217],[107.066736,32.708741],[107.108004,32.600938],[107.080286,32.542448],[107.127098,32.482406],[107.263836,32.403129],[107.313727,32.489976],[107.382097,32.54043],[107.436299,32.529837],[107.456625,32.417778],[107.533002,32.383426],[107.680211,32.398078],[107.707929,32.331873],[107.75474,32.338445],[107.812022,32.24791],[107.979558,32.14614],[108.070717,32.233234],[108.179122,32.222099],[108.251187,32.273208],[108.312781,32.232222],[108.46923,32.270173],[108.509882,32.201343],[108.369447,32.173493],[108.447672,32.07164],[108.373759,32.077217],[108.259194,31.966628],[108.343578,31.860987],[108.535135,31.757769],[108.517889,31.665131],[108.391621,31.593298],[108.34173,31.509679],[108.191441,31.492333],[108.216079,31.410666],[108.153869,31.371338],[108.185898,31.337104],[108.095354,31.268088],[108.083652,31.185713],[108.009123,31.10839],[108.053471,31.040745],[107.943833,30.989466],[107.994956,30.90839],[107.85329,30.793842],[107.763979,30.816968],[107.739957,30.884259],[107.645103,30.821079],[107.514524,30.854986],[107.424597,30.740889],[107.516987,30.644675],[107.359923,30.456087],[107.221337,30.213891],[107.058113,30.043118],[107.053801,30.043636],[106.981736,30.085062],[106.980504,30.087651],[106.980504,30.087651],[106.980504,30.085062],[106.978041,30.087133],[106.978041,30.087651],[106.978041,30.087133],[106.978041,30.087651],[106.978041,30.087133],[106.976193,30.083509],[106.976193,30.087651],[106.976193,30.087651],[106.974345,30.082992],[106.913367,30.025506],[106.825904,30.031205],[106.825904,30.031205],[106.726121,30.033277],[106.677462,30.157],[106.611557,30.235605],[106.612173,30.235605],[106.611557,30.235605],[106.612173,30.235605],[106.612173,30.235605],[106.612789,30.235605],[106.612789,30.235605],[106.610941,30.292451],[106.610941,30.292451],[106.451412,30.307949],[106.451412,30.307949],[106.428623,30.254729],[106.262935,30.211306],[106.261703,30.205101],[106.260471,30.204067],[106.256776,30.19631],[106.180399,30.23302],[106.17116,30.306399],[106.10587,30.310531],[106.031958,30.373529],[105.881053,30.387465],[105.792357,30.427199],[105.714749,30.322927],[105.720292,30.252662]]],[[[106.262935,30.211306],[106.256776,30.19631],[106.260471,30.204067],[106.261703,30.205101],[106.262935,30.211306]]],[[[105.571235,30.17976],[105.56138,30.183898],[105.558916,30.18545],[105.56138,30.188035],[105.571235,30.17976]]],[[[106.981736,30.085062],[106.980504,30.085062],[106.980504,30.087651],[106.981736,30.085062]]],[[[106.980504,30.085062],[106.976193,30.083509],[106.978041,30.087133],[106.980504,30.085062]]],[[[106.976193,30.083509],[106.974345,30.082992],[106.976193,30.087651],[106.976193,30.083509]]]]}},{type:"Feature",properties:{adcode:52e4,name:"\u8D35\u5DDE\u7701",center:[106.713478,26.578343],centroid:[106.88108,26.826362],childrenNum:9,level:"province",subFeatureIndex:23,acroutes:[1e5],parent:{adcode:1e5}},geometry:{type:"MultiPolygon",coordinates:[[[[109.52187,26.748964],[109.454117,26.761252],[109.35495,26.693383],[109.407305,26.532902],[109.326001,26.427398],[109.285965,26.296052],[109.340784,26.264399],[109.466435,26.314288],[109.439334,26.238641],[109.486761,26.148445],[109.486761,26.148445],[109.449805,26.101709],[109.48245,26.029687],[109.408537,25.967305],[109.435022,25.933411],[109.339552,25.834363],[109.3414,25.732537],[109.147995,25.7417],[109.143683,25.795044],[108.989698,25.778881],[108.896076,25.71421],[108.953974,25.686714],[108.953974,25.686714],[109.000785,25.73631],[109.07901,25.720679],[109.030966,25.629545],[109.088249,25.550758],[109.025423,25.512426],[108.949046,25.557236],[108.781511,25.554537],[108.763649,25.637097],[108.68912,25.623072],[108.6072,25.491904],[108.625062,25.308138],[108.471693,25.458955],[108.418723,25.443287],[108.348506,25.536183],[108.142782,25.390867],[108.152021,25.324364],[108.115065,25.210195],[108.001732,25.196661],[107.841587,25.115966],[107.741805,25.239965],[107.700537,25.193954],[107.659885,25.316251],[107.599523,25.250789],[107.472024,25.213984],[107.481263,25.300024],[107.432604,25.289205],[107.420901,25.393029],[107.318039,25.401677],[107.336517,25.461116],[107.228728,25.604728],[107.064272,25.559395],[107.066736,25.509186],[106.963874,25.437884],[107.012533,25.353024],[107.013765,25.275138],[106.912751,25.243212],[106.900432,25.194495],[106.732281,25.162548],[106.684238,25.178252],[106.590615,25.087791],[106.304819,24.973944],[106.215508,24.982079],[106.146522,24.948449],[106.206269,24.851304],[106.173008,24.760059],[106.045508,24.681796],[106.023335,24.632313],[105.942031,24.724738],[105.827466,24.702997],[105.70551,24.768752],[105.500402,24.807862],[105.445584,24.918608],[105.365511,24.943566],[105.265729,24.930003],[105.198592,24.995095],[105.09573,24.928375],[105.077868,24.918065],[105.03352,24.787765],[104.899245,24.752996],[104.841963,24.676359],[104.743413,24.621978],[104.63316,24.65896],[104.529682,24.73126],[104.539537,24.813836],[104.713232,24.996179],[104.667652,25.05961],[104.750804,25.215067],[104.822869,25.17013],[104.816094,25.262152],[104.639935,25.298942],[104.646094,25.356809],[104.543232,25.400597],[104.556783,25.524845],[104.434827,25.47246],[104.420661,25.585301],[104.332581,25.598792],[104.309791,25.648964],[104.328886,25.760561],[104.373233,25.731459],[104.441602,25.869362],[104.414501,25.909733],[104.499501,26.070541],[104.592508,26.317506],[104.683667,26.377557],[104.554935,26.590701],[104.487798,26.579465],[104.421276,26.712091],[104.354139,26.621194],[104.120082,26.636705],[104.052329,26.507204],[103.865699,26.512023],[103.764685,26.584816],[103.773308,26.716901],[103.705555,26.794904],[103.779468,26.874454],[103.77454,26.951815],[103.675374,27.051506],[103.638418,27.013133],[103.624251,27.112237],[103.711714,27.14259],[103.903271,27.347921],[103.932221,27.444072],[104.015372,27.429204],[104.01722,27.383523],[104.113307,27.338354],[104.174285,27.262856],[104.363378,27.467964],[104.497653,27.411677],[104.546312,27.330382],[104.609754,27.306991],[104.808702,27.35483],[104.871528,27.291041],[105.067397,27.418051],[105.184425,27.393085],[105.260186,27.514672],[105.232469,27.546506],[105.305149,27.612799],[105.308229,27.705011],[105.353809,27.74897],[105.508409,27.769089],[105.605112,27.715605],[105.62359,27.666333],[105.78435,27.719312],[106.023335,27.746851],[106.120653,27.779677],[106.193334,27.754265],[106.343007,27.821489],[106.304819,27.899249],[106.328225,27.952643],[106.206885,28.134302],[106.126812,28.16701],[105.975907,28.107917],[105.860111,28.165955],[105.88906,28.238722],[105.826234,28.304064],[105.730147,28.271925],[105.639604,28.32408],[105.62359,28.518253],[105.683952,28.535601],[105.749242,28.614943],[105.884748,28.594981],[105.891524,28.672179],[105.966668,28.76086],[106.103407,28.636476],[106.2925,28.537177],[106.330688,28.481971],[106.37442,28.525613],[106.395978,28.570287],[106.484057,28.530344],[106.504999,28.662204],[106.45326,28.816968],[106.562897,28.753516],[106.63681,28.623346],[106.564745,28.485127],[106.632499,28.503531],[106.7446,28.465667],[106.73844,28.554522],[106.866556,28.624397],[106.883186,28.69265],[106.824056,28.756139],[106.926302,28.809104],[106.986664,28.793899],[106.986664,28.793899],[106.983584,28.851561],[107.057497,28.895049],[107.191156,28.888763],[107.219489,28.772923],[107.383945,28.848417],[107.441227,28.943755],[107.36485,29.010753],[107.412894,29.095485],[107.404271,29.187984],[107.486806,29.174402],[107.570574,29.218276],[107.589052,29.149845],[107.701769,29.142006],[107.751044,29.199997],[107.810791,29.138348],[107.784921,29.04842],[107.867457,28.960508],[107.930899,29.035343],[108.024521,29.038482],[108.068253,29.086597],[108.256115,29.040574],[108.268433,29.089734],[108.350353,28.933282],[108.352817,28.815395],[108.385462,28.772398],[108.332491,28.679528],[108.471077,28.627548],[108.565316,28.662204],[108.636149,28.621245],[108.577019,28.534024],[108.611512,28.324607],[108.668178,28.334614],[108.688504,28.422527],[108.640461,28.457251],[108.710678,28.500902],[108.779663,28.425158],[108.764881,28.306698],[108.726692,28.282463],[108.772888,28.21289],[108.922561,28.217635],[109.006329,28.163317],[109.026655,28.220271],[109.086401,28.184942],[109.081473,28.249264],[109.152306,28.349885],[109.191726,28.470927],[109.274262,28.494592],[109.27303,28.310386],[109.388211,28.268236],[109.340168,28.190216],[109.298284,28.036117],[109.378972,28.032948],[109.30198,27.956342],[109.345711,27.840537],[109.332777,27.782853],[109.470747,27.68011],[109.461508,27.567724],[109.303211,27.475396],[109.300132,27.423893],[109.202197,27.449913],[109.142451,27.418051],[109.040821,27.276151],[108.907162,27.2054],[108.878829,27.106378],[108.791366,27.084539],[108.87575,26.999273],[109.07901,27.115965],[109.164625,27.065893],[109.267487,27.128746],[109.415928,27.15377],[109.472595,27.135136],[109.454733,27.069622],[109.520022,27.058433],[109.555131,26.947015],[109.486761,26.895267],[109.500928,26.828546],[109.481218,26.838156],[109.473211,26.828546],[109.504624,26.805051],[109.52187,26.748964]]],[[[109.529261,26.740414],[109.528029,26.744689],[109.548971,26.737208],[109.548971,26.737208],[109.529261,26.740414]]],[[[109.500928,26.828546],[109.504624,26.805051],[109.473211,26.828546],[109.481218,26.838156],[109.500928,26.828546]]]]}},{type:"Feature",properties:{adcode:53e4,name:"\u4E91\u5357\u7701",center:[102.712251,25.040609],centroid:[101.485108,25.008649],childrenNum:16,level:"province",subFeatureIndex:24,acroutes:[1e5],parent:{adcode:1e5}},geometry:{type:"MultiPolygon",coordinates:[[[[105.542902,23.18449],[105.445584,23.292797],[105.372903,23.317525],[105.325475,23.390034],[105.238012,23.264217],[105.093266,23.260919],[104.886311,23.169088],[104.804391,23.110218],[104.860441,22.970917],[104.737869,22.825957],[104.579573,22.84636],[104.375697,22.690228],[104.272219,22.738245],[104.274067,22.828163],[104.117618,22.808861],[104.045553,22.728312],[104.009213,22.51789],[103.964249,22.502966],[103.825047,22.615685],[103.642113,22.795071],[103.566969,22.698508],[103.53494,22.594143],[103.436389,22.697404],[103.441317,22.753144],[103.323057,22.807758],[103.283021,22.678635],[103.195557,22.648268],[103.183854,22.557679],[103.081608,22.506835],[103.079761,22.448784],[102.930703,22.482512],[102.880196,22.586961],[102.688639,22.700164],[102.603024,22.731623],[102.570379,22.700164],[102.510633,22.774661],[102.384365,22.679739],[102.420706,22.636119],[102.322771,22.554364],[102.25625,22.457631],[102.270416,22.419472],[102.046214,22.457631],[101.907628,22.43717],[101.862665,22.389048],[101.76473,22.506282],[101.672339,22.474772],[101.625528,22.282789],[101.547304,22.237936],[101.596579,22.160933],[101.573789,22.114933],[101.626144,22.006247],[101.606434,21.967965],[101.701288,21.938553],[101.777049,21.826954],[101.747484,21.730276],[101.780129,21.640763],[101.754875,21.585137],[101.745636,21.29721],[101.833715,21.252606],[101.76473,21.147733],[101.672339,21.195158],[101.605818,21.172285],[101.604586,21.229741],[101.532521,21.252606],[101.387775,21.225837],[101.290457,21.178422],[101.222088,21.234203],[101.244877,21.302227],[101.142631,21.409218],[101.194986,21.425372],[101.209153,21.557316],[101.117378,21.689141],[101.123537,21.771956],[101.015132,21.70693],[100.870386,21.672461],[100.730568,21.518914],[100.558105,21.450434],[100.48296,21.459343],[100.437381,21.532829],[100.351765,21.52949],[100.247056,21.463798],[100.199628,21.512791],[100.126948,21.508338],[100.107853,21.585137],[100.169447,21.663564],[100.095535,21.704151],[99.991441,21.703595],[99.944014,21.821955],[99.999448,21.970184],[99.972347,22.052837],[99.871333,22.0667],[99.870101,22.029544],[99.486987,22.12879],[99.400139,22.099966],[99.220901,22.111053],[99.156227,22.160933],[99.235683,22.250673],[99.282495,22.401219],[99.381661,22.503519],[99.385973,22.57094],[99.31514,22.737693],[99.385973,22.761972],[99.457421,22.84636],[99.456806,22.932901],[99.563363,22.925737],[99.517168,23.006719],[99.528255,23.065635],[99.3484,23.128927],[99.255393,23.077746],[99.106336,23.086552],[98.889525,23.209238],[98.936953,23.309833],[98.872279,23.484456],[98.826084,23.470187],[98.808221,23.547549],[98.877823,23.59197],[98.786048,23.781551],[98.669019,23.800713],[98.701664,23.834103],[98.701048,23.946251],[98.899996,24.109102],[98.875975,24.150056],[98.716446,24.12767],[98.611737,24.08507],[98.550759,24.125485],[98.360434,24.097087],[98.225543,24.113471],[98.110978,24.092171],[97.902175,24.01404],[97.894168,23.973589],[97.769748,23.933126],[97.711234,23.861465],[97.5283,23.926563],[97.634241,24.046828],[97.730944,24.113471],[97.729712,24.227013],[97.767284,24.258656],[97.658879,24.326279],[97.716161,24.358987],[97.669966,24.452703],[97.531995,24.43146],[97.570799,24.602396],[97.570183,24.766579],[97.701379,24.842617],[97.764204,24.824155],[97.785762,24.875733],[97.716777,24.978283],[97.839349,25.27081],[97.914494,25.211278],[98.014892,25.305433],[98.06971,25.311924],[98.15779,25.457334],[98.131304,25.510266],[98.189818,25.569111],[98.170724,25.620374],[98.247717,25.607965],[98.314854,25.543201],[98.402317,25.593936],[98.457752,25.68294],[98.476846,25.777265],[98.553839,25.845672],[98.640686,25.798815],[98.704744,25.852133],[98.686881,25.925877],[98.614201,25.968919],[98.575396,26.118364],[98.634527,26.145759],[98.662244,26.0872],[98.735541,26.183351],[98.672715,26.240251],[98.733693,26.350753],[98.753403,26.559129],[98.781736,26.62066],[98.746012,26.697125],[98.757098,26.87819],[98.732461,27.002472],[98.765722,27.050973],[98.712135,27.077081],[98.696121,27.211253],[98.734309,27.35111],[98.706591,27.362269],[98.674563,27.582044],[98.583404,27.571437],[98.444201,27.665274],[98.429419,27.548628],[98.317318,27.519448],[98.278514,27.659974],[98.234166,27.690707],[98.222463,27.812493],[98.169492,27.851118],[98.205217,27.88973],[98.133152,27.99069],[98.160253,28.101056],[98.139311,28.142216],[98.168876,28.204454],[98.266195,28.24083],[98.208913,28.35831],[98.301303,28.384633],[98.37768,28.246101],[98.389383,28.114777],[98.428803,28.10475],[98.559382,28.182833],[98.626519,28.165427],[98.712135,28.229233],[98.752787,28.333561],[98.677026,28.463563],[98.627751,28.487756],[98.638222,28.55242],[98.594491,28.667979],[98.683802,28.739877],[98.652389,28.816968],[98.657932,28.93014],[98.765722,29.006044],[98.815613,28.948991],[98.828547,28.820113],[98.912931,28.800715],[98.972677,28.832693],[98.917243,28.888239],[98.925866,28.978306],[99.009018,29.031158],[98.967134,29.128418],[98.976373,29.204698],[99.113727,29.221409],[99.132206,28.948467],[99.103872,28.842128],[99.126662,28.699473],[99.183944,28.588677],[99.174705,28.402003],[99.280647,28.298269],[99.306516,28.227652],[99.374886,28.181778],[99.437095,28.398318],[99.403219,28.546638],[99.463581,28.549266],[99.532566,28.681628],[99.615718,28.741975],[99.625573,28.814871],[99.717964,28.846321],[99.733362,28.719415],[99.793724,28.699473],[99.987129,28.524561],[99.990209,28.476712],[100.073977,28.42621],[100.054267,28.376737],[100.176223,28.324607],[100.157129,28.210254],[100.033941,28.184942],[100.086296,28.030836],[100.196549,27.936257],[100.210715,27.877037],[100.295099,27.869633],[100.327744,27.720372],[100.442924,27.866459],[100.54517,27.809318],[100.633866,27.915111],[100.681293,27.923041],[100.707162,27.80085],[100.782307,27.691767],[100.848212,27.670573],[100.936908,27.469026],[101.021907,27.332508],[101.057016,27.20061],[101.170349,27.195821],[101.136472,27.023794],[101.264587,26.955549],[101.267667,26.902737],[101.399478,26.841893],[101.357594,26.770868],[101.389623,26.723314],[101.512195,26.756443],[101.453065,26.692848],[101.451833,26.600867],[101.400094,26.605146],[101.458608,26.495424],[101.506652,26.499708],[101.636615,26.395245],[101.660636,26.346999],[101.586724,26.279422],[101.630455,26.224687],[101.690202,26.241861],[101.807846,26.156501],[101.799223,26.109231],[101.86328,26.052266],[101.917483,26.108156],[102.005562,26.091499],[102.005562,26.091499],[102.107808,26.068391],[102.245163,26.212341],[102.349257,26.244545],[102.392372,26.296588],[102.567915,26.36362],[102.638748,26.307852],[102.60056,26.250448],[102.674473,26.205363],[102.739762,26.268691],[102.998457,26.371661],[102.989833,26.483108],[103.056971,26.525943],[103.018783,26.593911],[102.991681,26.775675],[102.898674,26.908073],[102.870957,27.026992],[102.913457,27.133538],[102.882044,27.293168],[102.941174,27.405303],[102.989833,27.368114],[103.111789,27.401054],[103.222043,27.566133],[103.295955,27.568785],[103.29226,27.632943],[103.487512,27.795028],[103.515846,27.965326],[103.488128,28.03242],[103.430846,28.044039],[103.471498,28.123221],[103.573128,28.230815],[103.639649,28.261912],[103.721569,28.201817],[103.877402,28.311966],[103.781931,28.525613],[103.838598,28.587101],[103.844757,28.660104],[103.940844,28.606013],[104.12501,28.637526],[104.314719,28.615468],[104.425588,28.626497],[104.318415,28.538229],[104.261748,28.537177],[104.254357,28.408844],[104.314103,28.306698],[104.384936,28.329874],[104.44961,28.269817],[104.44653,28.112666],[104.354139,28.019744],[104.40095,27.952114],[104.573413,27.840537],[104.743413,27.901892],[104.872144,27.905594],[105.05939,28.097889],[105.186889,28.0546],[105.186273,27.995445],[105.270657,27.99703],[105.284823,27.935729],[105.233084,27.895547],[105.244171,27.823077],[105.308229,27.810376],[105.308229,27.810376],[105.273736,27.795028],[105.308229,27.705011],[105.305149,27.612799],[105.232469,27.546506],[105.260186,27.514672],[105.184425,27.393085],[105.067397,27.418051],[104.871528,27.291041],[104.808702,27.35483],[104.609754,27.306991],[104.546312,27.330382],[104.497653,27.411677],[104.363378,27.467964],[104.174285,27.262856],[104.113307,27.338354],[104.01722,27.383523],[104.015372,27.429204],[103.932221,27.444072],[103.903271,27.347921],[103.711714,27.14259],[103.624251,27.112237],[103.638418,27.013133],[103.675374,27.051506],[103.77454,26.951815],[103.779468,26.874454],[103.705555,26.794904],[103.773308,26.716901],[103.764685,26.584816],[103.865699,26.512023],[104.052329,26.507204],[104.120082,26.636705],[104.354139,26.621194],[104.421276,26.712091],[104.487798,26.579465],[104.554935,26.590701],[104.683667,26.377557],[104.592508,26.317506],[104.499501,26.070541],[104.414501,25.909733],[104.441602,25.869362],[104.373233,25.731459],[104.328886,25.760561],[104.309791,25.648964],[104.332581,25.598792],[104.420661,25.585301],[104.434827,25.47246],[104.556783,25.524845],[104.543232,25.400597],[104.646094,25.356809],[104.639935,25.298942],[104.816094,25.262152],[104.822869,25.17013],[104.750804,25.215067],[104.667652,25.05961],[104.713232,24.996179],[104.539537,24.813836],[104.529682,24.73126],[104.492109,24.656241],[104.610986,24.376973],[104.70892,24.321372],[104.72863,24.446167],[104.83642,24.446712],[104.979933,24.412937],[105.063085,24.429281],[105.063085,24.429281],[105.188121,24.346995],[105.164715,24.288109],[105.229389,24.165888],[105.20044,24.105279],[105.260186,24.061033],[105.320548,24.116202],[105.481924,24.018958],[105.529967,24.129308],[105.628518,24.126577],[105.649459,24.033167],[105.704278,24.066497],[105.89214,24.040271],[105.933407,24.123847],[106.04982,24.089986],[106.192102,23.824798],[106.136667,23.795238],[106.157609,23.724048],[106.120653,23.605129],[106.141595,23.569487],[105.999929,23.447683],[105.89214,23.525058],[105.815763,23.506953],[105.699966,23.401566],[105.694423,23.363122],[105.531815,23.248275],[105.542902,23.18449]]]]}},{type:"Feature",properties:{adcode:54e4,name:"\u897F\u85CF\u81EA\u6CBB\u533A",center:[91.132212,29.660361],centroid:[88.388277,31.56375],childrenNum:7,level:"province",subFeatureIndex:25,acroutes:[1e5],parent:{adcode:1e5}},geometry:{type:"MultiPolygon",coordinates:[[[[79.039649,34.33427],[79.0107,34.399956],[79.161605,34.441416],[79.229358,34.413778],[79.504683,34.454737],[79.675914,34.451284],[79.801566,34.478909],[79.906892,34.683837],[79.947544,34.820993],[80.034391,34.902],[80.031311,35.034384],[80.118159,35.066222],[80.23026,35.147476],[80.257977,35.20323],[80.362687,35.209096],[80.268448,35.294114],[80.321419,35.386848],[80.412578,35.433663],[80.516672,35.392214],[80.65649,35.394165],[80.689135,35.33903],[80.844351,35.345375],[81.026053,35.312181],[81.031597,35.380506],[81.09935,35.407333],[81.219458,35.319016],[81.362356,35.354647],[81.494167,35.292161],[81.513261,35.235002],[81.675253,35.233536],[81.736847,35.262365],[81.927789,35.271158],[82.05344,35.350255],[82.033114,35.450236],[82.328149,35.559342],[82.336156,35.651284],[82.424852,35.713006],[82.628727,35.692114],[82.731589,35.63767],[82.788872,35.684824],[82.960719,35.671702],[82.998907,35.484348],[83.067892,35.462908],[83.127022,35.398554],[83.242203,35.420011],[83.451006,35.38197],[83.622238,35.335614],[83.677672,35.360991],[83.885244,35.367334],[84.005968,35.422449],[84.095895,35.362943],[84.1618,35.359039],[84.335495,35.414647],[84.45314,35.473141],[84.448828,35.55058],[84.729081,35.613353],[85.053065,35.751862],[85.159006,35.745549],[85.271107,35.788757],[85.372121,35.701346],[85.613569,35.652257],[85.65299,35.731465],[85.811286,35.779049],[85.949256,35.779049],[86.060125,35.846008],[86.132806,35.979271],[86.199944,36.032513],[86.187625,36.131158],[86.392733,36.206992],[86.515305,36.205543],[86.701318,36.245122],[86.746282,36.291916],[86.862078,36.300114],[86.887332,36.262492],[86.996353,36.308793],[87.149106,36.29722],[87.193454,36.349283],[87.306787,36.363739],[87.361605,36.419128],[87.460155,36.409498],[87.470626,36.354102],[87.570409,36.342536],[87.731785,36.384936],[87.949211,36.401312],[87.983088,36.437903],[88.134609,36.427313],[88.241782,36.468704],[88.365586,36.457636],[88.470912,36.482175],[88.573158,36.461005],[88.623665,36.389271],[88.783809,36.291916],[88.802903,36.337717],[88.926091,36.364221],[88.964279,36.318917],[89.10225,36.281305],[89.127503,36.249465],[89.232213,36.295774],[89.287647,36.235954],[89.375727,36.228231],[89.490291,36.150969],[89.711414,36.092972],[89.638117,36.04993],[89.476125,36.021868],[89.418843,36.04606],[89.429929,35.916302],[89.549422,35.858132],[89.801957,35.847948],[89.747138,35.751862],[89.765616,35.599732],[89.700327,35.537435],[89.744058,35.479963],[89.68616,35.414647],[89.497067,35.361479],[89.532175,35.285323],[89.449639,35.226693],[89.513081,35.139158],[89.593153,35.104412],[89.560509,34.938794],[89.654747,34.883351],[89.707102,34.919663],[89.821667,34.902981],[89.867862,34.810677],[89.799493,34.74384],[89.732356,34.732039],[89.72558,34.660709],[89.798877,34.628714],[89.823515,34.455231],[89.801957,34.390575],[89.872174,34.335752],[89.825362,34.293746],[89.818587,34.174037],[89.655979,34.096778],[89.635037,34.0492],[89.691704,33.957933],[89.795181,33.865575],[89.837065,33.869052],[89.933768,33.796986],[89.907282,33.74128],[90.008296,33.688026],[89.984275,33.61232],[90.01076,33.553501],[90.080977,33.530561],[90.092064,33.469691],[90.246665,33.42426],[90.332896,33.310829],[90.405577,33.260311],[90.486881,33.266815],[90.70554,33.135645],[90.805938,33.114599],[91.001807,33.116102],[91.001807,33.116102],[91.134849,33.073495],[91.262349,33.141156],[91.436044,33.065974],[91.49887,33.109086],[91.58079,33.039395],[91.785281,32.944044],[91.896766,32.907884],[91.955897,32.820437],[92.145606,32.885779],[92.227526,32.820939],[92.198577,32.755046],[92.255243,32.720823],[92.355641,32.764606],[92.63651,32.720319],[92.686401,32.765109],[92.877342,32.697161],[93.019624,32.737433],[93.069515,32.626137],[93.239514,32.662411],[93.385492,32.525297],[93.4631,32.556065],[93.516687,32.475844],[93.618933,32.522775],[93.654657,32.57321],[93.820345,32.549509],[93.861613,32.466253],[93.958931,32.484929],[94.136322,32.433939],[94.196684,32.516216],[94.371611,32.524793],[94.395016,32.594385],[94.53853,32.599425],[94.614291,32.673492],[94.772587,32.555057],[94.80708,32.486444],[94.889616,32.472311],[94.912405,32.415758],[94.985086,32.421819],[95.081789,32.384942],[95.218527,32.397067],[95.261643,32.348049],[95.096571,32.322267],[95.10581,32.259042],[95.241317,32.32075],[95.26965,32.194761],[95.312766,32.148673],[95.406389,32.182102],[95.454432,32.062006],[95.360809,31.959013],[95.439649,31.831508],[95.546823,31.739961],[95.618272,31.783712],[95.779648,31.74912],[95.825227,31.681935],[95.89914,31.817273],[95.982908,31.816765],[96.041422,31.734364],[96.135661,31.702299],[96.160298,31.600943],[96.204646,31.598904],[96.252689,31.69619],[96.176313,31.777608],[96.253921,31.929566],[96.389428,31.919917],[96.468268,31.769978],[96.576057,31.712989],[96.616093,31.736908],[96.775006,31.673788],[96.840295,31.720623],[96.760223,31.856922],[96.81073,31.894521],[96.722651,32.013314],[96.894498,32.013822],[97.008447,32.067076],[97.130403,32.04375],[97.308409,32.074682],[97.264062,32.183621],[97.299786,32.294959],[97.371235,32.273208],[97.424822,32.323278],[97.387865,32.427374],[97.341054,32.441009],[97.388481,32.501583],[97.334895,32.514198],[97.448843,32.586823],[97.472249,32.54497],[97.670582,32.517225],[97.730944,32.527315],[97.937283,32.484425],[98.218768,32.342489],[98.218768,32.234752],[98.301919,32.12334],[98.434962,32.007734],[98.414636,31.832525],[98.543983,31.718588],[98.553839,31.656473],[98.713367,31.510189],[98.837787,31.436705],[98.88583,31.376446],[98.773113,31.249163],[98.691809,31.333016],[98.64007,31.337615],[98.602498,31.192367],[98.709671,31.118635],[98.736772,31.049459],[98.806374,30.995621],[98.774345,30.907877],[98.901844,30.785105],[98.957895,30.765056],[98.907388,30.698196],[98.989308,30.151826],[99.044742,30.079885],[99.068148,29.93118],[99.0238,29.846105],[98.993003,29.656502],[99.052133,29.563908],[99.075539,29.314316],[99.113727,29.221409],[98.976373,29.204698],[98.967134,29.128418],[99.009018,29.031158],[98.925866,28.978306],[98.917243,28.888239],[98.972677,28.832693],[98.912931,28.800715],[98.828547,28.820113],[98.815613,28.948991],[98.765722,29.006044],[98.657932,28.93014],[98.652389,28.816968],[98.683802,28.739877],[98.594491,28.667979],[98.638222,28.55242],[98.627751,28.487756],[98.677026,28.463563],[98.752787,28.333561],[98.712135,28.229233],[98.626519,28.165427],[98.559382,28.182833],[98.428803,28.10475],[98.389383,28.114777],[98.37768,28.246101],[98.301303,28.384633],[98.208913,28.35831],[98.266195,28.24083],[98.168876,28.204454],[98.139311,28.142216],[98.090036,28.195489],[98.03337,28.187052],[98.020435,28.25348],[97.907718,28.363575],[97.801161,28.326714],[97.738335,28.396213],[97.737103,28.465667],[97.68598,28.51983],[97.569567,28.541382],[97.506126,28.471453],[97.485184,28.386212],[97.518445,28.327767],[97.460546,28.268236],[97.42359,28.297742],[97.350909,28.23714],[97.321344,28.054071],[97.413119,28.013406],[97.386634,27.882855],[97.303482,27.913525],[97.062649,27.742615],[97.049099,27.814081],[96.972722,27.861169],[96.849534,27.874393],[96.784245,27.9315],[96.690622,27.948943],[96.572978,28.058296],[96.499681,28.067271],[96.46334,28.143271],[96.398667,28.118471],[96.297037,28.141161],[96.275479,28.228179],[95.989067,28.198126],[95.874502,28.297742],[95.674322,28.254007],[95.371896,28.110028],[95.28628,27.939957],[95.015267,27.828897],[94.88592,27.743145],[94.524979,27.596362],[94.277372,27.580983],[93.970634,27.305396],[93.849294,27.168676],[93.841903,27.045645],[93.56781,26.937948],[93.232739,26.907006],[93.111399,26.880325],[92.909371,26.914475],[92.802813,26.895267],[92.682089,26.948082],[92.57122,26.946482],[92.404916,26.902737],[92.109265,26.854705],[92.124664,26.959815],[92.043976,27.052572],[92.032273,27.168144],[92.125896,27.27296],[92.010715,27.474866],[91.839484,27.489728],[91.753868,27.462656],[91.585101,27.54014],[91.570934,27.650965],[91.642383,27.766442],[91.611586,27.891316],[91.486551,27.937314],[91.464993,28.002841],[91.309776,28.057768],[91.251878,27.970611],[91.162567,27.968497],[91.113292,27.846357],[90.96485,27.900306],[90.96177,27.9537],[90.896481,27.9463],[90.802242,28.040342],[90.701844,28.076246],[90.591591,28.021329],[90.513983,28.061992],[90.384019,28.060936],[90.296556,28.15435],[90.231882,28.144854],[90.124709,28.190743],[90.03355,28.13694],[89.976268,28.189161],[89.906051,28.180723],[89.789638,28.24083],[89.720037,28.170175],[89.605472,28.161735],[89.461958,28.031892],[89.375727,27.875979],[89.238988,27.796616],[89.184786,27.673752],[89.131815,27.633474],[89.163228,27.574619],[89.095474,27.471681],[89.182938,27.373959],[89.077612,27.287319],[89.057286,27.234663],[88.975982,27.217106],[88.911924,27.274024],[88.920548,27.325598],[88.809063,27.405834],[88.770874,27.567724],[88.852178,27.671103],[88.888519,27.846886],[88.842939,28.006539],[88.764099,28.068327],[88.67602,28.068327],[88.645223,28.111083],[88.565151,28.083109],[88.554064,28.027667],[88.478919,28.034005],[88.401311,27.976952],[88.254101,27.939429],[88.156783,27.957928],[88.111819,27.864872],[87.826639,27.927799],[87.727473,27.802967],[87.590119,27.848473],[87.45954,27.82096],[87.420735,27.859053],[87.364069,27.824135],[87.280917,27.845299],[87.227946,27.813022],[87.118309,27.840537],[87.035157,27.9463],[86.935375,27.955285],[86.864542,28.022385],[86.756753,28.032948],[86.700086,28.101583],[86.647732,28.069383],[86.568891,28.103167],[86.514689,27.954757],[86.450015,27.908766],[86.231972,27.97431],[86.19132,28.16701],[86.082915,28.01816],[86.125415,27.923041],[86.053966,27.900306],[85.949256,27.937314],[85.980053,27.984349],[85.901213,28.053543],[85.854402,28.172284],[85.753388,28.227652],[85.720743,28.371999],[85.682555,28.375684],[85.650526,28.283517],[85.526106,28.324607],[85.415853,28.321447],[85.272339,28.282463],[85.209513,28.338827],[85.113427,28.34462],[85.108499,28.461459],[85.189803,28.545062],[85.195963,28.623871],[85.126361,28.675854],[85.05676,28.674279],[84.981616,28.586576],[84.857196,28.56766],[84.698284,28.633325],[84.650856,28.714692],[84.483321,28.735155],[84.408176,28.854182],[84.234481,28.889287],[84.248648,29.030635],[84.194445,29.044759],[84.20738,29.118487],[84.116837,29.286661],[84.002272,29.291358],[83.917273,29.324749],[83.727563,29.244383],[83.656114,29.167088],[83.548941,29.201042],[83.266841,29.571194],[83.12887,29.62374],[83.088834,29.605014],[82.9484,29.704846],[82.830756,29.687694],[82.703872,29.847662],[82.6238,29.834687],[82.560974,29.955547],[82.498148,29.947771],[82.412533,30.012037],[82.246845,30.071601],[82.17786,30.067976],[82.207425,30.143548],[82.114418,30.226816],[82.104563,30.346682],[81.99123,30.322927],[81.872354,30.373012],[81.759021,30.385401],[81.63029,30.446802],[81.566232,30.428747],[81.555761,30.369399],[81.406704,30.40398],[81.427646,30.305366],[81.393769,30.199413],[81.335871,30.150791],[81.269349,30.153378],[81.293371,30.094899],[81.225618,30.005301],[81.131995,30.016181],[81.034677,30.246977],[80.81725,30.321378],[80.719316,30.414816],[80.633084,30.458665],[80.549316,30.448866],[80.322035,30.564338],[80.214245,30.585974],[80.124934,30.558671],[80.04363,30.603485],[79.970333,30.685848],[79.961094,30.771225],[79.890877,30.854986],[79.835443,30.850876],[79.75845,30.93662],[79.668523,30.980233],[79.59769,30.925843],[79.505915,31.027415],[79.427075,31.018186],[79.421531,31.067399],[79.316206,31.017673],[79.33222,30.96946],[79.227511,30.94945],[79.181931,31.015622],[79.0957,30.993057],[79.010084,31.044333],[78.997765,31.159093],[78.865338,31.313082],[78.841933,31.288542],[78.755085,31.3555],[78.792041,31.436195],[78.729832,31.478047],[78.740303,31.532631],[78.845628,31.610115],[78.763092,31.668696],[78.706426,31.778626],[78.654071,31.821849],[78.739687,31.885376],[78.762476,31.946829],[78.599868,32.024982],[78.519796,32.123847],[78.469905,32.127901],[78.430485,32.211975],[78.511173,32.308108],[78.458818,32.379889],[78.472985,32.435454],[78.395377,32.530342],[78.518564,32.605978],[78.628202,32.630168],[78.741534,32.703706],[78.781571,32.607994],[78.760629,32.56363],[78.81052,32.436464],[78.970664,32.331873],[79.005772,32.375341],[79.103091,32.369782],[79.135736,32.472311],[79.252148,32.51672],[79.308199,32.596905],[79.27309,32.678025],[79.301423,32.728877],[79.224431,32.784729],[79.255844,32.942537],[79.162837,33.011804],[79.139431,33.117606],[79.162221,33.166202],[79.072294,33.228286],[79.022403,33.323328],[78.84686,33.421264],[78.74215,33.553501],[78.755085,33.623281],[78.692259,33.676575],[78.779723,33.732323],[78.758165,33.791019],[78.744614,33.980759],[78.656535,34.030359],[78.661462,34.086868],[78.750158,34.092815],[78.793273,34.132445],[78.9257,34.155719],[78.981751,34.318458],[79.039649,34.33427]]]]}},{type:"Feature",properties:{adcode:61e4,name:"\u9655\u897F\u7701",center:[108.948024,34.263161],centroid:[108.887567,35.263665],childrenNum:10,level:"province",subFeatureIndex:26,acroutes:[1e5],parent:{adcode:1e5}},geometry:{type:"MultiPolygon",coordinates:[[[[107.288474,37.00812],[107.288474,37.00812],[107.268764,37.099324],[107.336517,37.165628],[107.257677,37.337082],[107.284162,37.482036],[107.342061,37.515265],[107.348836,37.608226],[107.484959,37.706279],[107.499125,37.7659],[107.620465,37.775832],[107.65003,37.864688],[107.982022,37.787181],[108.025137,37.649926],[108.134159,37.621971],[108.219158,37.661295],[108.304158,37.638556],[108.440896,37.654663],[108.532671,37.690656],[108.611512,37.65419],[108.777815,37.683554],[108.799989,37.783871],[108.798141,37.93362],[108.82709,37.989285],[108.797525,38.047735],[108.871438,38.027471],[108.938575,37.920877],[109.017416,37.969949],[109.069155,38.091071],[108.963829,38.155085],[108.938575,38.207291],[109.051908,38.432146],[109.178792,38.520675],[109.276726,38.623121],[109.367269,38.627328],[109.338936,38.70161],[109.404226,38.720752],[109.511399,38.833633],[109.549587,38.805662],[109.624116,38.854603],[109.683862,38.935631],[109.665384,38.981691],[109.961035,39.191608],[110.217881,39.28105],[110.146432,39.455434],[110.243751,39.42355],[110.39096,39.31161],[110.434692,39.381016],[110.528315,39.380091],[110.604075,39.277345],[110.702626,39.27364],[110.740198,39.351874],[110.892335,39.509927],[111.134399,39.586513],[111.148566,39.531619],[111.064182,39.400899],[111.125776,39.366678],[111.247732,39.302351],[111.163348,39.152644],[111.138711,39.064897],[110.980414,38.970063],[111.009363,38.847614],[110.880016,38.618446],[110.920052,38.581973],[110.874473,38.453702],[110.77777,38.44105],[110.746973,38.366029],[110.661358,38.308773],[110.57759,38.297035],[110.565887,38.215283],[110.509221,38.192245],[110.501213,38.031713],[110.522771,37.954853],[110.59422,37.921821],[110.663821,37.803256],[110.758676,37.744139],[110.706321,37.705332],[110.796248,37.66319],[110.795017,37.566029],[110.745125,37.450693],[110.644111,37.435017],[110.630561,37.373228],[110.695234,37.34945],[110.690307,37.287115],[110.53509,37.137969],[110.444547,37.007164],[110.382953,37.021975],[110.425453,36.960325],[110.416214,36.790892],[110.447011,36.737687],[110.394656,36.676768],[110.496902,36.582175],[110.503677,36.487948],[110.45933,36.330969],[110.474112,36.248018],[110.447011,36.164495],[110.511684,35.879951],[110.549257,35.877527],[110.57759,35.701346],[110.609619,35.632321],[110.525851,35.44195],[110.477808,35.413672],[110.45009,35.327803],[110.39404,35.271647],[110.325671,35.014785],[110.257301,34.93487],[110.232664,34.803308],[110.241287,34.682361],[110.310272,34.608033],[110.379257,34.600646],[110.360779,34.516878],[110.403279,34.43352],[110.403279,34.43352],[110.503677,34.337234],[110.426685,34.275454],[110.43962,34.24331],[110.642264,34.16067],[110.590525,34.096778],[110.669365,33.939072],[110.587445,33.887929],[110.782698,33.795494],[110.877552,33.635238],[111.00382,33.578429],[111.02661,33.478675],[111.022914,33.475181],[111.022914,33.474682],[111.02661,33.474183],[110.996429,33.435745],[111.025994,33.330327],[110.984726,33.255308],[110.824582,33.158188],[110.745741,33.147167],[110.702626,33.097057],[110.59422,33.168706],[110.54125,33.255809],[110.468569,33.181226],[110.218497,33.163197],[110.164911,33.209265],[110.031252,33.191742],[109.852013,33.247803],[109.732521,33.231288],[109.619804,33.27532],[109.537268,33.2438],[109.438718,33.152177],[109.576073,33.110088],[109.688174,33.116603],[109.794731,33.066977],[109.76455,32.909391],[109.988752,32.886281],[110.10886,32.82999],[110.159367,32.767122],[110.156903,32.683061],[110.206179,32.633191],[110.153824,32.593376],[110.085454,32.613034],[110.017701,32.546987],[109.910528,32.592872],[109.816905,32.577244],[109.726978,32.608498],[109.631507,32.599929],[109.637051,32.540935],[109.575457,32.506629],[109.502776,32.389489],[109.495385,32.300522],[109.592703,32.219568],[109.621652,32.106617],[109.590855,32.012807],[109.631507,31.962059],[109.584696,31.900617],[109.638282,31.811172],[109.585928,31.726731],[109.281654,31.717061],[109.273646,31.801003],[109.195422,31.817782],[109.164009,31.877247],[108.988466,31.979317],[108.902235,31.984899],[108.734084,32.106617],[108.67249,32.104083],[108.509882,32.201343],[108.46923,32.270173],[108.312781,32.232222],[108.251187,32.273208],[108.179122,32.222099],[108.070717,32.233234],[107.979558,32.14614],[107.812022,32.24791],[107.75474,32.338445],[107.707929,32.331873],[107.680211,32.398078],[107.533002,32.383426],[107.456625,32.417778],[107.436299,32.529837],[107.382097,32.54043],[107.313727,32.489976],[107.263836,32.403129],[107.127098,32.482406],[107.080286,32.542448],[107.108004,32.600938],[107.066736,32.708741],[106.82344,32.705217],[106.733513,32.739446],[106.663296,32.690615],[106.585687,32.688097],[106.421231,32.616562],[106.347935,32.670974],[106.17424,32.697664],[106.076305,32.753537],[106.076305,32.758065],[106.076921,32.764103],[106.07261,32.764103],[106.093552,32.823956],[106.025798,32.85814],[105.825002,32.824962],[105.822538,32.770141],[105.719061,32.759575],[105.596489,32.699175],[105.563844,32.72485],[105.49917,32.911902],[105.590329,32.876734],[105.735691,32.905372],[105.917393,32.993739],[105.930944,33.177721],[105.965436,33.204759],[105.862574,33.234291],[105.74801,33.298827],[105.723372,33.390796],[105.82993,33.382802],[105.842248,33.490152],[105.956197,33.612818],[106.129276,33.604347],[106.187174,33.54652],[106.303587,33.604347],[106.447101,33.613316],[106.456956,33.533055],[106.54134,33.513103],[106.58076,33.575937],[106.539492,33.691013],[106.480362,33.715403],[106.461883,33.789528],[106.493296,33.846197],[106.41076,33.906304],[106.474202,33.970836],[106.501919,34.104706],[106.585071,34.149282],[106.526557,34.291768],[106.663912,34.24331],[106.717498,34.369342],[106.624491,34.410323],[106.610325,34.454244],[106.455108,34.531667],[106.334384,34.517864],[106.314058,34.578973],[106.419384,34.643482],[106.505615,34.74679],[106.575216,34.769893],[106.493296,34.941247],[106.494528,35.005964],[106.494528,35.005964],[106.5746,35.089236],[106.710723,35.100495],[106.838222,35.079933],[106.901664,35.094621],[107.08275,35.024095],[107.089526,34.976553],[107.189308,34.893166],[107.252134,34.880896],[107.286626,34.931927],[107.523763,34.909851],[107.561951,34.966747],[107.634016,34.950565],[107.804631,34.95694],[107.863761,34.996161],[107.757204,35.076016],[107.686371,35.217895],[107.651878,35.239889],[107.745501,35.311693],[107.867457,35.256014],[108.049159,35.254059],[108.174811,35.305345],[108.2401,35.256014],[108.352817,35.285812],[108.48894,35.275066],[108.614591,35.32878],[108.631222,35.418548],[108.618287,35.556908],[108.539447,35.605569],[108.517273,35.715921],[108.524664,35.839703],[108.498179,35.876072],[108.588722,35.950214],[108.656475,35.952636],[108.712526,36.13889],[108.646004,36.25429],[108.651548,36.384936],[108.618903,36.434052],[108.510498,36.474478],[108.495099,36.422498],[108.407636,36.458117],[108.340498,36.55911],[108.262274,36.549497],[108.194521,36.625405],[108.163724,36.563916],[108.007891,36.61628],[108.004811,36.683006],[107.939522,36.655651],[107.907493,36.751591],[107.720863,36.802391],[107.540393,36.828736],[107.478183,36.908674],[107.310032,36.912501],[107.288474,37.00812]]],[[[106.076305,32.753537],[106.07261,32.764103],[106.076921,32.764103],[106.076305,32.758065],[106.076305,32.753537]]],[[[111.022914,33.474682],[111.022914,33.475181],[111.02661,33.478675],[111.02661,33.474183],[111.022914,33.474682]]]]}},{type:"Feature",properties:{adcode:62e4,name:"\u7518\u8083\u7701",center:[103.823557,36.058039],centroid:[100.823557,38.168039],childrenNum:14,level:"province",subFeatureIndex:27,acroutes:[1e5],parent:{adcode:1e5}},geometry:{type:"MultiPolygon",coordinates:[[[[106.494528,35.005964],[106.494528,35.005964],[106.493296,34.941247],[106.575216,34.769893],[106.505615,34.74679],[106.419384,34.643482],[106.314058,34.578973],[106.334384,34.517864],[106.455108,34.531667],[106.610325,34.454244],[106.624491,34.410323],[106.717498,34.369342],[106.663912,34.24331],[106.526557,34.291768],[106.585071,34.149282],[106.501919,34.104706],[106.474202,33.970836],[106.41076,33.906304],[106.493296,33.846197],[106.461883,33.789528],[106.480362,33.715403],[106.539492,33.691013],[106.58076,33.575937],[106.54134,33.513103],[106.456956,33.533055],[106.447101,33.613316],[106.303587,33.604347],[106.187174,33.54652],[106.129276,33.604347],[105.956197,33.612818],[105.842248,33.490152],[105.82993,33.382802],[105.723372,33.390796],[105.74801,33.298827],[105.862574,33.234291],[105.965436,33.204759],[105.930944,33.177721],[105.917393,32.993739],[105.735691,32.905372],[105.590329,32.876734],[105.49917,32.911902],[105.414171,32.921948],[105.391381,32.835017],[105.455439,32.737433],[105.347033,32.682558],[105.111128,32.59388],[105.026745,32.650322],[104.881999,32.600938],[104.845659,32.653848],[104.739717,32.635711],[104.643015,32.661908],[104.582653,32.722333],[104.458849,32.748504],[104.363994,32.822448],[104.294393,32.83552],[104.288234,32.94304],[104.378161,32.953081],[104.426204,33.0108],[104.337509,33.038392],[104.378161,33.109086],[104.303632,33.304328],[104.432979,33.325828],[104.292545,33.336326],[104.22048,33.404782],[104.155191,33.542531],[104.168741,33.611821],[104.046169,33.686533],[103.871243,33.68255],[103.778236,33.658648],[103.626099,33.727347],[103.520157,33.678566],[103.525085,33.798975],[103.349542,33.74327],[103.279325,33.806433],[103.153057,33.814884],[103.181391,33.900842],[103.124108,33.968354],[103.119797,34.034822],[103.178927,34.079931],[103.124108,34.16166],[102.973203,34.205217],[102.978747,34.249246],[102.911609,34.313022],[102.798276,34.272982],[102.599328,34.145321],[102.655994,34.113623],[102.471213,34.072993],[102.437336,34.087364],[102.391756,33.970836],[102.315996,33.994154],[102.237772,33.963392],[102.136142,33.965377],[102.234076,33.870046],[102.239619,33.788036],[102.299981,33.782566],[102.342481,33.725357],[102.33817,33.614313],[102.440416,33.57494],[102.462589,33.449724],[102.396684,33.40678],[102.264873,33.417269],[102.186649,33.332327],[102.217446,33.248303],[102.112736,33.287324],[102.08933,33.204759],[101.935345,33.186734],[101.865744,33.103072],[101.841723,33.184731],[101.769658,33.268816],[101.878063,33.315829],[101.885454,33.380804],[101.9452,33.437742],[101.907012,33.542032],[101.844186,33.602353],[101.769042,33.538541],[101.735781,33.49614],[101.622448,33.502127],[101.582412,33.675081],[101.501724,33.70296],[101.385312,33.644702],[101.238718,33.685039],[101.166653,33.660142],[101.191907,33.786047],[101.153718,33.844706],[100.999118,33.889419],[100.806329,34.155224],[100.764445,34.178987],[100.821727,34.317469],[100.895024,34.375268],[100.986799,34.374774],[101.054552,34.322905],[101.235022,34.325376],[101.331109,34.245289],[101.530057,34.21066],[101.622448,34.178492],[101.736397,34.079931],[101.84665,34.150272],[101.955055,34.10966],[101.965526,34.167601],[102.062229,34.227976],[102.067772,34.293746],[102.149692,34.271993],[102.189728,34.355018],[102.237156,34.343163],[102.237772,34.343163],[102.237156,34.343163],[102.237772,34.343163],[102.210054,34.399462],[102.210054,34.399462],[102.155852,34.507511],[102.003715,34.538074],[101.919947,34.621821],[101.917483,34.875497],[102.048062,34.910832],[102.094874,34.986848],[102.218677,35.058386],[102.29567,35.071609],[102.310452,35.128883],[102.402227,35.191006],[102.370814,35.262854],[102.279655,35.304857],[102.317228,35.433663],[102.407155,35.408308],[102.447807,35.437563],[102.504473,35.583189],[102.742226,35.495065],[102.808747,35.560315],[102.686175,35.772253],[102.78411,35.862496],[102.955957,35.861041],[102.971971,35.995247],[102.882044,36.082335],[102.941174,36.105058],[102.98737,36.193956],[103.068058,36.203612],[103.024326,36.257185],[102.830305,36.358439],[102.832153,36.357957],[102.831537,36.360848],[102.830305,36.362294],[102.769943,36.472072],[102.761936,36.568721],[102.606719,36.682526],[102.704654,36.792329],[102.587009,36.869912],[102.56114,36.919676],[102.450271,36.968453],[102.506321,37.019108],[102.488459,37.079278],[102.642444,37.099801],[102.599944,37.174687],[102.457662,37.24807],[102.428097,37.308534],[102.19712,37.420287],[102.102881,37.48441],[102.130598,37.544684],[102.035743,37.627184],[102.036359,37.684974],[101.946432,37.728051],[101.815853,37.65419],[101.791832,37.695864],[101.659405,37.733256],[101.597195,37.828308],[101.459224,37.866105],[101.362522,37.791437],[101.150639,37.876969],[100.887633,38.050562],[100.93814,38.160261],[100.825423,38.158849],[100.74843,38.239724],[100.619083,38.265567],[100.546402,38.246773],[100.474953,38.289052],[100.318505,38.329428],[100.261222,38.366498],[100.24028,38.441519],[100.064122,38.518802],[100.001296,38.466821],[100.093071,38.4073],[100.157744,38.309712],[100.182998,38.221864],[100.126332,38.231735],[99.937238,38.34163],[99.826985,38.370251],[99.65945,38.449017],[99.555972,38.520207],[99.50916,38.608628],[99.450646,38.60442],[99.361951,38.718418],[99.222133,38.788875],[99.068764,38.896991],[99.1088,38.946334],[98.951735,38.987737],[98.816845,39.085799],[98.743548,39.086728],[98.584635,38.930046],[98.457752,38.952849],[98.383839,39.029581],[98.280977,39.027257],[98.251412,38.891403],[98.094964,38.786077],[98.009348,38.859262],[97.828878,38.930046],[97.701379,38.963085],[97.679205,39.010522],[97.371235,39.14058],[97.220946,39.192999],[96.962867,39.198564],[97.012142,39.141972],[96.969643,39.097873],[96.940693,38.907701],[96.983809,38.869046],[97.009063,38.702544],[97.057722,38.672654],[97.055874,38.5946],[96.975802,38.559519],[96.7941,38.60816],[96.780549,38.504289],[96.6666,38.483684],[96.698013,38.422302],[96.626564,38.356177],[96.665369,38.230325],[96.46334,38.27778],[96.335841,38.246303],[96.313051,38.162142],[96.221892,38.148969],[96.109175,38.187072],[96.063596,38.172962],[95.856024,38.284355],[95.83693,38.343977],[95.702039,38.400736],[95.51849,38.295156],[95.320157,38.32051],[95.261027,38.301261],[95.121825,38.417615],[94.973999,38.430271],[94.810775,38.385261],[94.67958,38.387137],[94.527443,38.36556],[94.511429,38.445268],[94.370379,38.762753],[93.885018,38.720752],[93.800019,38.750622],[93.769838,38.821047],[93.884403,38.826175],[93.729186,38.92446],[93.453245,38.915615],[93.274007,38.89606],[93.179152,38.923994],[93.198246,39.045847],[93.131725,39.108088],[93.142196,39.160531],[92.978356,39.143364],[92.938936,39.169809],[92.866871,39.138723],[92.489916,39.09973],[92.41046,39.038412],[92.366728,39.059322],[92.339011,39.236575],[92.52564,39.368528],[92.639589,39.514543],[92.745531,39.868137],[92.796654,40.15364],[92.906907,40.310773],[92.928465,40.572609],[93.506216,40.648464],[93.760599,40.664804],[93.820961,40.793574],[93.809874,40.879583],[94.01067,41.114857],[94.184365,41.268392],[94.534219,41.50586],[94.750413,41.538114],[94.861898,41.668309],[95.135991,41.772811],[95.29552,41.569456],[95.39407,41.693333],[95.57146,41.796011],[95.677402,41.830795],[95.855408,41.849516],[96.038342,41.924794],[96.117183,41.985753],[96.13874,42.054207],[96.077147,42.149652],[96.178161,42.217929],[96.040806,42.3264],[96.06606,42.414367],[95.978596,42.436892],[96.02356,42.54234],[96.103632,42.604026],[96.386348,42.727655],[96.742361,42.757096],[96.968411,42.756218],[97.172903,42.795305],[97.307177,42.565259],[97.84674,41.656687],[97.613915,41.477176],[97.629314,41.440407],[97.971776,41.097726],[98.25018,40.939271],[98.333332,40.918929],[98.344419,40.568518],[98.627751,40.677965],[98.569853,40.746901],[98.668403,40.772734],[98.689345,40.691576],[98.801446,40.609411],[98.790975,40.705185],[98.984996,40.782701],[99.041662,40.693844],[99.102025,40.676603],[99.172858,40.747354],[99.174705,40.858317],[99.565827,40.846551],[99.673,40.932943],[100.057346,40.908077],[100.107853,40.875511],[100.237201,40.716977],[100.242744,40.618495],[100.169447,40.541242],[100.169447,40.277458],[100.002528,40.197528],[99.927383,40.063947],[99.488218,39.875943],[99.672384,39.887881],[99.822058,39.85987],[99.904593,39.785886],[100.040716,39.756913],[100.128179,39.702155],[100.250135,39.68512],[100.314193,39.606799],[100.326512,39.509003],[100.500823,39.4813],[100.498975,39.400437],[100.619699,39.38749],[100.842053,39.405523],[100.842669,39.199955],[100.864227,39.106695],[100.835278,39.025863],[100.961545,39.005873],[100.969553,38.9468],[101.117378,38.97518],[101.228863,39.02075],[101.198682,38.943077],[101.24303,38.86066],[101.334189,38.848545],[101.307087,38.802865],[101.562702,38.712816],[101.601506,38.6549],[101.679115,38.690869],[101.777049,38.660507],[101.941505,38.808926],[102.075164,38.891403],[101.926106,39.000758],[101.830636,39.093229],[102.280887,39.190217],[102.45335,39.25511],[102.601792,39.172129],[103.007696,39.09973],[103.344615,39.331514],[103.595302,39.386565],[103.839214,39.460516],[103.964865,39.455434],[104.091133,39.418466],[104.047401,39.297721],[104.177364,39.15218],[104.207546,39.083941],[104.168125,38.940285],[104.044322,38.895128],[103.85954,38.64462],[103.416063,38.404956],[103.507838,38.281068],[103.53494,38.156497],[103.369868,38.089658],[103.362477,38.037368],[103.401897,37.861854],[103.676606,37.783871],[103.948235,37.564606],[104.183524,37.406981],[104.287002,37.42789],[104.437907,37.445943],[104.679971,37.407931],[104.713848,37.32947],[104.632544,37.299015],[104.600515,37.242831],[104.638087,37.201857],[104.775442,37.246641],[104.85613,37.211864],[104.95468,37.040125],[105.165331,36.995218],[105.190585,36.886185],[105.244787,36.894798],[105.334714,36.800953],[105.319932,36.742961],[105.218302,36.730494],[105.22015,36.631167],[105.281744,36.522575],[105.319932,36.536038],[105.398156,36.430683],[105.401236,36.370002],[105.473301,36.298185],[105.460366,36.223887],[105.513337,36.150003],[105.343954,36.033965],[105.333483,35.887707],[105.392613,35.865405],[105.481924,35.727094],[105.570003,35.716407],[105.671017,35.749434],[105.754785,35.730494],[105.690727,35.698431],[105.847176,35.490681],[105.868734,35.53987],[106.015943,35.52234],[106.070762,35.491655],[106.057827,35.488245],[105.897683,35.451698],[105.894603,35.413672],[106.054132,35.449261],[106.061523,35.457547],[106.064603,35.431225],[106.073226,35.421474],[106.079385,35.427325],[106.107102,35.364894],[106.174856,35.438538],[106.319601,35.265296],[106.472354,35.310716],[106.503767,35.415135],[106.440941,35.526723],[106.476666,35.580756],[106.434782,35.688712],[106.501304,35.737779],[106.501304,35.735836],[106.503767,35.736322],[106.504383,35.738265],[106.737208,35.689198],[106.86594,35.737779],[106.92199,35.803316],[106.849925,35.887707],[106.950939,36.004444],[106.957715,36.091522],[106.858548,36.206992],[106.858548,36.206992],[106.599238,36.274552],[106.599238,36.274552],[106.505615,36.265869],[106.488369,36.400348],[106.521014,36.479289],[106.401521,36.546133],[106.471738,36.581214],[106.519782,36.708912],[106.519782,36.708912],[106.589383,36.750153],[106.631883,36.723301],[106.658368,36.811972],[106.595542,36.940243],[106.666991,37.01672],[106.605397,37.127475],[106.750143,37.098847],[106.777244,37.156569],[106.777244,37.156569],[106.891193,37.098369],[107.030395,37.140831],[107.095685,37.115548],[107.180685,37.143692],[107.268764,37.099324],[107.288474,37.00812],[107.288474,37.00812],[107.310032,36.912501],[107.478183,36.908674],[107.540393,36.828736],[107.720863,36.802391],[107.907493,36.751591],[107.939522,36.655651],[108.004811,36.683006],[108.007891,36.61628],[108.163724,36.563916],[108.194521,36.625405],[108.262274,36.549497],[108.340498,36.55911],[108.407636,36.458117],[108.495099,36.422498],[108.510498,36.474478],[108.618903,36.434052],[108.651548,36.384936],[108.646004,36.25429],[108.712526,36.13889],[108.656475,35.952636],[108.588722,35.950214],[108.498179,35.876072],[108.524664,35.839703],[108.517273,35.715921],[108.539447,35.605569],[108.618287,35.556908],[108.631222,35.418548],[108.614591,35.32878],[108.48894,35.275066],[108.352817,35.285812],[108.2401,35.256014],[108.174811,35.305345],[108.049159,35.254059],[107.867457,35.256014],[107.745501,35.311693],[107.651878,35.239889],[107.686371,35.217895],[107.757204,35.076016],[107.863761,34.996161],[107.804631,34.95694],[107.634016,34.950565],[107.561951,34.966747],[107.523763,34.909851],[107.286626,34.931927],[107.252134,34.880896],[107.189308,34.893166],[107.089526,34.976553],[107.08275,35.024095],[106.901664,35.094621],[106.838222,35.079933],[106.710723,35.100495],[106.5746,35.089236],[106.494528,35.005964]]],[[[106.070762,35.491655],[106.078153,35.489707],[106.078153,35.489707],[106.071994,35.463395],[106.061523,35.457547],[106.054132,35.449261],[106.057827,35.488245],[106.070762,35.491655]]],[[[106.073226,35.421474],[106.064603,35.431225],[106.061523,35.457547],[106.071994,35.463395],[106.06953,35.458034],[106.071378,35.449261],[106.079385,35.427325],[106.073226,35.421474]]],[[[102.831537,36.360848],[102.832153,36.357957],[102.830305,36.358439],[102.830305,36.362294],[102.831537,36.360848]]],[[[106.503767,35.736322],[106.501304,35.735836],[106.501304,35.737779],[106.504383,35.738265],[106.503767,35.736322]]]]}},{type:"Feature",properties:{adcode:63e4,name:"\u9752\u6D77\u7701",center:[101.778916,36.623178],centroid:[96.043531,35.726402],childrenNum:8,level:"province",subFeatureIndex:28,acroutes:[1e5],parent:{adcode:1e5}},geometry:{type:"MultiPolygon",coordinates:[[[[91.001807,33.116102],[91.001807,33.116102],[90.805938,33.114599],[90.70554,33.135645],[90.486881,33.266815],[90.405577,33.260311],[90.332896,33.310829],[90.246665,33.42426],[90.092064,33.469691],[90.080977,33.530561],[90.01076,33.553501],[89.984275,33.61232],[90.008296,33.688026],[89.907282,33.74128],[89.933768,33.796986],[89.837065,33.869052],[89.795181,33.865575],[89.691704,33.957933],[89.635037,34.0492],[89.655979,34.096778],[89.818587,34.174037],[89.825362,34.293746],[89.872174,34.335752],[89.801957,34.390575],[89.823515,34.455231],[89.798877,34.628714],[89.72558,34.660709],[89.732356,34.732039],[89.799493,34.74384],[89.867862,34.810677],[89.821667,34.902981],[89.707102,34.919663],[89.654747,34.883351],[89.560509,34.938794],[89.593153,35.104412],[89.513081,35.139158],[89.449639,35.226693],[89.532175,35.285323],[89.497067,35.361479],[89.68616,35.414647],[89.744058,35.479963],[89.700327,35.537435],[89.765616,35.599732],[89.747138,35.751862],[89.801957,35.847948],[89.549422,35.858132],[89.429929,35.916302],[89.418843,36.04606],[89.476125,36.021868],[89.638117,36.04993],[89.711414,36.092972],[89.941159,36.067343],[89.937463,36.130675],[89.999057,36.169809],[90.028006,36.25815],[90.145651,36.238849],[90.128405,36.208923],[90.234962,36.161597],[90.430215,36.133091],[90.526917,36.148553],[90.66304,36.134058],[90.776373,36.086203],[90.841046,36.01848],[90.922966,36.029126],[90.979017,36.106992],[91.09235,36.088621],[91.124994,36.115693],[91.07264,36.299149],[91.026444,36.323738],[91.05293,36.432608],[91.035683,36.529788],[90.7388,36.58746],[90.720938,36.708912],[90.735105,36.827778],[90.853981,36.915371],[90.983944,36.913458],[91.181045,37.025318],[91.303617,37.01242],[91.280211,37.163721],[91.1909,37.205669],[91.192132,37.27807],[91.134849,37.32614],[91.099741,37.447843],[91.057241,37.483936],[90.958075,37.477763],[90.863836,37.534246],[90.882314,37.575513],[90.776373,37.6504],[90.519526,37.73089],[90.516446,38.207291],[90.530613,38.32004],[90.361846,38.300322],[90.352607,38.233615],[90.280542,38.238315],[90.137644,38.340692],[90.111774,38.477595],[90.315034,38.501948],[90.424671,38.492114],[90.463476,38.556711],[90.610685,38.596003],[90.619308,38.664245],[90.831191,38.667982],[91.307928,38.751089],[91.446515,38.813588],[91.87952,38.884417],[91.966368,38.930976],[92.173323,38.960758],[92.263866,39.002153],[92.38459,39.000758],[92.41046,39.038412],[92.489916,39.09973],[92.866871,39.138723],[92.938936,39.169809],[92.978356,39.143364],[93.142196,39.160531],[93.131725,39.108088],[93.198246,39.045847],[93.179152,38.923994],[93.274007,38.89606],[93.453245,38.915615],[93.729186,38.92446],[93.884403,38.826175],[93.769838,38.821047],[93.800019,38.750622],[93.885018,38.720752],[94.370379,38.762753],[94.511429,38.445268],[94.527443,38.36556],[94.67958,38.387137],[94.810775,38.385261],[94.973999,38.430271],[95.121825,38.417615],[95.261027,38.301261],[95.320157,38.32051],[95.51849,38.295156],[95.702039,38.400736],[95.83693,38.343977],[95.856024,38.284355],[96.063596,38.172962],[96.109175,38.187072],[96.221892,38.148969],[96.313051,38.162142],[96.335841,38.246303],[96.46334,38.27778],[96.665369,38.230325],[96.626564,38.356177],[96.698013,38.422302],[96.6666,38.483684],[96.780549,38.504289],[96.7941,38.60816],[96.975802,38.559519],[97.055874,38.5946],[97.057722,38.672654],[97.009063,38.702544],[96.983809,38.869046],[96.940693,38.907701],[96.969643,39.097873],[97.012142,39.141972],[96.962867,39.198564],[97.220946,39.192999],[97.371235,39.14058],[97.679205,39.010522],[97.701379,38.963085],[97.828878,38.930046],[98.009348,38.859262],[98.094964,38.786077],[98.251412,38.891403],[98.280977,39.027257],[98.383839,39.029581],[98.457752,38.952849],[98.584635,38.930046],[98.743548,39.086728],[98.816845,39.085799],[98.951735,38.987737],[99.1088,38.946334],[99.068764,38.896991],[99.222133,38.788875],[99.361951,38.718418],[99.450646,38.60442],[99.50916,38.608628],[99.555972,38.520207],[99.65945,38.449017],[99.826985,38.370251],[99.937238,38.34163],[100.126332,38.231735],[100.182998,38.221864],[100.157744,38.309712],[100.093071,38.4073],[100.001296,38.466821],[100.064122,38.518802],[100.24028,38.441519],[100.261222,38.366498],[100.318505,38.329428],[100.474953,38.289052],[100.546402,38.246773],[100.619083,38.265567],[100.74843,38.239724],[100.825423,38.158849],[100.93814,38.160261],[100.887633,38.050562],[101.150639,37.876969],[101.362522,37.791437],[101.459224,37.866105],[101.597195,37.828308],[101.659405,37.733256],[101.791832,37.695864],[101.815853,37.65419],[101.946432,37.728051],[102.036359,37.684974],[102.035743,37.627184],[102.130598,37.544684],[102.102881,37.48441],[102.19712,37.420287],[102.428097,37.308534],[102.457662,37.24807],[102.599944,37.174687],[102.642444,37.099801],[102.488459,37.079278],[102.506321,37.019108],[102.450271,36.968453],[102.56114,36.919676],[102.587009,36.869912],[102.704654,36.792329],[102.606719,36.682526],[102.761936,36.568721],[102.769943,36.472072],[102.830305,36.362294],[102.830305,36.358439],[103.024326,36.257185],[103.068058,36.203612],[102.98737,36.193956],[102.941174,36.105058],[102.882044,36.082335],[102.971971,35.995247],[102.955957,35.861041],[102.78411,35.862496],[102.686175,35.772253],[102.808747,35.560315],[102.742226,35.495065],[102.504473,35.583189],[102.447807,35.437563],[102.407155,35.408308],[102.317228,35.433663],[102.279655,35.304857],[102.370814,35.262854],[102.402227,35.191006],[102.310452,35.128883],[102.29567,35.071609],[102.218677,35.058386],[102.094874,34.986848],[102.048062,34.910832],[101.917483,34.875497],[101.919947,34.621821],[102.003715,34.538074],[102.155852,34.507511],[102.210054,34.399462],[102.210054,34.399462],[102.237772,34.343163],[102.237156,34.343163],[102.237772,34.343163],[102.237156,34.343163],[102.189728,34.355018],[102.149692,34.271993],[102.067772,34.293746],[102.062229,34.227976],[101.965526,34.167601],[101.955055,34.10966],[101.84665,34.150272],[101.736397,34.079931],[101.622448,34.178492],[101.530057,34.21066],[101.331109,34.245289],[101.235022,34.325376],[101.054552,34.322905],[100.986799,34.374774],[100.895024,34.375268],[100.821727,34.317469],[100.764445,34.178987],[100.806329,34.155224],[100.999118,33.889419],[101.153718,33.844706],[101.191907,33.786047],[101.166653,33.660142],[101.238718,33.685039],[101.385312,33.644702],[101.501724,33.70296],[101.582412,33.675081],[101.622448,33.502127],[101.735781,33.49614],[101.769042,33.538541],[101.769658,33.447728],[101.695745,33.433748],[101.64955,33.323328],[101.739477,33.265815],[101.625528,33.100566],[101.486326,33.227285],[101.405022,33.225783],[101.393935,33.157687],[101.297232,33.262313],[101.183283,33.270317],[101.11553,33.194746],[101.169733,33.100566],[101.183899,32.984204],[101.129081,32.989725],[101.124153,32.909893],[101.237486,32.824962],[101.22332,32.725856],[101.157414,32.661404],[101.075494,32.683061],[100.93198,32.600433],[100.690532,32.678025],[100.645568,32.526306],[100.54517,32.569681],[100.516837,32.630168],[100.399809,32.756556],[100.339447,32.719313],[100.258759,32.742466],[100.208252,32.606482],[100.088143,32.668959],[100.139266,32.724346],[100.123252,32.837028],[100.038252,32.928979],[99.956332,32.948061],[99.877492,33.045915],[99.854086,32.945048],[99.788181,32.956596],[99.763543,32.778693],[99.607711,32.780705],[99.558436,32.839039],[99.385973,32.900349],[99.268328,32.878744],[99.235067,32.982197],[99.179633,33.044912],[99.002242,33.08252],[98.858728,33.150674],[98.759562,33.277321],[98.779272,33.37181],[98.734309,33.409278],[98.742316,33.477677],[98.648077,33.549014],[98.61728,33.63723],[98.6567,33.647193],[98.539056,33.746752],[98.462064,33.849178],[98.406629,33.867065],[98.440506,33.981255],[98.401702,34.08786],[98.21076,34.078444],[98.051848,34.115604],[97.937283,34.196804],[97.937283,34.196804],[97.834421,34.208186],[97.665654,34.126997],[97.70261,34.036805],[97.660111,33.956444],[97.458698,33.886935],[97.388481,33.884452],[97.435293,33.680558],[97.415583,33.605343],[97.52522,33.575937],[97.552321,33.465698],[97.625618,33.461705],[97.753733,33.410277],[97.676125,33.340825],[97.621306,33.334327],[97.576343,33.221779],[97.487648,33.168205],[97.487648,33.10658],[97.542466,33.036385],[97.523988,32.988721],[97.373699,32.956094],[97.386018,32.779196],[97.42359,32.704713],[97.543698,32.621602],[97.730944,32.527315],[97.670582,32.517225],[97.472249,32.54497],[97.448843,32.586823],[97.334895,32.514198],[97.388481,32.501583],[97.341054,32.441009],[97.387865,32.427374],[97.424822,32.323278],[97.371235,32.273208],[97.299786,32.294959],[97.264062,32.183621],[97.308409,32.074682],[97.130403,32.04375],[97.008447,32.067076],[96.894498,32.013822],[96.722651,32.013314],[96.81073,31.894521],[96.760223,31.856922],[96.840295,31.720623],[96.775006,31.673788],[96.616093,31.736908],[96.576057,31.712989],[96.468268,31.769978],[96.389428,31.919917],[96.253921,31.929566],[96.176313,31.777608],[96.252689,31.69619],[96.204646,31.598904],[96.160298,31.600943],[96.135661,31.702299],[96.041422,31.734364],[95.982908,31.816765],[95.89914,31.817273],[95.825227,31.681935],[95.779648,31.74912],[95.618272,31.783712],[95.546823,31.739961],[95.439649,31.831508],[95.360809,31.959013],[95.454432,32.062006],[95.406389,32.182102],[95.312766,32.148673],[95.26965,32.194761],[95.241317,32.32075],[95.10581,32.259042],[95.096571,32.322267],[95.261643,32.348049],[95.218527,32.397067],[95.081789,32.384942],[94.985086,32.421819],[94.912405,32.415758],[94.889616,32.472311],[94.80708,32.486444],[94.772587,32.555057],[94.614291,32.673492],[94.53853,32.599425],[94.395016,32.594385],[94.371611,32.524793],[94.196684,32.516216],[94.136322,32.433939],[93.958931,32.484929],[93.861613,32.466253],[93.820345,32.549509],[93.654657,32.57321],[93.618933,32.522775],[93.516687,32.475844],[93.4631,32.556065],[93.385492,32.525297],[93.239514,32.662411],[93.069515,32.626137],[93.019624,32.737433],[92.877342,32.697161],[92.686401,32.765109],[92.63651,32.720319],[92.355641,32.764606],[92.255243,32.720823],[92.198577,32.755046],[92.227526,32.820939],[92.145606,32.885779],[91.955897,32.820437],[91.896766,32.907884],[91.785281,32.944044],[91.58079,33.039395],[91.49887,33.109086],[91.436044,33.065974],[91.262349,33.141156],[91.134849,33.073495],[91.001807,33.116102]]]]}},{type:"Feature",properties:{adcode:64e4,name:"\u5B81\u590F\u56DE\u65CF\u81EA\u6CBB\u533A",center:[106.278179,38.46637],centroid:[106.169867,37.291331],childrenNum:5,level:"province",subFeatureIndex:29,acroutes:[1e5],parent:{adcode:1e5}},geometry:{type:"MultiPolygon",coordinates:[[[[106.06953,35.458034],[106.071994,35.463395],[106.078153,35.489707],[106.078153,35.489707],[106.070762,35.491655],[106.015943,35.52234],[105.868734,35.53987],[105.847176,35.490681],[105.690727,35.698431],[105.754785,35.730494],[105.671017,35.749434],[105.570003,35.716407],[105.481924,35.727094],[105.392613,35.865405],[105.333483,35.887707],[105.343954,36.033965],[105.513337,36.150003],[105.460366,36.223887],[105.473301,36.298185],[105.401236,36.370002],[105.398156,36.430683],[105.319932,36.536038],[105.281744,36.522575],[105.22015,36.631167],[105.218302,36.730494],[105.319932,36.742961],[105.334714,36.800953],[105.244787,36.894798],[105.190585,36.886185],[105.165331,36.995218],[104.95468,37.040125],[104.85613,37.211864],[104.775442,37.246641],[104.638087,37.201857],[104.600515,37.242831],[104.632544,37.299015],[104.713848,37.32947],[104.679971,37.407931],[104.437907,37.445943],[104.287002,37.42789],[104.407726,37.464467],[104.419429,37.511943],[104.801311,37.538516],[104.866601,37.566503],[105.024281,37.579781],[105.111128,37.633818],[105.315004,37.702018],[105.598952,37.699178],[105.622974,37.778669],[105.760944,37.799947],[105.80406,37.861854],[105.799749,37.940227],[105.840401,38.003902],[105.780655,38.084949],[105.775111,38.186601],[105.86627,38.296565],[105.821307,38.366967],[105.874277,38.593197],[105.852719,38.641349],[105.90569,38.731488],[105.897683,38.788875],[106.003625,38.874636],[105.97098,38.909097],[106.060907,38.968667],[106.096631,39.08487],[106.145907,39.153108],[106.283877,39.14522],[106.284493,39.270397],[106.402753,39.291701],[106.506231,39.269934],[106.602318,39.375466],[106.683622,39.357426],[106.751375,39.381478],[106.806809,39.318554],[106.795723,39.214327],[106.859164,39.107623],[106.96757,39.054676],[106.954019,38.941215],[106.709491,38.718885],[106.66268,38.601614],[106.647897,38.470569],[106.601702,38.392295],[106.482825,38.319571],[106.546883,38.269794],[106.768621,38.174843],[107.014997,38.120261],[107.19054,38.154144],[107.329742,38.087774],[107.438147,37.992586],[107.419669,37.940699],[107.49235,37.944945],[107.65003,37.864688],[107.620465,37.775832],[107.499125,37.7659],[107.484959,37.706279],[107.348836,37.608226],[107.342061,37.515265],[107.284162,37.482036],[107.257677,37.337082],[107.336517,37.165628],[107.268764,37.099324],[107.180685,37.143692],[107.095685,37.115548],[107.030395,37.140831],[106.891193,37.098369],[106.777244,37.156569],[106.777244,37.156569],[106.750143,37.098847],[106.605397,37.127475],[106.666991,37.01672],[106.595542,36.940243],[106.658368,36.811972],[106.631883,36.723301],[106.589383,36.750153],[106.519782,36.708912],[106.519782,36.708912],[106.471738,36.581214],[106.401521,36.546133],[106.521014,36.479289],[106.488369,36.400348],[106.505615,36.265869],[106.599238,36.274552],[106.599238,36.274552],[106.858548,36.206992],[106.858548,36.206992],[106.957715,36.091522],[106.950939,36.004444],[106.849925,35.887707],[106.92199,35.803316],[106.86594,35.737779],[106.737208,35.689198],[106.504383,35.738265],[106.501304,35.737779],[106.434782,35.688712],[106.476666,35.580756],[106.440941,35.526723],[106.503767,35.415135],[106.472354,35.310716],[106.319601,35.265296],[106.174856,35.438538],[106.107102,35.364894],[106.079385,35.427325],[106.071378,35.449261],[106.073226,35.450236],[106.073842,35.45511],[106.06953,35.458034]]],[[[106.057827,35.488245],[106.054132,35.449261],[105.894603,35.413672],[105.897683,35.451698],[106.057827,35.488245]]],[[[106.071378,35.449261],[106.06953,35.458034],[106.073842,35.45511],[106.073226,35.450236],[106.071378,35.449261]]]]}},{type:"Feature",properties:{adcode:65e4,name:"\u65B0\u7586\u7EF4\u543E\u5C14\u81EA\u6CBB\u533A",center:[87.617733,43.792818],centroid:[85.294712,41.371801],childrenNum:23,level:"province",subFeatureIndex:30,acroutes:[1e5],parent:{adcode:1e5}},geometry:{type:"MultiPolygon",coordinates:[[[[79.039649,34.33427],[78.958961,34.386132],[78.878273,34.391563],[78.742766,34.454737],[78.708274,34.522301],[78.634977,34.538074],[78.58139,34.505539],[78.542586,34.574539],[78.436029,34.543496],[78.427405,34.594243],[78.280812,34.623298],[78.267261,34.705482],[78.213059,34.717778],[78.237696,34.882369],[78.182262,34.936832],[78.201972,34.974592],[78.123131,35.036833],[78.124979,35.108327],[78.062769,35.11469],[78.01719,35.22816],[78.013494,35.36587],[78.136066,35.49263],[78.009799,35.491655],[77.914944,35.464857],[77.816394,35.518445],[77.690742,35.448287],[77.518895,35.481912],[77.396939,35.467781],[77.307628,35.540356],[77.195527,35.519419],[77.072339,35.590974],[76.967013,35.591947],[76.83705,35.66198],[76.76129,35.65566],[76.69292,35.747492],[76.593754,35.772253],[76.566037,35.819328],[76.59745,35.895947],[76.54879,35.919209],[76.365857,35.82418],[76.298719,35.841643],[76.147198,35.833397],[76.16506,35.909033],[76.104082,36.018964],[75.961184,36.051381],[75.942706,36.137923],[76.016619,36.165461],[76.011691,36.229197],[76.060967,36.225335],[75.989518,36.340127],[76.035097,36.409017],[75.945786,36.588421],[75.871873,36.66621],[75.724048,36.750632],[75.537418,36.773161],[75.536802,36.730015],[75.458578,36.720903],[75.425933,36.778912],[75.413614,36.954588],[75.244847,36.963194],[75.130898,37.010987],[75.032348,37.01672],[74.893762,36.939764],[74.84695,37.056839],[74.739161,37.028185],[74.70898,37.084529],[74.56793,37.032961],[74.498944,37.072595],[74.465068,37.147031],[74.511263,37.239973],[74.665864,37.235686],[74.727458,37.282831],[74.816153,37.216629],[74.911008,37.23378],[74.927022,37.277594],[75.125971,37.322334],[75.153072,37.414109],[75.069304,37.513367],[75.035428,37.501026],[74.940573,37.558914],[74.891914,37.668399],[75.006478,37.771102],[74.917167,37.844847],[74.911008,37.967118],[74.821697,38.102842],[74.789668,38.324734],[74.868508,38.404018],[74.862965,38.484152],[74.792747,38.536121],[74.717603,38.542205],[74.639995,38.599744],[74.506336,38.63761],[74.229779,38.656302],[74.147859,38.676858],[74.068403,38.585714],[74.090577,38.542205],[73.926121,38.536121],[73.89902,38.579166],[73.799237,38.610966],[73.757353,38.719818],[73.769056,38.775815],[73.699455,38.857865],[73.767824,38.941215],[73.826339,38.917012],[73.820179,39.041665],[73.743187,39.029581],[73.719781,39.108088],[73.639709,39.220353],[73.542391,39.269471],[73.554094,39.350023],[73.502355,39.383791],[73.592898,39.412457],[73.61076,39.466059],[73.745651,39.461902],[73.868223,39.482686],[73.953838,39.600345],[73.905795,39.742193],[73.841737,39.756453],[73.845433,39.831389],[73.907027,39.873647],[73.910722,39.934693],[73.980324,40.004851],[73.943367,40.015849],[74.023439,40.085008],[74.26304,40.125281],[74.356662,40.089128],[74.442894,40.137175],[74.577169,40.260567],[74.673255,40.278828],[74.697893,40.344527],[74.908544,40.339055],[74.795211,40.443412],[74.819233,40.505767],[74.891914,40.507587],[74.973218,40.460258],[75.102565,40.439769],[75.13521,40.463445],[75.242383,40.448876],[75.355716,40.538059],[75.432093,40.563518],[75.550353,40.648917],[75.636584,40.624399],[75.646439,40.516684],[75.733287,40.474369],[75.669845,40.363678],[75.709265,40.28111],[75.831221,40.327196],[75.921764,40.291151],[75.986438,40.381911],[76.176147,40.381455],[76.279625,40.439314],[76.333212,40.343615],[76.442233,40.391482],[76.539551,40.4639],[76.556798,40.542606],[76.657196,40.620312],[76.676906,40.696113],[76.646725,40.760045],[76.731724,40.818935],[76.761905,40.954185],[76.85368,40.976323],[76.885709,41.027348],[77.002122,41.073373],[77.091433,41.062546],[77.169041,41.009291],[77.296541,41.004776],[77.363062,41.040888],[77.476395,40.999357],[77.591576,40.992132],[77.829328,41.059388],[77.814546,41.134238],[77.905089,41.185141],[77.972842,41.172982],[78.129291,41.228354],[78.162551,41.382521],[78.324544,41.384316],[78.458818,41.41349],[78.580774,41.481659],[78.650375,41.467314],[78.739071,41.555578],[78.825302,41.560503],[78.959577,41.652663],[79.021787,41.657134],[79.138199,41.722814],[79.21704,41.725493],[79.326061,41.809391],[79.361169,41.796457],[79.462799,41.848625],[79.550879,41.833915],[79.640806,41.884717],[79.776313,41.892734],[79.852689,42.015544],[79.918594,42.041322],[80.14218,42.034656],[80.193303,42.081301],[80.139717,42.151427],[80.168666,42.200202],[80.28631,42.232993],[80.283847,42.320649],[80.229028,42.358241],[80.206238,42.428943],[80.265368,42.502211],[80.164354,42.627363],[80.228412,42.692923],[80.261673,42.825592],[80.417505,42.838755],[80.500041,42.879544],[80.602903,42.89445],[80.487106,42.94878],[80.378701,43.031497],[80.593048,43.133319],[80.79446,43.137248],[80.777214,43.30816],[80.69283,43.32035],[80.761199,43.446456],[80.75504,43.49422],[80.522215,43.816724],[80.511128,43.906887],[80.453846,43.989596],[80.449534,44.077778],[80.3941,44.127189],[80.413194,44.264461],[80.350368,44.484713],[80.411962,44.605392],[80.313412,44.704987],[80.200695,44.75642],[80.169898,44.844727],[79.999283,44.793797],[79.969102,44.877383],[79.887798,44.909173],[80.144644,45.058985],[80.24381,45.031507],[80.328194,45.069973],[80.404571,45.049264],[80.493882,45.126991],[80.599207,45.10588],[80.731634,45.156111],[80.897938,45.127413],[80.93551,45.16033],[81.024821,45.162862],[81.111669,45.218522],[81.170183,45.210935],[81.44982,45.265707],[81.575471,45.307803],[81.634601,45.357856],[81.78797,45.383497],[81.921013,45.233272],[82.052824,45.25602],[82.109491,45.211357],[82.294272,45.247596],[82.487061,45.181],[82.58746,45.224001],[82.60101,45.346083],[82.546808,45.425925],[82.281954,45.538772],[82.266555,45.620015],[82.289961,45.7166],[82.340468,45.772552],[82.342932,45.935076],[82.461808,45.979999],[82.518474,46.153938],[82.726662,46.494818],[82.829524,46.772551],[82.876335,46.82375],[82.937929,47.014193],[82.993364,47.06557],[83.02724,47.215341],[83.15474,47.236063],[83.257602,47.173057],[83.370318,47.178751],[83.418978,47.118934],[83.463325,47.131961],[83.576042,47.059049],[83.766367,47.026838],[83.932671,46.970117],[84.002888,46.990527],[84.086656,46.965217],[84.195061,47.003586],[84.37122,46.993384],[84.425422,47.00889],[84.506726,46.972975],[84.748175,47.009706],[84.849189,46.95705],[84.934188,46.863857],[84.987159,46.918239],[85.082014,46.939895],[85.276651,47.068831],[85.325926,47.044781],[85.545816,47.057826],[85.582772,47.14295],[85.682555,47.222655],[85.675163,47.318063],[85.701649,47.384138],[85.614801,47.497853],[85.617881,47.550781],[85.547048,48.00833],[85.529186,48.02714],[85.587084,48.191738],[85.678243,48.266272],[85.695489,48.335129],[85.791576,48.418986],[85.916612,48.438043],[86.225813,48.432485],[86.305269,48.491999],[86.416138,48.481688],[86.579978,48.538768],[86.640956,48.629012],[86.780774,48.73133],[86.754289,48.78458],[86.822042,48.849193],[86.757985,48.894844],[86.732731,48.995444],[86.836209,49.051159],[86.88918,49.132656],[87.088128,49.13383],[87.112766,49.155748],[87.239033,49.114644],[87.388707,49.098193],[87.43675,49.075073],[87.511894,49.101718],[87.49896,49.141268],[87.821096,49.173745],[87.867291,49.108769],[87.833415,49.050374],[87.911639,48.980132],[87.87653,48.949099],[87.763198,48.926697],[87.742256,48.881074],[87.93874,48.757765],[88.029283,48.75027],[88.089645,48.695009],[88.027436,48.62743],[87.96153,48.599344],[88.041602,48.548275],[88.10874,48.545898],[88.196819,48.493982],[88.363123,48.460267],[88.443811,48.391579],[88.503557,48.413029],[88.605803,48.337914],[88.575006,48.277423],[88.663085,48.172189],[88.79736,48.133869],[88.824461,48.106708],[88.939026,48.115497],[89.078228,47.98711],[89.231597,47.980301],[89.38127,48.046344],[89.569132,48.037943],[89.651052,47.913774],[89.735435,47.897329],[89.761921,47.835916],[89.957789,47.842743],[89.960253,47.885694],[90.086521,47.865628],[90.07605,47.777646],[90.13518,47.723337],[90.331665,47.68146],[90.398186,47.547551],[90.468403,47.497853],[90.468403,47.404795],[90.526301,47.378871],[90.488113,47.317252],[90.56141,47.207212],[90.767134,46.992568],[90.901408,46.960725],[90.958075,46.8794],[90.942676,46.825797],[91.054161,46.71761],[91.017821,46.582483],[91.079415,46.558626],[90.983328,46.374823],[90.900177,46.31204],[91.021517,46.121185],[91.028292,46.023224],[90.850285,45.888035],[90.714779,45.728714],[90.676591,45.582339],[90.671047,45.48762],[90.772677,45.432223],[90.804706,45.294756],[90.877387,45.280865],[90.881698,45.191964],[91.007966,45.218522],[91.129922,45.215993],[91.242023,45.137544],[91.37753,45.110947],[91.448978,45.156533],[91.561695,45.075466],[91.694738,45.065325],[91.803144,45.082649],[92.100026,45.081381],[92.240461,45.015859],[92.315605,45.02897],[92.501003,45.001054],[92.779407,45.050532],[92.884117,45.046727],[92.932776,45.017551],[93.174225,45.015436],[93.434767,44.955343],[93.509296,44.968044],[93.716251,44.89434],[93.723642,44.86551],[94.215162,44.667978],[94.329727,44.582811],[94.359292,44.51544],[94.470777,44.509466],[94.606283,44.448418],[94.722696,44.340681],[94.945666,44.292734],[94.998637,44.25332],[95.398381,44.294447],[95.326932,44.028756],[95.527113,44.007243],[95.623199,43.855567],[95.735916,43.597437],[95.857872,43.417779],[95.880046,43.280289],[95.921314,43.22974],[96.363558,42.900586],[96.386348,42.727655],[96.103632,42.604026],[96.02356,42.54234],[95.978596,42.436892],[96.06606,42.414367],[96.040806,42.3264],[96.178161,42.217929],[96.077147,42.149652],[96.13874,42.054207],[96.117183,41.985753],[96.038342,41.924794],[95.855408,41.849516],[95.677402,41.830795],[95.57146,41.796011],[95.39407,41.693333],[95.29552,41.569456],[95.135991,41.772811],[94.861898,41.668309],[94.750413,41.538114],[94.534219,41.50586],[94.184365,41.268392],[94.01067,41.114857],[93.809874,40.879583],[93.820961,40.793574],[93.760599,40.664804],[93.506216,40.648464],[92.928465,40.572609],[92.906907,40.310773],[92.796654,40.15364],[92.745531,39.868137],[92.639589,39.514543],[92.52564,39.368528],[92.339011,39.236575],[92.366728,39.059322],[92.41046,39.038412],[92.38459,39.000758],[92.263866,39.002153],[92.173323,38.960758],[91.966368,38.930976],[91.87952,38.884417],[91.446515,38.813588],[91.307928,38.751089],[90.831191,38.667982],[90.619308,38.664245],[90.610685,38.596003],[90.463476,38.556711],[90.424671,38.492114],[90.315034,38.501948],[90.111774,38.477595],[90.137644,38.340692],[90.280542,38.238315],[90.352607,38.233615],[90.361846,38.300322],[90.530613,38.32004],[90.516446,38.207291],[90.519526,37.73089],[90.776373,37.6504],[90.882314,37.575513],[90.863836,37.534246],[90.958075,37.477763],[91.057241,37.483936],[91.099741,37.447843],[91.134849,37.32614],[91.192132,37.27807],[91.1909,37.205669],[91.280211,37.163721],[91.303617,37.01242],[91.181045,37.025318],[90.983944,36.913458],[90.853981,36.915371],[90.735105,36.827778],[90.720938,36.708912],[90.7388,36.58746],[91.035683,36.529788],[91.05293,36.432608],[91.026444,36.323738],[91.07264,36.299149],[91.124994,36.115693],[91.09235,36.088621],[90.979017,36.106992],[90.922966,36.029126],[90.841046,36.01848],[90.776373,36.086203],[90.66304,36.134058],[90.526917,36.148553],[90.430215,36.133091],[90.234962,36.161597],[90.128405,36.208923],[90.145651,36.238849],[90.028006,36.25815],[89.999057,36.169809],[89.937463,36.130675],[89.941159,36.067343],[89.711414,36.092972],[89.490291,36.150969],[89.375727,36.228231],[89.287647,36.235954],[89.232213,36.295774],[89.127503,36.249465],[89.10225,36.281305],[88.964279,36.318917],[88.926091,36.364221],[88.802903,36.337717],[88.783809,36.291916],[88.623665,36.389271],[88.573158,36.461005],[88.470912,36.482175],[88.365586,36.457636],[88.241782,36.468704],[88.134609,36.427313],[87.983088,36.437903],[87.949211,36.401312],[87.731785,36.384936],[87.570409,36.342536],[87.470626,36.354102],[87.460155,36.409498],[87.361605,36.419128],[87.306787,36.363739],[87.193454,36.349283],[87.149106,36.29722],[86.996353,36.308793],[86.887332,36.262492],[86.862078,36.300114],[86.746282,36.291916],[86.701318,36.245122],[86.515305,36.205543],[86.392733,36.206992],[86.187625,36.131158],[86.199944,36.032513],[86.132806,35.979271],[86.060125,35.846008],[85.949256,35.779049],[85.811286,35.779049],[85.65299,35.731465],[85.613569,35.652257],[85.372121,35.701346],[85.271107,35.788757],[85.159006,35.745549],[85.053065,35.751862],[84.729081,35.613353],[84.448828,35.55058],[84.45314,35.473141],[84.335495,35.414647],[84.1618,35.359039],[84.095895,35.362943],[84.005968,35.422449],[83.885244,35.367334],[83.677672,35.360991],[83.622238,35.335614],[83.451006,35.38197],[83.242203,35.420011],[83.127022,35.398554],[83.067892,35.462908],[82.998907,35.484348],[82.960719,35.671702],[82.788872,35.684824],[82.731589,35.63767],[82.628727,35.692114],[82.424852,35.713006],[82.336156,35.651284],[82.328149,35.559342],[82.033114,35.450236],[82.05344,35.350255],[81.927789,35.271158],[81.736847,35.262365],[81.675253,35.233536],[81.513261,35.235002],[81.494167,35.292161],[81.362356,35.354647],[81.219458,35.319016],[81.09935,35.407333],[81.031597,35.380506],[81.026053,35.312181],[80.844351,35.345375],[80.689135,35.33903],[80.65649,35.394165],[80.516672,35.392214],[80.412578,35.433663],[80.321419,35.386848],[80.268448,35.294114],[80.362687,35.209096],[80.257977,35.20323],[80.23026,35.147476],[80.118159,35.066222],[80.031311,35.034384],[80.034391,34.902],[79.947544,34.820993],[79.906892,34.683837],[79.801566,34.478909],[79.675914,34.451284],[79.504683,34.454737],[79.229358,34.413778],[79.161605,34.441416],[79.0107,34.399956],[79.039649,34.33427]]]]}},{type:"Feature",properties:{adcode:71e4,name:"\u53F0\u6E7E\u7701",center:[121.509062,25.044332],centroid:[120.971486,23.749452],childrenNum:0,level:"province",subFeatureIndex:31,acroutes:[1e5],parent:{adcode:1e5}},geometry:{type:"MultiPolygon",coordinates:[[[[120.443706,22.441042],[120.297112,22.531154],[120.20041,22.721137],[120.131425,23.002313],[120.018708,23.073342],[120.108019,23.34115],[120.12157,23.504758],[120.095084,23.587583],[120.102476,23.70104],[120.175156,23.807282],[120.245989,23.84067],[120.278018,23.927657],[120.68885,24.600764],[120.82374,24.68832],[120.89211,24.767665],[120.914899,24.864876],[121.024537,25.040639],[121.209318,25.127342],[121.371926,25.15984],[121.444607,25.27081],[121.53515,25.307597],[121.62323,25.294614],[121.745186,25.162007],[121.917033,25.137634],[121.947214,25.031965],[122.012503,25.001602],[121.844968,24.836101],[121.841272,24.733977],[121.892395,24.618171],[121.88562,24.529477],[121.809243,24.338818],[121.643556,24.097633],[121.65957,24.006934],[121.621382,23.920547],[121.522832,23.538772],[121.479716,23.32247],[121.415042,23.196039],[121.430441,23.137181],[121.370695,23.084351],[121.324499,22.945574],[121.170514,22.723345],[121.03316,22.650477],[120.914899,22.302718],[120.907508,22.033426],[120.86624,21.98461],[120.873016,21.897477],[120.701784,21.926898],[120.651277,22.033426],[120.640806,22.241259],[120.569973,22.361938],[120.443706,22.441042]]],[[[119.646064,23.55084],[119.609108,23.503661],[119.566608,23.584842],[119.678093,23.600195],[119.646064,23.55084]]],[[[123.491374,25.747089],[123.496917,25.739005],[123.495069,25.737927],[123.494453,25.737927],[123.492606,25.737388],[123.480903,25.737927],[123.480287,25.737388],[123.46612,25.732537],[123.465504,25.732537],[123.491374,25.747089]]],[[[123.549272,25.724991],[123.549272,25.724991],[123.546192,25.729303],[123.546192,25.728764],[123.549272,25.724991]]],[[[123.690322,25.923187],[123.691554,25.921572],[123.690938,25.917267],[123.690938,25.916729],[123.690322,25.923187]]],[[[123.559743,25.718523],[123.559743,25.717984],[123.548656,25.720679],[123.549272,25.720679],[123.559743,25.718523]]],[[[121.510513,22.087215],[121.573339,22.086106],[121.594281,21.995152],[121.510513,22.087215]]],[[[123.559743,25.718523],[123.560359,25.718523],[123.560359,25.717984],[123.559743,25.717984],[123.559743,25.718523]]]]}},{type:"Feature",properties:{adcode:81e4,name:"\u9999\u6E2F\u7279\u522B\u884C\u653F\u533A",center:[114.173355,22.320048],centroid:[114.134394,22.377371],childrenNum:18,level:"province",subFeatureIndex:32,acroutes:[1e5],parent:{adcode:1e5}},geometry:{type:"MultiPolygon",coordinates:[[[[114.031778,22.504071],[114.044096,22.502413],[114.045944,22.502413],[114.185762,22.551601],[114.185762,22.551601],[114.232574,22.539997],[114.232574,22.528944],[114.263371,22.541654],[114.263987,22.541654],[114.271994,22.535023],[114.28924,22.522864],[114.355762,22.434958],[114.406269,22.433299],[114.406269,22.432746],[114.356994,22.340356],[114.323733,22.384622],[114.315726,22.299951],[114.315726,22.298843],[114.248588,22.274484],[114.265835,22.200825],[114.195002,22.232951],[114.120473,22.272269],[114.121089,22.320985],[114.034857,22.301058],[114.026234,22.229628],[113.848844,22.191961],[113.898119,22.308808],[114.015763,22.332054],[113.920293,22.368024],[113.918445,22.418366],[114.031778,22.504071]]],[[[114.350834,22.260087],[114.355146,22.268393],[114.355762,22.268393],[114.350834,22.260087]]],[[[114.320037,22.381303],[114.320037,22.381856],[114.319421,22.382409],[114.323733,22.384622],[114.320037,22.381303]]],[[[114.372392,22.322645],[114.372392,22.323752],[114.37424,22.323199],[114.372392,22.322645]]]]}},{type:"Feature",properties:{adcode:82e4,name:"\u6FB3\u95E8\u7279\u522B\u884C\u653F\u533A",center:[113.54909,22.198951],centroid:[113.56642,22.159262],childrenNum:8,level:"province",subFeatureIndex:33,acroutes:[1e5],parent:{adcode:1e5}},geometry:{type:"MultiPolygon",coordinates:[[[[113.558736,22.213012],[113.6037,22.132116],[113.553809,22.107727],[113.558736,22.213012]]]]}},{type:"Feature",properties:{adcode:1e5,name:"",adchar:"JD"},geometry:{type:"MultiPolygon",coordinates:[[[[122.51865306,23.46078502],[122.51742454,23.45790762],[122.51536697,23.45555069],[122.51268178,23.45394494],[122.50963181,23.45324755],[122.5065156,23.45352678],[122.5036382,23.45475531],[122.50128127,23.45681287],[122.49967552,23.45949807],[122.49897813,23.46254804],[122.49925737,23.46566424],[122.77921829,24.57855302],[122.78044682,24.58143041],[122.78250438,24.58378734],[122.78518957,24.5853931],[122.78823955,24.58609049],[122.79135575,24.58581125],[122.79423315,24.58458272],[122.79659008,24.58252516],[122.79819583,24.57983997],[122.79889322,24.57678999],[122.79861399,24.57367379],[122.51865306,23.46078502]]],[[[121.17202617,20.8054593],[121.16966862,20.80340244],[121.16679085,20.80217478],[121.16367457,20.80189649],[121.1606248,20.8025948],[121.1579401,20.80420136],[121.15588324,20.80655891],[121.15465558,20.80943668],[121.15437729,20.81255297],[121.1550756,20.81560273],[121.15668216,20.81828744],[121.89404403,21.70026162],[121.89640158,21.70231847],[121.89927934,21.70354613],[121.90239563,21.70382443],[121.9054454,21.70312611],[121.9081301,21.70151955],[121.91018696,21.699162],[121.91141462,21.69628423],[121.91169291,21.69316794],[121.9109946,21.69011818],[121.90938804,21.68743347],[121.17202617,20.8054593]]],[[[119.47366172,18.00707291],[119.47175735,18.00459056],[119.46917909,18.0028182],[119.46617933,18.0019293],[119.4630517,18.00201089],[119.46010237,18.00305497],[119.45762002,18.00495935],[119.45584765,18.00753761],[119.45495876,18.01053737],[119.45504035,18.01366499],[119.45608443,18.01661433],[120.00812005,19.0335793],[120.01002443,19.03606165],[120.01260269,19.03783401],[120.01560245,19.03872291],[120.01873007,19.03864132],[120.02167941,19.03759723],[120.02416175,19.03569286],[120.02593412,19.0331146],[120.02682302,19.03011484],[120.02674143,19.02698721],[120.02569734,19.02403788],[119.47366172,18.00707291]]],[[[119.0726757,15.04098494],[119.0726746,15.04083704],[119.07218171,15.00751424],[119.07164663,15.00443165],[119.07018516,15.00166528],[119.06794036,14.99948592],[119.06513198,14.99810691],[119.06203491,14.99766324],[119.05895232,14.99819832],[119.05618595,14.99965979],[119.05400659,15.00190458],[119.05262758,15.00471297],[119.0521839,15.00781004],[119.0526757,15.04105889],[119.0526757,16.04388528],[119.05316513,16.04697545],[119.05458553,16.04976313],[119.05679784,16.05197545],[119.05958553,16.05339584],[119.0626757,16.05388528],[119.06576587,16.05339584],[119.06855355,16.05197545],[119.07076587,16.04976313],[119.07218626,16.04697545],[119.0726757,16.04388528],[119.0726757,15.04098494]]],[[[118.68646749,11.18959191],[118.85557939,11.6136711],[118.9698053,11.99151854],[118.97116801,11.99433487],[118.97333431,11.99659227],[118.97609216,11.99806975],[118.9791716,11.99862269],[118.98227119,11.99819697],[118.98508753,11.99683427],[118.98734492,11.99466796],[118.9888224,11.99191011],[118.98937534,11.98883067],[118.98894963,11.98573108],[118.87459939,11.60747236],[118.87431591,11.606662],[118.70476212,11.18147468],[118.70409227,11.18010771],[118.54242469,10.9053354],[118.54043581,10.90292022],[118.53779795,10.90123786],[118.53476931,10.90045298],[118.53164636,10.90064241],[118.5287348,10.90178762],[118.52631962,10.9037765],[118.52463726,10.90641436],[118.52385237,10.909443],[118.52404181,10.91256595],[118.52518702,10.91547751],[118.68646749,11.18959191]]],[[[115.54466883,7.14672265],[115.54229721,7.14468204],[115.53941108,7.14347417],[115.53629295,7.14321728],[115.53324806,7.14393652],[115.53057445,7.14556148],[115.52853383,7.1479331],[115.52732596,7.15081924],[115.52706908,7.15393736],[115.52778832,7.15698226],[115.52941328,7.15965587],[116.23523025,7.99221221],[116.23760187,7.99425282],[116.240488,7.99546069],[116.24360613,7.99571758],[116.24665102,7.99499834],[116.24932463,7.99337338],[116.25136525,7.99100176],[116.25257312,7.98811563],[116.25283001,7.9849975],[116.25211077,7.98195261],[116.2504858,7.979279],[115.54466883,7.14672265]]],[[[112.30705249,3.53487257],[112.51501594,3.59753306],[112.84361424,3.7506962],[112.84662187,3.75155809],[112.84974864,3.7514484],[112.85268847,3.75037785],[112.8551536,3.74845124],[112.85690272,3.74585715],[112.85776462,3.74284952],[112.85765492,3.73972276],[112.85658437,3.73678292],[112.85465776,3.7343178],[112.85206367,3.73256867],[112.52281386,3.57910186],[112.52147408,3.5785908],[112.31248917,3.51562254],[112.31181658,3.51544515],[111.79132585,3.39736822],[111.78820398,3.39716187],[111.78517113,3.39793033],[111.78252419,3.39959839],[111.78052226,3.40200275],[111.77936129,3.40490807],[111.77915495,3.40802995],[111.77992341,3.41106279],[111.78159146,3.41370973],[111.78399583,3.41571167],[111.78690114,3.41687263],[112.30705249,3.53487257]]],[[[108.26055972,6.08912451],[108.26004031,6.09098419],[108.23638164,6.22427602],[108.23630689,6.22476797],[108.19687578,6.53630242],[108.19679674,6.53760583],[108.1987683,6.95072469],[108.19897125,6.95268198],[108.22460147,7.07791743],[108.22570055,7.08084671],[108.22765103,7.083293],[108.230262,7.08501682],[108.23327786,7.08584944],[108.23640341,7.08570936],[108.2393327,7.08461028],[108.24177899,7.0826598],[108.24350281,7.08004883],[108.24433543,7.07703297],[108.24419535,7.07390742],[108.21876335,6.94964057],[108.21679964,6.53816468],[108.25611734,6.22752625],[108.279563,6.09543449],[108.30878645,6.01987736],[108.30944469,6.0168187],[108.30912553,6.01370633],[108.30786022,6.01084492],[108.30577262,6.00851455],[108.30306706,6.00694335],[108.3000084,6.00628511],[108.29689603,6.00660426],[108.29403462,6.00786957],[108.29170425,6.00995718],[108.29013305,6.01266273],[108.26055972,6.08912451]]],[[[110.12822847,11.36894451],[110.18898148,11.48996382],[110.23982347,11.61066468],[110.28485499,11.78705054],[110.3083549,11.94803461],[110.3142445,12.14195265],[110.312278,12.23998238],[110.31270536,12.24308175],[110.31406956,12.24589736],[110.31623706,12.2481536],[110.3189957,12.24962962],[110.32207543,12.25018094],[110.32517479,12.24975358],[110.3279904,12.24838938],[110.33024665,12.24622187],[110.33172267,12.24346324],[110.33227398,12.24038351],[110.33424553,12.14210167],[110.33424294,12.14159753],[110.32832827,11.94685414],[110.32822801,11.94571326],[110.30456934,11.78364161],[110.30436343,11.7826124],[110.25901765,11.60499559],[110.25854422,11.60358735],[110.20728377,11.48189306],[110.20700505,11.48128846],[110.14588682,11.35954163],[110.14541497,11.35870461],[110.07246741,11.24270688],[110.07040803,11.24035153],[110.0677216,11.23874785],[110.06467109,11.23805281],[110.0615551,11.23833444],[110.05867865,11.23956519],[110.05632331,11.24162456],[110.05471962,11.24431099],[110.05402458,11.2473615],[110.05430621,11.25047749],[110.05553696,11.25335394],[110.12822847,11.36894451]]],[[[109.82951587,15.22896754],[109.77065019,15.44468789],[109.67264555,15.66561455],[109.57455994,15.82609887],[109.51574449,15.91095759],[109.29314007,16.19491896],[109.29161878,16.19765288],[109.29101677,16.20072311],[109.29139298,16.2038291],[109.29271057,16.20666681],[109.29484059,16.20895848],[109.29757451,16.21047978],[109.30064474,16.21108179],[109.30375073,16.21070558],[109.30658844,16.20938798],[109.30888011,16.20725797],[109.53166592,15.92306523],[109.53201478,15.92259221],[109.59116145,15.8372556],[109.59147511,15.83677407],[109.6900529,15.67548445],[109.69066131,15.67432448],[109.7892391,15.45210582],[109.78974541,15.45068337],[109.84889209,15.23393326],[109.84903675,15.23333003],[109.8648092,15.15722425],[109.86495704,15.15409906],[109.86413191,15.15108113],[109.86241457,15.1484659],[109.85997314,15.14650935],[109.85704658,15.145403],[109.85392139,15.14525516],[109.85090347,15.14608029],[109.84828823,15.14779763],[109.84633168,15.15023907],[109.84522534,15.15316562],[109.82951587,15.22896754]]]]}}],WI={type:HI,features:GI};class jI{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const t=this._partials;let n=0;for(let i=0;i<this._n&&i<32;i++){const s=t[i],o=e+s,a=Math.abs(e)<Math.abs(s)?e-(o-s):s-(o-e);a&&(t[n++]=a),e=o}return t[n]=e,this._n=n+1,this}valueOf(){const e=this._partials;let t=this._n,n,i,s,o=0;if(t>0){for(o=e[--t];t>0&&(n=o,i=e[--t],o=n+i,s=i-(o-n),!s););t>0&&(s<0&&e[t-1]<0||s>0&&e[t-1]>0)&&(i=s*2,n=o+i,i==n-o&&(o=n))}return o}}function*qI(r){for(const e of r)yield*e}function km(r){return Array.from(qI(r))}var Vt=1e-6,XI=1e-12,Et=Math.PI,bi=Et/2,x6=Et/4,hr=Et*2,Pi=180/Et,mn=Et/180,fn=Math.abs,Om=Math.atan,Xc=Math.atan2,un=Math.cos,$I=Math.exp,KI=Math.log,hn=Math.sin,YI=Math.sign||function(r){return r>0?1:r<0?-1:0},e3=Math.sqrt,ZI=Math.tan;function QI(r){return r>1?0:r<-1?Et:Math.acos(r)}function $c(r){return r>1?bi:r<-1?-bi:Math.asin(r)}function rc(){}function lu(r,e){r&&y6.hasOwnProperty(r.type)&&y6[r.type](r,e)}var b6={Feature:function(r,e){lu(r.geometry,e)},FeatureCollection:function(r,e){for(var t=r.features,n=-1,i=t.length;++n<i;)lu(t[n].geometry,e)}},y6={Sphere:function(r,e){e.sphere()},Point:function(r,e){r=r.coordinates,e.point(r[0],r[1],r[2])},MultiPoint:function(r,e){for(var t=r.coordinates,n=-1,i=t.length;++n<i;)r=t[n],e.point(r[0],r[1],r[2])},LineString:function(r,e){Cd(r.coordinates,e,0)},MultiLineString:function(r,e){for(var t=r.coordinates,n=-1,i=t.length;++n<i;)Cd(t[n],e,0)},Polygon:function(r,e){w6(r.coordinates,e)},MultiPolygon:function(r,e){for(var t=r.coordinates,n=-1,i=t.length;++n<i;)w6(t[n],e)},GeometryCollection:function(r,e){for(var t=r.geometries,n=-1,i=t.length;++n<i;)lu(t[n],e)}};function Cd(r,e,t){var n=-1,i=r.length-t,s;for(e.lineStart();++n<i;)s=r[n],e.point(s[0],s[1],s[2]);e.lineEnd()}function w6(r,e){var t=-1,n=r.length;for(e.polygonStart();++t<n;)Cd(r[t],e,1);e.polygonEnd()}function JI(r,e){r&&b6.hasOwnProperty(r.type)?b6[r.type](r,e):lu(r,e)}function Ad(r){return[Xc(r[1],r[0]),$c(r[2])]}function K1(r){var e=r[0],t=r[1],n=un(t);return[n*un(e),n*hn(e),hn(t)]}function a2(r,e){return r[0]*e[0]+r[1]*e[1]+r[2]*e[2]}function cu(r,e){return[r[1]*e[2]-r[2]*e[1],r[2]*e[0]-r[0]*e[2],r[0]*e[1]-r[1]*e[0]]}function Th(r,e){r[0]+=e[0],r[1]+=e[1],r[2]+=e[2]}function l2(r,e){return[r[0]*e,r[1]*e,r[2]*e]}function Pd(r){var e=e3(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]);r[0]/=e,r[1]/=e,r[2]/=e}function Ld(r,e){function t(n,i){return n=r(n,i),e(n[0],n[1])}return r.invert&&e.invert&&(t.invert=function(n,i){return n=e.invert(n,i),n&&r.invert(n[0],n[1])}),t}function Rd(r,e){return[fn(r)>Et?r+Math.round(-r/hr)*hr:r,e]}Rd.invert=Rd;function Fm(r,e,t){return(r%=hr)?e||t?Ld(M6(r),E6(e,t)):M6(r):e||t?E6(e,t):Rd}function S6(r){return function(e,t){return e+=r,[e>Et?e-hr:e<-Et?e+hr:e,t]}}function M6(r){var e=S6(r);return e.invert=S6(-r),e}function E6(r,e){var t=un(r),n=hn(r),i=un(e),s=hn(e);function o(a,l){var c=un(l),h=un(a)*c,d=hn(a)*c,f=hn(l),m=f*t+h*n;return[Xc(d*i-m*s,h*t-f*n),$c(m*i+d*s)]}return o.invert=function(a,l){var c=un(l),h=un(a)*c,d=hn(a)*c,f=hn(l),m=f*i-d*s;return[Xc(d*i+f*s,h*t+m*n),$c(m*t-h*n)]},o}function eD(r){r=Fm(r[0]*mn,r[1]*mn,r.length>2?r[2]*mn:0);function e(t){return t=r(t[0]*mn,t[1]*mn),t[0]*=Pi,t[1]*=Pi,t}return e.invert=function(t){return t=r.invert(t[0]*mn,t[1]*mn),t[0]*=Pi,t[1]*=Pi,t},e}function tD(r,e,t,n,i,s){if(!!t){var o=un(e),a=hn(e),l=n*t;i==null?(i=e+n*hr,s=e-l/2):(i=T6(o,i),s=T6(o,s),(n>0?i<s:i>s)&&(i+=n*hr));for(var c,h=i;n>0?h>s:h<s;h-=l)c=Ad([o,-a*un(h),-a*hn(h)]),r.point(c[0],c[1])}}function T6(r,e){e=K1(e),e[0]-=r,Pd(e);var t=QI(-e[1]);return((-e[2]<0?-t:t)+hr-Vt)%hr}function Nm(){var r=[],e;return{point:function(t,n,i){e.push([t,n,i])},lineStart:function(){r.push(e=[])},lineEnd:rc,rejoin:function(){r.length>1&&r.push(r.pop().concat(r.shift()))},result:function(){var t=r;return r=[],e=null,t}}}function O2(r,e){return fn(r[0]-e[0])<Vt&&fn(r[1]-e[1])<Vt}function c2(r,e,t,n){this.x=r,this.z=e,this.o=t,this.e=n,this.v=!1,this.n=this.p=null}function zm(r,e,t,n,i){var s=[],o=[],a,l;if(r.forEach(function(_){if(!((v=_.length-1)<=0)){var v,x=_[0],y=_[v],M;if(O2(x,y)){if(!x[2]&&!y[2]){for(i.lineStart(),a=0;a<v;++a)i.point((x=_[a])[0],x[1]);i.lineEnd();return}y[0]+=2*Vt}s.push(M=new c2(x,_,null,!0)),o.push(M.o=new c2(x,null,M,!1)),s.push(M=new c2(y,_,null,!1)),o.push(M.o=new c2(y,null,M,!0))}}),!!s.length){for(o.sort(e),C6(s),C6(o),a=0,l=o.length;a<l;++a)o[a].e=t=!t;for(var c=s[0],h,d;;){for(var f=c,m=!0;f.v;)if((f=f.n)===c)return;h=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(m)for(a=0,l=h.length;a<l;++a)i.point((d=h[a])[0],d[1]);else n(f.x,f.n.x,1,i);f=f.n}else{if(m)for(h=f.p.z,a=h.length-1;a>=0;--a)i.point((d=h[a])[0],d[1]);else n(f.x,f.p.x,-1,i);f=f.p}f=f.o,h=f.z,m=!m}while(!f.v);i.lineEnd()}}}function C6(r){if(!!(e=r.length)){for(var e,t=0,n=r[0],i;++t<e;)n.n=i=r[t],i.p=n,n=i;n.n=i=r[0],i.p=n}}function Ch(r){return fn(r[0])<=Et?r[0]:YI(r[0])*((fn(r[0])+Et)%hr-Et)}function nD(r,e){var t=Ch(e),n=e[1],i=hn(n),s=[hn(t),-un(t),0],o=0,a=0,l=new jI;i===1?n=bi+Vt:i===-1&&(n=-bi-Vt);for(var c=0,h=r.length;c<h;++c)if(!!(f=(d=r[c]).length))for(var d,f,m=d[f-1],_=Ch(m),v=m[1]/2+x6,x=hn(v),y=un(v),M=0;M<f;++M,_=S,x=A,y=R,m=w){var w=d[M],S=Ch(w),T=w[1]/2+x6,A=hn(T),R=un(T),E=S-_,L=E>=0?1:-1,k=L*E,H=k>Et,te=x*A;if(l.add(Xc(te*L*hn(k),y*R+te*un(k))),o+=H?E+L*hr:E,H^_>=t^S>=t){var q=cu(K1(m),K1(w));Pd(q);var B=cu(s,q);Pd(B);var N=(H^E>=0?-1:1)*$c(B[2]);(n>N||n===N&&(q[0]||q[1]))&&(a+=H^E>=0?1:-1)}}return(o<-Vt||o<Vt&&l<-XI)^a&1}function Bm(r,e,t,n){return function(i){var s=e(i),o=Nm(),a=e(o),l=!1,c,h,d,f={point:m,lineStart:v,lineEnd:x,polygonStart:function(){f.point=y,f.lineStart=M,f.lineEnd=w,h=[],c=[]},polygonEnd:function(){f.point=m,f.lineStart=v,f.lineEnd=x,h=km(h);var S=nD(c,n);h.length?(l||(i.polygonStart(),l=!0),zm(h,rD,S,t,i)):S&&(l||(i.polygonStart(),l=!0),i.lineStart(),t(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),h=c=null},sphere:function(){i.polygonStart(),i.lineStart(),t(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function m(S,T){r(S,T)&&i.point(S,T)}function _(S,T){s.point(S,T)}function v(){f.point=_,s.lineStart()}function x(){f.point=m,s.lineEnd()}function y(S,T){d.push([S,T]),a.point(S,T)}function M(){a.lineStart(),d=[]}function w(){y(d[0][0],d[0][1]),a.lineEnd();var S=a.clean(),T=o.result(),A,R=T.length,E,L,k;if(d.pop(),c.push(d),d=null,!!R){if(S&1){if(L=T[0],(E=L.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),A=0;A<E;++A)i.point((k=L[A])[0],k[1]);i.lineEnd()}return}R>1&&S&2&&T.push(T.pop().concat(T.shift())),h.push(T.filter(iD))}}return f}}function iD(r){return r.length>1}function rD(r,e){return((r=r.x)[0]<0?r[1]-bi-Vt:bi-r[1])-((e=e.x)[0]<0?e[1]-bi-Vt:bi-e[1])}const A6=Bm(function(){return!0},sD,aD,[-Et,-bi]);function sD(r){var e=NaN,t=NaN,n=NaN,i;return{lineStart:function(){r.lineStart(),i=1},point:function(s,o){var a=s>0?Et:-Et,l=fn(s-e);fn(l-Et)<Vt?(r.point(e,t=(t+o)/2>0?bi:-bi),r.point(n,t),r.lineEnd(),r.lineStart(),r.point(a,t),r.point(s,t),i=0):n!==a&&l>=Et&&(fn(e-n)<Vt&&(e-=n*Vt),fn(s-a)<Vt&&(s-=a*Vt),t=oD(e,t,s,o),r.point(n,t),r.lineEnd(),r.lineStart(),r.point(a,t),i=0),r.point(e=s,t=o),n=a},lineEnd:function(){r.lineEnd(),e=t=NaN},clean:function(){return 2-i}}}function oD(r,e,t,n){var i,s,o=hn(r-t);return fn(o)>Vt?Om((hn(e)*(s=un(n))*hn(t)-hn(n)*(i=un(e))*hn(r))/(i*s*o)):(e+n)/2}function aD(r,e,t,n){var i;if(r==null)i=t*bi,n.point(-Et,i),n.point(0,i),n.point(Et,i),n.point(Et,0),n.point(Et,-i),n.point(0,-i),n.point(-Et,-i),n.point(-Et,0),n.point(-Et,i);else if(fn(r[0]-e[0])>Vt){var s=r[0]<e[0]?Et:-Et;i=t*s/2,n.point(-s,i),n.point(0,i),n.point(s,i)}else n.point(e[0],e[1])}function lD(r){var e=un(r),t=6*mn,n=e>0,i=fn(e)>Vt;function s(h,d,f,m){tD(m,r,t,f,h,d)}function o(h,d){return un(h)*un(d)>e}function a(h){var d,f,m,_,v;return{lineStart:function(){_=m=!1,v=1},point:function(x,y){var M=[x,y],w,S=o(x,y),T=n?S?0:c(x,y):S?c(x+(x<0?Et:-Et),y):0;if(!d&&(_=m=S)&&h.lineStart(),S!==m&&(w=l(d,M),(!w||O2(d,w)||O2(M,w))&&(M[2]=1)),S!==m)v=0,S?(h.lineStart(),w=l(M,d),h.point(w[0],w[1])):(w=l(d,M),h.point(w[0],w[1],2),h.lineEnd()),d=w;else if(i&&d&&n^S){var A;!(T&f)&&(A=l(M,d,!0))&&(v=0,n?(h.lineStart(),h.point(A[0][0],A[0][1]),h.point(A[1][0],A[1][1]),h.lineEnd()):(h.point(A[1][0],A[1][1]),h.lineEnd(),h.lineStart(),h.point(A[0][0],A[0][1],3)))}S&&(!d||!O2(d,M))&&h.point(M[0],M[1]),d=M,m=S,f=T},lineEnd:function(){m&&h.lineEnd(),d=null},clean:function(){return v|(_&&m)<<1}}}function l(h,d,f){var m=K1(h),_=K1(d),v=[1,0,0],x=cu(m,_),y=a2(x,x),M=x[0],w=y-M*M;if(!w)return!f&&h;var S=e*y/w,T=-e*M/w,A=cu(v,x),R=l2(v,S),E=l2(x,T);Th(R,E);var L=A,k=a2(R,L),H=a2(L,L),te=k*k-H*(a2(R,R)-1);if(!(te<0)){var q=e3(te),B=l2(L,(-k-q)/H);if(Th(B,R),B=Ad(B),!f)return B;var N=h[0],W=d[0],V=h[1],Y=d[1],X;W<N&&(X=N,N=W,W=X);var O=W-N,de=fn(O-Et)<Vt,_e=de||O<Vt;if(!de&&Y<V&&(X=V,V=Y,Y=X),_e?de?V+Y>0^B[1]<(fn(B[0]-N)<Vt?V:Y):V<=B[1]&&B[1]<=Y:O>Et^(N<=B[0]&&B[0]<=W)){var pe=l2(L,(-k+q)/H);return Th(pe,R),[B,Ad(pe)]}}}function c(h,d){var f=n?r:Et-r,m=0;return h<-f?m|=1:h>f&&(m|=2),d<-f?m|=4:d>f&&(m|=8),m}return Bm(o,a,s,n?[0,-r]:[-Et,r-Et])}function cD(r,e,t,n,i,s){var o=r[0],a=r[1],l=e[0],c=e[1],h=0,d=1,f=l-o,m=c-a,_;if(_=t-o,!(!f&&_>0)){if(_/=f,f<0){if(_<h)return;_<d&&(d=_)}else if(f>0){if(_>d)return;_>h&&(h=_)}if(_=i-o,!(!f&&_<0)){if(_/=f,f<0){if(_>d)return;_>h&&(h=_)}else if(f>0){if(_<h)return;_<d&&(d=_)}if(_=n-a,!(!m&&_>0)){if(_/=m,m<0){if(_<h)return;_<d&&(d=_)}else if(m>0){if(_>d)return;_>h&&(h=_)}if(_=s-a,!(!m&&_<0)){if(_/=m,m<0){if(_>d)return;_>h&&(h=_)}else if(m>0){if(_<h)return;_<d&&(d=_)}return h>0&&(r[0]=o+h*f,r[1]=a+h*m),d<1&&(e[0]=o+d*f,e[1]=a+d*m),!0}}}}}var sc=1e9,u2=-sc;function uD(r,e,t,n){function i(c,h){return r<=c&&c<=t&&e<=h&&h<=n}function s(c,h,d,f){var m=0,_=0;if(c==null||(m=o(c,d))!==(_=o(h,d))||l(c,h)<0^d>0)do f.point(m===0||m===3?r:t,m>1?n:e);while((m=(m+d+4)%4)!==_);else f.point(h[0],h[1])}function o(c,h){return fn(c[0]-r)<Vt?h>0?0:3:fn(c[0]-t)<Vt?h>0?2:1:fn(c[1]-e)<Vt?h>0?1:0:h>0?3:2}function a(c,h){return l(c.x,h.x)}function l(c,h){var d=o(c,1),f=o(h,1);return d!==f?d-f:d===0?h[1]-c[1]:d===1?c[0]-h[0]:d===2?c[1]-h[1]:h[0]-c[0]}return function(c){var h=c,d=Nm(),f,m,_,v,x,y,M,w,S,T,A,R={point:E,lineStart:te,lineEnd:q,polygonStart:k,polygonEnd:H};function E(N,W){i(N,W)&&h.point(N,W)}function L(){for(var N=0,W=0,V=m.length;W<V;++W)for(var Y=m[W],X=1,O=Y.length,de=Y[0],_e,pe,Ee=de[0],se=de[1];X<O;++X)_e=Ee,pe=se,de=Y[X],Ee=de[0],se=de[1],pe<=n?se>n&&(Ee-_e)*(n-pe)>(se-pe)*(r-_e)&&++N:se<=n&&(Ee-_e)*(n-pe)<(se-pe)*(r-_e)&&--N;return N}function k(){h=d,f=[],m=[],A=!0}function H(){var N=L(),W=A&&N,V=(f=km(f)).length;(W||V)&&(c.polygonStart(),W&&(c.lineStart(),s(null,null,1,c),c.lineEnd()),V&&zm(f,a,N,s,c),c.polygonEnd()),h=c,f=m=_=null}function te(){R.point=B,m&&m.push(_=[]),T=!0,S=!1,M=w=NaN}function q(){f&&(B(v,x),y&&S&&d.rejoin(),f.push(d.result())),R.point=E,S&&h.lineEnd()}function B(N,W){var V=i(N,W);if(m&&_.push([N,W]),T)v=N,x=W,y=V,T=!1,V&&(h.lineStart(),h.point(N,W));else if(V&&S)h.point(N,W);else{var Y=[M=Math.max(u2,Math.min(sc,M)),w=Math.max(u2,Math.min(sc,w))],X=[N=Math.max(u2,Math.min(sc,N)),W=Math.max(u2,Math.min(sc,W))];cD(Y,X,r,e,t,n)?(S||(h.lineStart(),h.point(Y[0],Y[1])),h.point(X[0],X[1]),V||h.lineEnd(),A=!1):V&&(h.lineStart(),h.point(N,W),A=!1)}M=N,w=W,S=V}return R}}const P6=r=>r;var Y1=1/0,uu=Y1,Kc=-Y1,hu=Kc,hD={point:dD,lineStart:rc,lineEnd:rc,polygonStart:rc,polygonEnd:rc,result:function(){var r=[[Y1,uu],[Kc,hu]];return Kc=hu=-(uu=Y1=1/0),r}};function dD(r,e){r<Y1&&(Y1=r),r>Kc&&(Kc=r),e<uu&&(uu=e),e>hu&&(hu=e)}const L6=hD;function s4(r){return function(e){var t=new Id;for(var n in r)t[n]=r[n];return t.stream=e,t}}function Id(){}Id.prototype={constructor:Id,point:function(r,e){this.stream.point(r,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function o4(r,e,t){var n=r.clipExtent&&r.clipExtent();return r.scale(150).translate([0,0]),n!=null&&r.clipExtent(null),JI(t,r.stream(L6)),e(L6.result()),n!=null&&r.clipExtent(n),r}function Um(r,e,t){return o4(r,function(n){var i=e[1][0]-e[0][0],s=e[1][1]-e[0][1],o=Math.min(i/(n[1][0]-n[0][0]),s/(n[1][1]-n[0][1])),a=+e[0][0]+(i-o*(n[1][0]+n[0][0]))/2,l=+e[0][1]+(s-o*(n[1][1]+n[0][1]))/2;r.scale(150*o).translate([a,l])},t)}function fD(r,e,t){return Um(r,[[0,0],e],t)}function pD(r,e,t){return o4(r,function(n){var i=+e,s=i/(n[1][0]-n[0][0]),o=(i-s*(n[1][0]+n[0][0]))/2,a=-s*n[0][1];r.scale(150*s).translate([o,a])},t)}function mD(r,e,t){return o4(r,function(n){var i=+e,s=i/(n[1][1]-n[0][1]),o=-s*n[0][0],a=(i-s*(n[1][1]+n[0][1]))/2;r.scale(150*s).translate([o,a])},t)}var R6=16,gD=un(30*mn);function I6(r,e){return+e?vD(r,e):_D(r)}function _D(r){return s4({point:function(e,t){e=r(e,t),this.stream.point(e[0],e[1])}})}function vD(r,e){function t(n,i,s,o,a,l,c,h,d,f,m,_,v,x){var y=c-n,M=h-i,w=y*y+M*M;if(w>4*e&&v--){var S=o+f,T=a+m,A=l+_,R=e3(S*S+T*T+A*A),E=$c(A/=R),L=fn(fn(A)-1)<Vt||fn(s-d)<Vt?(s+d)/2:Xc(T,S),k=r(L,E),H=k[0],te=k[1],q=H-n,B=te-i,N=M*q-y*B;(N*N/w>e||fn((y*q+M*B)/w-.5)>.3||o*f+a*m+l*_<gD)&&(t(n,i,s,o,a,l,H,te,L,S/=R,T/=R,A,v,x),x.point(H,te),t(H,te,L,S,T,A,c,h,d,f,m,_,v,x))}}return function(n){var i,s,o,a,l,c,h,d,f,m,_,v,x={point:y,lineStart:M,lineEnd:S,polygonStart:function(){n.polygonStart(),x.lineStart=T},polygonEnd:function(){n.polygonEnd(),x.lineStart=M}};function y(E,L){E=r(E,L),n.point(E[0],E[1])}function M(){d=NaN,x.point=w,n.lineStart()}function w(E,L){var k=K1([E,L]),H=r(E,L);t(d,f,h,m,_,v,d=H[0],f=H[1],h=E,m=k[0],_=k[1],v=k[2],R6,n),n.point(d,f)}function S(){x.point=y,n.lineEnd()}function T(){M(),x.point=A,x.lineEnd=R}function A(E,L){w(i=E,L),s=d,o=f,a=m,l=_,c=v,x.point=w}function R(){t(d,f,h,m,_,v,s,o,i,a,l,c,R6,n),x.lineEnd=S,S()}return x}}var xD=s4({point:function(r,e){this.stream.point(r*mn,e*mn)}});function bD(r){return s4({point:function(e,t){var n=r(e,t);return this.stream.point(n[0],n[1])}})}function yD(r,e,t,n,i){function s(o,a){return o*=n,a*=i,[e+r*o,t-r*a]}return s.invert=function(o,a){return[(o-e)/r*n,(t-a)/r*i]},s}function D6(r,e,t,n,i,s){if(!s)return yD(r,e,t,n,i);var o=un(s),a=hn(s),l=o*r,c=a*r,h=o/r,d=a/r,f=(a*t-o*e)/r,m=(a*e+o*t)/r;function _(v,x){return v*=n,x*=i,[l*v-c*x+e,t-c*v-l*x]}return _.invert=function(v,x){return[n*(h*v-d*x+f),i*(m-d*v-h*x)]},_}function wD(r){return SD(function(){return r})()}function SD(r){var e,t=150,n=480,i=250,s=0,o=0,a=0,l=0,c=0,h,d=0,f=1,m=1,_=null,v=A6,x=null,y,M,w,S=P6,T=.5,A,R,E,L,k;function H(N){return E(N[0]*mn,N[1]*mn)}function te(N){return N=E.invert(N[0],N[1]),N&&[N[0]*Pi,N[1]*Pi]}H.stream=function(N){return L&&k===N?L:L=xD(bD(h)(v(A(S(k=N)))))},H.preclip=function(N){return arguments.length?(v=N,_=void 0,B()):v},H.postclip=function(N){return arguments.length?(S=N,x=y=M=w=null,B()):S},H.clipAngle=function(N){return arguments.length?(v=+N?lD(_=N*mn):(_=null,A6),B()):_*Pi},H.clipExtent=function(N){return arguments.length?(S=N==null?(x=y=M=w=null,P6):uD(x=+N[0][0],y=+N[0][1],M=+N[1][0],w=+N[1][1]),B()):x==null?null:[[x,y],[M,w]]},H.scale=function(N){return arguments.length?(t=+N,q()):t},H.translate=function(N){return arguments.length?(n=+N[0],i=+N[1],q()):[n,i]},H.center=function(N){return arguments.length?(s=N[0]%360*mn,o=N[1]%360*mn,q()):[s*Pi,o*Pi]},H.rotate=function(N){return arguments.length?(a=N[0]%360*mn,l=N[1]%360*mn,c=N.length>2?N[2]%360*mn:0,q()):[a*Pi,l*Pi,c*Pi]},H.angle=function(N){return arguments.length?(d=N%360*mn,q()):d*Pi},H.reflectX=function(N){return arguments.length?(f=N?-1:1,q()):f<0},H.reflectY=function(N){return arguments.length?(m=N?-1:1,q()):m<0},H.precision=function(N){return arguments.length?(A=I6(R,T=N*N),B()):e3(T)},H.fitExtent=function(N,W){return Um(H,N,W)},H.fitSize=function(N,W){return fD(H,N,W)},H.fitWidth=function(N,W){return pD(H,N,W)},H.fitHeight=function(N,W){return mD(H,N,W)};function q(){var N=D6(t,0,0,f,m,d).apply(null,e(s,o)),W=D6(t,n-N[0],i-N[1],f,m,d);return h=Fm(a,l,c),R=Ld(e,W),E=Ld(h,R),A=I6(R,T),B()}function B(){return L=k=null,H}return function(){return e=r.apply(this,arguments),H.invert=e.invert&&te,q()}}function a4(r,e){return[r,KI(ZI((bi+e)/2))]}a4.invert=function(r,e){return[r,2*Om($I(e))-bi]};function MD(){return ED(a4).scale(961/hr)}function ED(r){var e=wD(r),t=e.center,n=e.scale,i=e.translate,s=e.clipExtent,o=null,a,l,c;e.scale=function(d){return arguments.length?(n(d),h()):n()},e.translate=function(d){return arguments.length?(i(d),h()):i()},e.center=function(d){return arguments.length?(t(d),h()):t()},e.clipExtent=function(d){return arguments.length?(d==null?o=a=l=c=null:(o=+d[0][0],a=+d[0][1],l=+d[1][0],c=+d[1][1]),h()):o==null?null:[[o,a],[l,c]]};function h(){var d=Et*n(),f=e(eD(e.rotate()).invert([0,0]));return s(o==null?[[f[0]-d,f[1]-d],[f[0]+d,f[1]+d]]:r===a4?[[Math.max(f[0]-d,o),a],[Math.min(f[0]+d,l),c]]:[[o,Math.max(f[1]-d,a)],[l,Math.min(f[1]+d,c)]])}return h()}const Vm=r=>(Sa("data-v-2e628c6b"),r=r(),Ma(),r),TD={class:"container"},CD=Vm(()=>tt("canvas",{id:"canvas"},null,-1)),AD=Vm(()=>tt("canvas",{id:"name"},null,-1)),PD=[CD,AD],LD={__name:"index",setup(r){const e=new ml,t=new mt;let n=null,i=null;const s=()=>{e.background=new je(15790320),a(),i=new Ca({alpha:!0,canvas:document.querySelector("canvas")}),i.setPixelRatio(window.devicePixelRatio),i.setSize(window.innerWidth,window.innerHeight),document.addEventListener("mousemove",f,!1),window.addEventListener("resize",d,!1)},o=()=>{const v=MD().center([104,37.5]).scale(80).translate([0,0]);WI.features.forEach(x=>{const y=new mt;if(x.geometry.coordinates.forEach(w=>{w.forEach(S=>{const T=new $u,A=new gl({color:16777215}),R=[];for(let B=0;B<S.length;B++){const[N,W]=v(S[B]);B===0&&T.moveTo(N,-W),T.lineTo(N,-W),R.push(new Z(N,-W,4.01))}const E={depth:4,bevelEnabled:!1},L=new Yu(T,E),k=new Wr({color:"#d13a34",transparent:!0,opacity:.6}),H=new $t(L,k),te=new Xt().setFromPoints(R),q=new u0(te,A);y.add(H),y.add(q)})}),y.properties=x.properties,x.properties.centroid){const[w,S]=v(x.properties.centroid);y.properties._centroid=[w,S]}t.add(y)}),e.add(t)},a=()=>{n=new gn(35,window.innerWidth/window.innerHeight,1,1e4),n.position.set(0,-70,90),n.lookAt(0,0,0)},l=()=>{const v=window.innerWidth,x=window.innerHeight;let y=document.querySelector("#name");if(!y)return;y.width=v,y.height=x;const M=y.getContext("2d"),w=document.createElement("canvas");w.width=v,w.height=x;const S=y.getContext("2d");S.font="16.5px Arial",S.strokeStyle="#FFFFFF",S.fillStyle="#000000";const T=[];t.children.forEach((A,R)=>{if(!A.properties._centroid)return;const E=-A.properties._centroid[1],L=A.properties._centroid[0],k=4,H=new Z(L,E,k);H.project(n);const te=A.properties.name,q=(H.x+1)/2*v,B=-(H.y-1)/2*x,N={name:te,left:q,top:B,width:S.measureText(te).width,height:16.5};let W=!0;for(let V=0;V<T.length;V++)if(N.left+N.width<T[V].left||N.top+N.height<T[V].top||T[V].left+T[V].width<N.left||T[V].top+T[V].height<N.top)W=!0;else{W=!1;break}W&&(T.push(N),S.strokeText(te,q,B),S.fillText(te,q,B))}),M.drawImage(w,0,0)},c=()=>{let v=new r4(2e3);e.add(v);let x=new i4(600,60);e.add(x);let y=new Ju(n,i.domElement);y.enableDamping=!0,y.dampingFactor=.25,y.rotateSpeed=.35},h=()=>{let v=new xl(16777215,1.1);v.position.set(300,1e3,500),v.target.position.set(0,0,0),v.castShadow=!0;const x=45,y=1,M=1e3,w=window.innerWidth/window.innerHeight;v.shadow.camera=new gn(x,w,y,M),v.shadow.bias=1e-4,v.shadow.mapSize.width=v.shadow.mapSize.height=1024,e.add(v);let S=new $1(16777215,.6);e.add(S)},d=()=>{n.aspect=window.innerWidth/window.innerHeight,n.updateProjectionMatrix(),i.setSize(window.innerWidth,window.innerHeight)},f=v=>{v.preventDefault()},m=()=>{l(),_(),requestAnimationFrame(m)},_=()=>{i.render(e,n)};return Ea(()=>{s(),h(),c(),o(),m()}),(v,x)=>(vn(),Wn("div",TD,PD))}},Hm=Jr(LD,[["__scopeId","data-v-2e628c6b"]]),RD=Object.freeze(Object.defineProperty({__proto__:null,default:Hm},Symbol.toStringTag,{value:"Module"}));class Gm extends Aa{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new FD(t)}),this.register(function(t){return new GD(t)}),this.register(function(t){return new WD(t)}),this.register(function(t){return new zD(t)}),this.register(function(t){return new BD(t)}),this.register(function(t){return new UD(t)}),this.register(function(t){return new VD(t)}),this.register(function(t){return new OD(t)}),this.register(function(t){return new HD(t)}),this.register(function(t){return new ND(t)}),this.register(function(t){return new DD(t)}),this.register(function(t){return new jD(t)}),this.register(function(t){return new qD(t)})}load(e,t,n,i){const s=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=jr.extractUrlBase(e),this.manager.itemStart(e);const a=function(c){i?i(c):console.error(c),s.manager.itemError(e),s.manager.itemEnd(e)},l=new qc(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{s.parse(c,o,function(h){t(h),s.manager.itemEnd(e)},a)}catch(h){a(h)}},n,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,n,i){let s;const o={},a={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(jr.decodeText(new Uint8Array(e,0,4))===Wm){try{o[_t.KHR_BINARY_GLTF]=new XD(e)}catch(h){i&&i(h);return}s=JSON.parse(o[_t.KHR_BINARY_GLTF].content)}else s=JSON.parse(jr.decodeText(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new ok(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const h=this.pluginCallbacks[c](l);a[h.name]=h,o[h.name]=!0}if(s.extensionsUsed)for(let c=0;c<s.extensionsUsed.length;++c){const h=s.extensionsUsed[c],d=s.extensionsRequired||[];switch(h){case _t.KHR_MATERIALS_UNLIT:o[h]=new kD;break;case _t.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:o[h]=new YD;break;case _t.KHR_DRACO_MESH_COMPRESSION:o[h]=new $D(s,this.dracoLoader);break;case _t.KHR_TEXTURE_TRANSFORM:o[h]=new KD;break;case _t.KHR_MESH_QUANTIZATION:o[h]=new ZD;break;default:d.indexOf(h)>=0&&a[h]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+h+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(n,i)}parseAsync(e,t){const n=this;return new Promise(function(i,s){n.parse(e,t,i,s)})}}function ID(){let r={};return{get:function(e){return r[e]},add:function(e,t){r[e]=t},remove:function(e){delete r[e]},removeAll:function(){r={}}}}const _t={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class DD{constructor(e){this.parser=e,this.name=_t.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let n=0,i=t.length;n<i;n++){const s=t[n];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,n="light:"+e;let i=t.cache.get(n);if(i)return i;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let c;const h=new je(16777215);l.color!==void 0&&h.fromArray(l.color);const d=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new xl(h),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new Ed(h),c.distance=d;break;case"spot":c=new Lm(h),c.distance=d,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,l.intensity!==void 0&&(c.intensity=l.intensity),c.name=t.createUniqueName(l.name||"light_"+e),i=Promise.resolve(c),t.cache.add(n,i),i}createNodeAttachment(e){const t=this,n=this.parser,s=n.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return n._getNodeRef(t.cache,a,l)})}}class kD{constructor(){this.name=_t.KHR_MATERIALS_UNLIT}getMaterialType(){return Wr}extendParams(e,t,n){const i=[];e.color=new je(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}s.baseColorTexture!==void 0&&i.push(n.assignTexture(e,"map",s.baseColorTexture,pt))}return Promise.all(i)}}class OD{constructor(e){this.parser=e,this.name=_t.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class FD{constructor(e){this.parser=e,this.name=_t.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Mo}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(n.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(n.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(n.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new Ie(a,a)}return Promise.all(s)}}class ND{constructor(e){this.parser=e,this.name=_t.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Mo}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(n.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(n.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class zD{constructor(e){this.parser=e,this.name=_t.KHR_MATERIALS_SHEEN}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Mo}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new je(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=i.extensions[this.name];return o.sheenColorFactor!==void 0&&t.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(n.assignTexture(t,"sheenColorMap",o.sheenColorTexture,pt)),o.sheenRoughnessTexture!==void 0&&s.push(n.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class BD{constructor(e){this.parser=e,this.name=_t.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Mo}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(n.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class UD{constructor(e){this.parser=e,this.name=_t.KHR_MATERIALS_VOLUME}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Mo}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(n.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new je(a[0],a[1],a[2]),Promise.all(s)}}class VD{constructor(e){this.parser=e,this.name=_t.KHR_MATERIALS_IOR}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Mo}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class HD{constructor(e){this.parser=e,this.name=_t.KHR_MATERIALS_SPECULAR}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Mo}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(n.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new je(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&s.push(n.assignTexture(t,"specularColorMap",o.specularColorTexture,pt)),Promise.all(s)}}class GD{constructor(e){this.parser=e,this.name=_t.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,n=t.json,i=n.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const s=i.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class WD{constructor(e){this.parser=e,this.name=_t.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,n=this.parser,i=n.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=i.images[o.source];let l=n.textureLoader;if(a.uri){const c=n.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return n.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class jD{constructor(e){this.name=_t.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,n=t.bufferViews[e];if(n.extensions&&n.extensions[this.name]){const i=n.extensions[this.name],s=this.parser.getDependency("buffer",i.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=i.byteOffset||0,c=i.byteLength||0,h=i.count,d=i.byteStride,f=new Uint8Array(a,l,c);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(h,d,f,i.mode,i.filter).then(function(m){return m.buffer}):o.ready.then(function(){const m=new ArrayBuffer(h*d);return o.decodeGltfBuffer(new Uint8Array(m),h,d,f,i.mode,i.filter),m})})}else return null}}class qD{constructor(e){this.name=_t.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,n=t.nodes[e];if(!n.extensions||!n.extensions[this.name]||n.mesh===void 0)return null;const i=t.meshes[n.mesh];for(const c of i.primitives)if(c.mode!==Zi.TRIANGLES&&c.mode!==Zi.TRIANGLE_STRIP&&c.mode!==Zi.TRIANGLE_FAN&&c.mode!==void 0)return null;const o=n.extensions[this.name].attributes,a=[],l={};for(const c in o)a.push(this.parser.getDependency("accessor",o[c]).then(h=>(l[c]=h,l[c])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(c=>{const h=c.pop(),d=h.isGroup?h.children:[h],f=c[0].count,m=[];for(const _ of d){const v=new Ke,x=new Z,y=new Gn,M=new Z(1,1,1),w=new cR(_.geometry,_.material,f);for(let S=0;S<f;S++)l.TRANSLATION&&x.fromBufferAttribute(l.TRANSLATION,S),l.ROTATION&&y.fromBufferAttribute(l.ROTATION,S),l.SCALE&&M.fromBufferAttribute(l.SCALE,S),w.setMatrixAt(S,v.compose(x,y,M));for(const S in l)S!=="TRANSLATION"&&S!=="ROTATION"&&S!=="SCALE"&&_.geometry.setAttribute(S,l[S]);mt.prototype.copy.call(w,_),w.frustumCulled=!1,this.parser.assignFinalMaterial(w),m.push(w)}return h.isGroup?(h.clear(),h.add(...m),h):m[0]}))}}const Wm="glTF",Kl=12,k6={JSON:1313821514,BIN:5130562};class XD{constructor(e){this.name=_t.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,Kl);if(this.header={magic:jr.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==Wm)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const n=this.header.length-Kl,i=new DataView(e,Kl);let s=0;for(;s<n;){const o=i.getUint32(s,!0);s+=4;const a=i.getUint32(s,!0);if(s+=4,a===k6.JSON){const l=new Uint8Array(e,Kl+s,o);this.content=jr.decodeText(l)}else if(a===k6.BIN){const l=Kl+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class $D{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=_t.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const n=this.json,i=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},c={};for(const h in o){const d=kd[h]||h.toLowerCase();a[d]=o[h]}for(const h in e.attributes){const d=kd[h]||h.toLowerCase();if(o[h]!==void 0){const f=n.accessors[e.attributes[h]],m=Yc[f.componentType];c[d]=m.name,l[d]=f.normalized===!0}}return t.getDependency("bufferView",s).then(function(h){return new Promise(function(d){i.decodeDracoFile(h,function(f){for(const m in f.attributes){const _=f.attributes[m],v=l[m];v!==void 0&&(_.normalized=v)}d(f)},a,c)})})}}class KD{constructor(){this.name=_t.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return t.texCoord!==void 0&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class Dd extends W1{constructor(e){super(),this.isGLTFSpecularGlossinessMaterial=!0;const t=["#ifdef USE_SPECULARMAP","	uniform sampler2D specularMap;","#endif"].join(`
`),n=["#ifdef USE_GLOSSINESSMAP","	uniform sampler2D glossinessMap;","#endif"].join(`
`),i=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","	vec4 texelSpecular = texture2D( specularMap, vUv );","	// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","	specularFactor *= texelSpecular.rgb;","#endif"].join(`
`),s=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","	vec4 texelGlossiness = texture2D( glossinessMap, vUv );","	// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","	glossinessFactor *= texelGlossiness.a;","#endif"].join(`
`),o=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join(`
`),a={specular:{value:new je().setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=a,this.onBeforeCompile=function(l){for(const c in a)l.uniforms[c]=a[c];l.fragmentShader=l.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",t).replace("#include <metalnessmap_pars_fragment>",n).replace("#include <roughnessmap_fragment>",i).replace("#include <metalnessmap_fragment>",s).replace("#include <lights_physical_fragment>",o)},Object.defineProperties(this,{specular:{get:function(){return a.specular.value},set:function(l){a.specular.value=l}},specularMap:{get:function(){return a.specularMap.value},set:function(l){a.specularMap.value=l,l?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return a.glossiness.value},set:function(l){a.glossiness.value=l}},glossinessMap:{get:function(){return a.glossinessMap.value},set:function(l){a.glossinessMap.value=l,l?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(e)}copy(e){return super.copy(e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}class YD{constructor(){this.name=_t.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity"]}getMaterialType(){return Dd}extendParams(e,t,n){const i=t.extensions[this.name];e.color=new je(1,1,1),e.opacity=1;const s=[];if(Array.isArray(i.diffuseFactor)){const o=i.diffuseFactor;e.color.fromArray(o),e.opacity=o[3]}if(i.diffuseTexture!==void 0&&s.push(n.assignTexture(e,"map",i.diffuseTexture,pt)),e.emissive=new je(0,0,0),e.glossiness=i.glossinessFactor!==void 0?i.glossinessFactor:1,e.specular=new je(1,1,1),Array.isArray(i.specularFactor)&&e.specular.fromArray(i.specularFactor),i.specularGlossinessTexture!==void 0){const o=i.specularGlossinessTexture;s.push(n.assignTexture(e,"glossinessMap",o)),s.push(n.assignTexture(e,"specularMap",o,pt))}return Promise.all(s)}createMaterial(e){const t=new Dd(e);return t.fog=!0,t.color=e.color,t.map=e.map===void 0?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=e.aoMap===void 0?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=e.emissiveIntensity===void 0?1:e.emissiveIntensity,t.emissiveMap=e.emissiveMap===void 0?null:e.emissiveMap,t.bumpMap=e.bumpMap===void 0?null:e.bumpMap,t.bumpScale=1,t.normalMap=e.normalMap===void 0?null:e.normalMap,t.normalMapType=c0,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=e.specularMap===void 0?null:e.specularMap,t.specular=e.specular,t.glossinessMap=e.glossinessMap===void 0?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=e.envMap===void 0?null:e.envMap,t.envMapIntensity=1,t}}class ZD{constructor(){this.name=_t.KHR_MESH_QUANTIZATION}}class jm extends h0{constructor(e,t,n,i){super(e,t,n,i)}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,s=e*i*3+i;for(let o=0;o!==i;o++)t[o]=n[s+o];return t}interpolate_(e,t,n,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,c=a*3,h=i-t,d=(n-t)/h,f=d*d,m=f*d,_=e*c,v=_-c,x=-2*m+3*f,y=m-f,M=1-x,w=y-f+d;for(let S=0;S!==a;S++){const T=o[v+S+a],A=o[v+S+l]*h,R=o[_+S+a],E=o[_+S]*h;s[S]=M*T+w*A+x*R+y*E}return s}}const QD=new Gn;class JD extends jm{interpolate_(e,t,n,i){const s=super.interpolate_(e,t,n,i);return QD.fromArray(s).normalize().toArray(s),s}}const Zi={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Yc={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},O6={9728:Mn,9729:Vn,9984:md,9985:Z7,9986:gd,9987:hl},F6={33071:vi,33648:nu,10497:Kr},N6={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},kd={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},$s={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},ek={CUBICSPLINE:void 0,LINEAR:H1,STEP:Bc},Ah={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function tk(r){return r.DefaultMaterial===void 0&&(r.DefaultMaterial=new W1({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:da})),r.DefaultMaterial}function Yl(r,e,t){for(const n in t.extensions)r[n]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[n]=t.extensions[n])}function Go(r,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(r.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function nk(r,e,t){let n=!1,i=!1,s=!1;for(let c=0,h=e.length;c<h;c++){const d=e[c];if(d.POSITION!==void 0&&(n=!0),d.NORMAL!==void 0&&(i=!0),d.COLOR_0!==void 0&&(s=!0),n&&i&&s)break}if(!n&&!i&&!s)return Promise.resolve(r);const o=[],a=[],l=[];for(let c=0,h=e.length;c<h;c++){const d=e[c];if(n){const f=d.POSITION!==void 0?t.getDependency("accessor",d.POSITION):r.attributes.position;o.push(f)}if(i){const f=d.NORMAL!==void 0?t.getDependency("accessor",d.NORMAL):r.attributes.normal;a.push(f)}if(s){const f=d.COLOR_0!==void 0?t.getDependency("accessor",d.COLOR_0):r.attributes.color;l.push(f)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const h=c[0],d=c[1],f=c[2];return n&&(r.morphAttributes.position=h),i&&(r.morphAttributes.normal=d),s&&(r.morphAttributes.color=f),r.morphTargetsRelative=!0,r})}function ik(r,e){if(r.updateMorphTargets(),e.weights!==void 0)for(let t=0,n=e.weights.length;t<n;t++)r.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(r.morphTargetInfluences.length===t.length){r.morphTargetDictionary={};for(let n=0,i=t.length;n<i;n++)r.morphTargetDictionary[t[n]]=n}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function rk(r){const e=r.extensions&&r.extensions[_t.KHR_DRACO_MESH_COMPRESSION];let t;return e?t="draco:"+e.bufferView+":"+e.indices+":"+z6(e.attributes):t=r.indices+":"+z6(r.attributes)+":"+r.mode,t}function z6(r){let e="";const t=Object.keys(r).sort();for(let n=0,i=t.length;n<i;n++)e+=t[n]+":"+r[t[n]]+";";return e}function Od(r){switch(r){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function sk(r){return r.search(/\.jpe?g($|\?)/i)>0||r.search(/^data\:image\/jpeg/)===0?"image/jpeg":r.search(/\.webp($|\?)/i)>0||r.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}class ok{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new ID,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};const n=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,i=navigator.userAgent.indexOf("Firefox")>-1,s=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1;typeof createImageBitmap>"u"||n||i&&s<98?this.textureLoader=new Zu(this.options.manager):this.textureLoader=new sI(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new qc(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const n=this,i=this.json,s=this.extensions;this.cache.removeAll(),this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])}).then(function(o){const a={scene:o[0][i.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:i.asset,parser:n,userData:{}};Yl(s,a,i),Go(a,i),Promise.all(n._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[];for(let i=0,s=t.length;i<s;i++){const o=t[i].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let i=0,s=e.length;i<s;i++){const o=e[i];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(n[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,n){if(e.refs[t]<=1)return n;const i=n.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[c,h]of o.children.entries())s(h,a.children[c])};return s(n,i),i.name+="_instance_"+e.uses[t]++,i}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let n=0;n<t.length;n++){const i=e(t[n]);if(i)return i}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const n=[];for(let i=0;i<t.length;i++){const s=e(t[i]);s&&n.push(s)}return n}getDependency(e,t){const n=e+":"+t;let i=this.cache.get(n);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this.loadNode(t);break;case"mesh":i=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":i=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":i=this.loadSkin(t);break;case"animation":i=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":i=this.loadCamera(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(n,i)}return i}getDependencies(e){let t=this.cache.get(e);if(!t){const n=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(i.map(function(s,o){return n.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],n=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[_t.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(s,o){n.load(jr.resolveURL(t.uri,i.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(n){const i=t.byteLength||0,s=t.byteOffset||0;return n.slice(s,s+i)})}loadAccessor(e){const t=this,n=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0)return Promise.resolve(null);const s=[];return i.bufferView!==void 0?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),i.sparse!==void 0&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=N6[i.type],c=Yc[i.componentType],h=c.BYTES_PER_ELEMENT,d=h*l,f=i.byteOffset||0,m=i.bufferView!==void 0?n.bufferViews[i.bufferView].byteStride:void 0,_=i.normalized===!0;let v,x;if(m&&m!==d){const y=Math.floor(f/m),M="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+y+":"+i.count;let w=t.cache.get(M);w||(v=new c(a,y*m,i.count*m/h),w=new sR(v,m/h),t.cache.add(M,w)),x=new qf(w,l,f%m/h,_)}else a===null?v=new c(i.count*l):v=new c(a,f,i.count*l),x=new jn(v,l,_);if(i.sparse!==void 0){const y=N6.SCALAR,M=Yc[i.sparse.indices.componentType],w=i.sparse.indices.byteOffset||0,S=i.sparse.values.byteOffset||0,T=new M(o[1],w,i.sparse.count*y),A=new c(o[2],S,i.sparse.count*l);a!==null&&(x=new jn(x.array.slice(),x.itemSize,x.normalized));for(let R=0,E=T.length;R<E;R++){const L=T[R];if(x.setX(L,A[R*l]),l>=2&&x.setY(L,A[R*l+1]),l>=3&&x.setZ(L,A[R*l+2]),l>=4&&x.setW(L,A[R*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return x})}loadTexture(e){const t=this.json,n=this.options,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const l=n.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,n){const i=this,s=this.json,o=s.textures[e],a=s.images[t],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(t,n).then(function(h){h.flipY=!1,h.name=o.name||a.name||"";const f=(s.samplers||{})[o.sampler]||{};return h.magFilter=O6[f.magFilter]||Vn,h.minFilter=O6[f.minFilter]||hl,h.wrapS=F6[f.wrapS]||Kr,h.wrapT=F6[f.wrapT]||Kr,i.associations.set(h,{textures:e}),h}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,t){const n=this,i=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(d=>d.clone());const o=i.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",c=!1;if(o.bufferView!==void 0)l=n.getDependency("bufferView",o.bufferView).then(function(d){c=!0;const f=new Blob([d],{type:o.mimeType});return l=a.createObjectURL(f),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const h=Promise.resolve(l).then(function(d){return new Promise(function(f,m){let _=f;t.isImageBitmapLoader===!0&&(_=function(v){const x=new Tn(v);x.needsUpdate=!0,f(x)}),t.load(jr.resolveURL(d,s.path),_,void 0,m)})}).then(function(d){return c===!0&&a.revokeObjectURL(l),d.userData.mimeType=o.mimeType||sk(o.uri),d}).catch(function(d){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),d});return this.sourceCache[e]=h,h}assignTexture(e,t,n,i){const s=this;return this.getDependency("texture",n.index).then(function(o){if(n.texCoord!==void 0&&n.texCoord!=0&&!(t==="aoMap"&&n.texCoord==1)&&console.warn("THREE.GLTFLoader: Custom UV set "+n.texCoord+" for texture "+t+" not yet supported."),s.extensions[_t.KHR_TEXTURE_TRANSFORM]){const a=n.extensions!==void 0?n.extensions[_t.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[_t.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return i!==void 0&&(o.encoding=i),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let n=e.material;const i=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+n.uuid;let l=this.cache.get(a);l||(l=new _m,ar.prototype.copy.call(l,n),l.color.copy(n.color),l.map=n.map,l.sizeAttenuation=!1,this.cache.add(a,l)),n=l}else if(e.isLine){const a="LineBasicMaterial:"+n.uuid;let l=this.cache.get(a);l||(l=new gl,ar.prototype.copy.call(l,n),l.color.copy(n.color),this.cache.add(a,l)),n=l}if(i||s||o){let a="ClonedMaterial:"+n.uuid+":";n.isGLTFSpecularGlossinessMaterial&&(a+="specular-glossiness:"),i&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=n.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(n))),n=l}n.aoMap&&t.attributes.uv2===void 0&&t.attributes.uv!==void 0&&t.setAttribute("uv2",t.attributes.uv),e.material=n}getMaterialType(){return W1}loadMaterial(e){const t=this,n=this.json,i=this.extensions,s=n.materials[e];let o;const a={},l=s.extensions||{},c=[];if(l[_t.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){const d=i[_t.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];o=d.getMaterialType(),c.push(d.extendParams(a,s,t))}else if(l[_t.KHR_MATERIALS_UNLIT]){const d=i[_t.KHR_MATERIALS_UNLIT];o=d.getMaterialType(),c.push(d.extendParams(a,s,t))}else{const d=s.pbrMetallicRoughness||{};if(a.color=new je(1,1,1),a.opacity=1,Array.isArray(d.baseColorFactor)){const f=d.baseColorFactor;a.color.fromArray(f),a.opacity=f[3]}d.baseColorTexture!==void 0&&c.push(t.assignTexture(a,"map",d.baseColorTexture,pt)),a.metalness=d.metallicFactor!==void 0?d.metallicFactor:1,a.roughness=d.roughnessFactor!==void 0?d.roughnessFactor:1,d.metallicRoughnessTexture!==void 0&&(c.push(t.assignTexture(a,"metalnessMap",d.metallicRoughnessTexture)),c.push(t.assignTexture(a,"roughnessMap",d.metallicRoughnessTexture))),o=this._invokeOne(function(f){return f.getMaterialType&&f.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(f){return f.extendMaterialParams&&f.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=_s);const h=s.alphaMode||Ah.OPAQUE;if(h===Ah.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,h===Ah.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==Wr&&(c.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new Ie(1,1),s.normalTexture.scale!==void 0)){const d=s.normalTexture.scale;a.normalScale.set(d,d)}return s.occlusionTexture!==void 0&&o!==Wr&&(c.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==Wr&&(a.emissive=new je().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&o!==Wr&&c.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,pt)),Promise.all(c).then(function(){let d;return o===Dd?d=i[_t.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(a):d=new o(a),s.name&&(d.name=s.name),Go(d,s),t.associations.set(d,{materials:e}),s.extensions&&Yl(i,d,s),d})}createUniqueName(e){const t=Ct.sanitizeNodeName(e||"");let n=t;for(let i=1;this.nodeNamesUsed[n];++i)n=t+"_"+i;return this.nodeNamesUsed[n]=!0,n}loadGeometries(e){const t=this,n=this.extensions,i=this.primitiveCache;function s(a){return n[_t.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return B6(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a],h=rk(c),d=i[h];if(d)o.push(d.promise);else{let f;c.extensions&&c.extensions[_t.KHR_DRACO_MESH_COMPRESSION]?f=s(c):f=B6(new Xt,c,t),i[h]={primitive:c,promise:f},o.push(f)}}return Promise.all(o)}loadMesh(e){const t=this,n=this.json,i=this.extensions,s=n.meshes[e],o=s.primitives,a=[];for(let l=0,c=o.length;l<c;l++){const h=o[l].material===void 0?tk(this.cache):this.getDependency("material",o[l].material);a.push(h)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),h=l[l.length-1],d=[];for(let m=0,_=h.length;m<_;m++){const v=h[m],x=o[m];let y;const M=c[m];if(x.mode===Zi.TRIANGLES||x.mode===Zi.TRIANGLE_STRIP||x.mode===Zi.TRIANGLE_FAN||x.mode===void 0)y=s.isSkinnedMesh===!0?new mm(v,M):new $t(v,M),y.isSkinnedMesh===!0&&!y.geometry.attributes.skinWeight.normalized&&y.normalizeSkinWeights(),x.mode===Zi.TRIANGLE_STRIP?y.geometry=U6(y.geometry,HE):x.mode===Zi.TRIANGLE_FAN&&(y.geometry=U6(y.geometry,J7));else if(x.mode===Zi.LINES)y=new Xf(v,M);else if(x.mode===Zi.LINE_STRIP)y=new u0(v,M);else if(x.mode===Zi.LINE_LOOP)y=new uR(v,M);else if(x.mode===Zi.POINTS)y=new vm(v,M);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+x.mode);Object.keys(y.geometry.morphAttributes).length>0&&ik(y,s),y.name=t.createUniqueName(s.name||"mesh_"+e),Go(y,s),x.extensions&&Yl(i,y,x),t.assignFinalMaterial(y),d.push(y)}for(let m=0,_=d.length;m<_;m++)t.associations.set(d[m],{meshes:e,primitives:m});if(d.length===1)return d[0];const f=new Tr;t.associations.set(f,{meshes:e});for(let m=0,_=d.length;m<_;m++)f.add(d[m]);return f})}loadCamera(e){let t;const n=this.json.cameras[e],i=n[n.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return n.type==="perspective"?t=new gn(Mr.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):n.type==="orthographic"&&(t=new Ta(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),n.name&&(t.name=this.createUniqueName(n.name)),Go(t,n),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],n={joints:t.joints};return t.inverseBindMatrices===void 0?Promise.resolve(n):this.getDependency("accessor",t.inverseBindMatrices).then(function(i){return n.inverseBindMatrices=i,n})}loadAnimation(e){const n=this.json.animations[e],i=[],s=[],o=[],a=[],l=[];for(let c=0,h=n.channels.length;c<h;c++){const d=n.channels[c],f=n.samplers[d.sampler],m=d.target,_=m.node,v=n.parameters!==void 0?n.parameters[f.input]:f.input,x=n.parameters!==void 0?n.parameters[f.output]:f.output;i.push(this.getDependency("node",_)),s.push(this.getDependency("accessor",v)),o.push(this.getDependency("accessor",x)),a.push(f),l.push(m)}return Promise.all([Promise.all(i),Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const h=c[0],d=c[1],f=c[2],m=c[3],_=c[4],v=[];for(let y=0,M=h.length;y<M;y++){const w=h[y],S=d[y],T=f[y],A=m[y],R=_[y];if(w===void 0)continue;w.updateMatrix();let E;switch($s[R.path]){case $s.weights:E=j1;break;case $s.rotation:E=_o;break;case $s.position:case $s.scale:default:E=q1;break}const L=w.name?w.name:w.uuid,k=A.interpolation!==void 0?ek[A.interpolation]:H1,H=[];$s[R.path]===$s.weights?w.traverse(function(q){q.morphTargetInfluences&&H.push(q.name?q.name:q.uuid)}):H.push(L);let te=T.array;if(T.normalized){const q=Od(te.constructor),B=new Float32Array(te.length);for(let N=0,W=te.length;N<W;N++)B[N]=te[N]*q;te=B}for(let q=0,B=H.length;q<B;q++){const N=new E(H[q]+"."+$s[R.path],S.array,te,k);A.interpolation==="CUBICSPLINE"&&(N.createInterpolant=function(V){const Y=this instanceof _o?JD:jm;return new Y(this.times,this.values,this.getValueSize()/3,V)},N.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),v.push(N)}}const x=n.name?n.name:"animation_"+e;return new au(x,void 0,v)})}createNodeMesh(e){const t=this.json,n=this,i=t.nodes[e];return i.mesh===void 0?null:n.getDependency("mesh",i.mesh).then(function(s){const o=n._getNodeRef(n.meshCache,i.mesh,s);return i.weights!==void 0&&o.traverse(function(a){if(!!a.isMesh)for(let l=0,c=i.weights.length;l<c;l++)a.morphTargetInfluences[l]=i.weights[l]}),o})}loadNode(e){const t=this.json,n=this.extensions,i=this,s=t.nodes[e],o=s.name?i.createUniqueName(s.name):"";return function(){const a=[],l=i._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(i.getDependency("camera",s.camera).then(function(c){return i._getNodeRef(i.cameraCache,s.camera,c)})),i._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),Promise.all(a)}().then(function(a){let l;if(s.isBone===!0?l=new su:a.length>1?l=new Tr:a.length===1?l=a[0]:l=new mt,l!==a[0])for(let c=0,h=a.length;c<h;c++)l.add(a[c]);if(s.name&&(l.userData.name=s.name,l.name=o),Go(l,s),s.extensions&&Yl(n,l,s),s.matrix!==void 0){const c=new Ke;c.fromArray(s.matrix),l.applyMatrix4(c)}else s.translation!==void 0&&l.position.fromArray(s.translation),s.rotation!==void 0&&l.quaternion.fromArray(s.rotation),s.scale!==void 0&&l.scale.fromArray(s.scale);return i.associations.has(l)||i.associations.set(l,{}),i.associations.get(l).nodes=e,l})}loadScene(e){const t=this.json,n=this.extensions,i=this.json.scenes[e],s=this,o=new Tr;i.name&&(o.name=s.createUniqueName(i.name)),Go(o,i),i.extensions&&Yl(n,o,i);const a=i.nodes||[],l=[];for(let c=0,h=a.length;c<h;c++)l.push(qm(a[c],o,t,s));return Promise.all(l).then(function(){const c=h=>{const d=new Map;for(const[f,m]of s.associations)(f instanceof ar||f instanceof Tn)&&d.set(f,m);return h.traverse(f=>{const m=s.associations.get(f);m!=null&&d.set(f,m)}),d};return s.associations=c(o),o})}}function qm(r,e,t,n){const i=t.nodes[r];return n.getDependency("node",r).then(function(s){if(i.skin===void 0)return s;let o;return n.getDependency("skin",i.skin).then(function(a){o=a;const l=[];for(let c=0,h=o.joints.length;c<h;c++)l.push(n.getDependency("node",o.joints[c]));return Promise.all(l)}).then(function(a){return s.traverse(function(l){if(!l.isMesh)return;const c=[],h=[];for(let d=0,f=a.length;d<f;d++){const m=a[d];if(m){c.push(m);const _=new Ke;o.inverseBindMatrices!==void 0&&_.fromArray(o.inverseBindMatrices.array,d*16),h.push(_)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',o.joints[d])}l.bind(new Xu(c,h),l.matrixWorld)}),s})}).then(function(s){e.add(s);const o=[];if(i.children){const a=i.children;for(let l=0,c=a.length;l<c;l++){const h=a[l];o.push(qm(h,s,t,n))}}return Promise.all(o)})}function ak(r,e,t){const n=e.attributes,i=new dl;if(n.POSITION!==void 0){const a=t.json.accessors[n.POSITION],l=a.min,c=a.max;if(l!==void 0&&c!==void 0){if(i.set(new Z(l[0],l[1],l[2]),new Z(c[0],c[1],c[2])),a.normalized){const h=Od(Yc[a.componentType]);i.min.multiplyScalar(h),i.max.multiplyScalar(h)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new Z,l=new Z;for(let c=0,h=s.length;c<h;c++){const d=s[c];if(d.POSITION!==void 0){const f=t.json.accessors[d.POSITION],m=f.min,_=f.max;if(m!==void 0&&_!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(_[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(_[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(_[2]))),f.normalized){const v=Od(Yc[f.componentType]);l.multiplyScalar(v)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}r.boundingBox=i;const o=new fl;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,r.boundingSphere=o}function B6(r,e,t){const n=e.attributes,i=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){r.setAttribute(a,l)})}for(const o in n){const a=kd[o]||o.toLowerCase();a in r.attributes||i.push(s(n[o],a))}if(e.indices!==void 0&&!r.index){const o=t.getDependency("accessor",e.indices).then(function(a){r.setIndex(a)});i.push(o)}return Go(r,e),ak(r,e,t),Promise.all(i).then(function(){return e.targets!==void 0?nk(r,e.targets,t):r})}function U6(r,e){let t=r.getIndex();if(t===null){const o=[],a=r.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);r.setIndex(o),t=r.getIndex()}else return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),r}const n=t.count-2,i=[];if(e===J7)for(let o=1;o<=n;o++)i.push(t.getX(0)),i.push(t.getX(o)),i.push(t.getX(o+1));else for(let o=0;o<n;o++)o%2===0?(i.push(t.getX(o)),i.push(t.getX(o+1)),i.push(t.getX(o+2))):(i.push(t.getX(o+2)),i.push(t.getX(o+1)),i.push(t.getX(o)));i.length/3!==n&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=r.clone();return s.setIndex(i),s}const Ph=new WeakMap;class Xm extends Aa{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,n,i){const s=new qc(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{this.decodeDracoFile(o,t).catch(i)},n,i)}decodeDracoFile(e,t,n,i){const s={attributeIDs:n||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!n};return this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){const n=JSON.stringify(t);if(Ph.has(e)){const l=Ph.get(e);if(l.key===n)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(i=l,new Promise((c,h)=>{i._callbacks[s]={resolve:c,reject:h},i.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{i&&s&&this._releaseTask(i,s)}),Ph.set(e,{key:n,promise:a}),a}_createGeometry(e){const t=new Xt;e.index&&t.setIndex(new jn(e.index.array,1));for(let n=0;n<e.attributes.length;n++){const i=e.attributes[n],s=i.name,o=i.array,a=i.itemSize;t.setAttribute(s,new jn(o,a))}return t}_loadLibrary(e,t){const n=new qc(this.manager);return n.setPath(this.decoderPath),n.setResponseType(t),n.setWithCredentials(this.withCredentials),new Promise((i,s)=>{n.load(e,i,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(n=>{const i=n[0];e||(this.decoderConfig.wasmBinary=n[1]);const s=lk.toString(),o=["/* draco decoder */",i,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(s){const o=s.data;switch(o.type){case"decode":i._callbacks[o.id].resolve(o);break;case"error":i._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,s){return i._taskLoad>s._taskLoad?-1:1});const n=this.workerPool[this.workerPool.length-1];return n._taskCosts[e]=t,n._taskLoad+=t,n})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function lk(){let r,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":r=a.decoderConfig,e=new Promise(function(h){r.onModuleLoaded=function(d){h({draco:d})},DracoDecoderModule(r)});break;case"decode":const l=a.buffer,c=a.taskConfig;e.then(h=>{const d=h.draco,f=new d.Decoder,m=new d.DecoderBuffer;m.Init(new Int8Array(l),l.byteLength);try{const _=t(d,f,m,c),v=_.attributes.map(x=>x.array.buffer);_.index&&v.push(_.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:_},v)}catch(_){console.error(_),self.postMessage({type:"error",id:a.id,error:_.message})}finally{d.destroy(m),d.destroy(f)}});break}};function t(o,a,l,c){const h=c.attributeIDs,d=c.attributeTypes;let f,m;const _=a.GetEncodedGeometryType(l);if(_===o.TRIANGULAR_MESH)f=new o.Mesh,m=a.DecodeBufferToMesh(l,f);else if(_===o.POINT_CLOUD)f=new o.PointCloud,m=a.DecodeBufferToPointCloud(l,f);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!m.ok()||f.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const v={index:null,attributes:[]};for(const x in h){const y=self[d[x]];let M,w;if(c.useUniqueIDs)w=h[x],M=a.GetAttributeByUniqueId(f,w);else{if(w=a.GetAttributeId(f,o[h[x]]),w===-1)continue;M=a.GetAttribute(f,w)}v.attributes.push(i(o,a,f,x,y,M))}return _===o.TRIANGULAR_MESH&&(v.index=n(o,a,f)),o.destroy(f),v}function n(o,a,l){const h=l.num_faces()*3,d=h*4,f=o._malloc(d);a.GetTrianglesUInt32Array(l,d,f);const m=new Uint32Array(o.HEAPF32.buffer,f,h).slice();return o._free(f),{array:m,itemSize:1}}function i(o,a,l,c,h,d){const f=d.num_components(),_=l.num_points()*f,v=_*h.BYTES_PER_ELEMENT,x=s(o,h),y=o._malloc(v);a.GetAttributeDataArrayForAllPoints(l,d,x,v,y);const M=new h(o.HEAPF32.buffer,y,_).slice();return o._free(y),{name:c,array:M,itemSize:f}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}const ck=`uniform sampler2D tBackground;\r
\r
varying vec2 vUv;\r
\r
void main()\r
{\r
    vec4 backgroundColor = texture2D(tBackground, vUv);\r
\r
    gl_FragColor = backgroundColor;\r
}\r
`,uk=`varying vec2 vUv;\r
\r
void main()\r
{\r
    vUv = uv;\r
\r
    vec3 newPosition = position;\r
    newPosition.z = 1.0;\r
    gl_Position = vec4(newPosition, 1.0);\r
}\r
`;function hk(){const r=new je("#cfbfa7"),e=new je("#cfbfa7"),t=new je("#cbbda5"),n=new je("#ded5c8"),i=new Uint8Array([Math.round(n.r*255),Math.round(n.g*255),Math.round(n.b*255),1,Math.round(t.r*255),Math.round(t.g*255),Math.round(t.b*255),1,Math.round(r.r*255),Math.round(r.g*255),Math.round(r.b*255),1,Math.round(e.r*255),Math.round(e.g*255),Math.round(e.b*255),1]),s=new gm(i,2,2,ki);s.magFilter=Vn,s.needsUpdate=!0;const o={tBackground:{value:s}};return new Yr({wireframe:!1,transparent:!1,uniforms:o,vertexShader:uk,fragmentShader:ck})}const dk=`uniform sampler2D tShadow;\r
uniform vec3 uShadowColor;\r
uniform float uAlpha;\r
\r
varying vec2 vUv;\r
\r
void main()\r
{\r
    float shadowAlpha = 1.0 - texture2D(tShadow, vUv).r;\r
    shadowAlpha *= uAlpha;\r
\r
    gl_FragColor = vec4(uShadowColor, shadowAlpha);\r
}\r
`,fk=`varying vec2 vUv;\r
\r
void main()\r
{\r
    vUv = uv;\r
    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r
}\r
`;function pk(){const r={tShadow:{value:null},uShadowColor:{value:null},uAlpha:{value:null}};return new Yr({wireframe:!1,transparent:!0,uniforms:r,vertexShader:fk,fragmentShader:dk})}const mk={id:"canvas"},gk={__name:"index",setup(r){return Ea(()=>{const e=document.querySelector("#canvas"),t=new ml,n=new Zu,i=n.load("resources/house-in-desert/textures/baked.jpg");i.flipY=!1,i.encoding=pt;const s=n.load("resources/house-in-desert/textures/floor-shadow.jpg");s.flipY=!1,s.encoding=pt;const o=new ga(2,2,2,2),a=new hk,l=new $t(o,a);l.frustumCulled=!1,l.matrixAutoUpdate=!1,l.updateMatrix(),t.add(l);const c=new Xm;c.setDecoderPath("draco/");const h=new Gm;h.setDRACOLoader(c);const d=new Wr({map:i}),f=new pk;f.depthWrite=!1,f.uniforms.uShadowColor.value=new je("#927044"),f.uniforms.tShadow.value=s,f.uniforms.uAlpha.value=.6,h.load("resources/house-in-desert/models/house.glb",w=>{const S=w.scene.children.find(A=>A.name==="baked");S.material=d;const T=w.scene.children.find(A=>A.name==="ground");T.material=f,t.add(w.scene)});const m={width:window.innerWidth,height:window.innerHeight};window.addEventListener("resize",()=>{m.width=window.innerWidth,m.height=window.innerHeight,_.aspect=m.width/m.height,_.updateProjectionMatrix(),x.setSize(m.width,m.height),x.setPixelRatio(Math.min(window.devicePixelRatio,2))});const _=new gn(45,m.width/m.height,.1,100);_.position.x=12,_.position.y=12,_.position.z=8,t.add(_);const v=new Ju(_,e);v.enableDamping=!0;const x=new Ca({canvas:e,antialias:!0});x.setSize(m.width,m.height),x.setPixelRatio(Math.min(window.devicePixelRatio,2)),x.outputEncoding=pt;const y=new e4,M=()=>{y.getElapsedTime(),v.update(),x.render(t,_),window.requestAnimationFrame(M)};M()}),(e,t)=>(vn(),Wn("canvas",mk))}},$m=Jr(gk,[["__scopeId","data-v-a2989d8e"]]),_k=Object.freeze(Object.defineProperty({__proto__:null,default:$m},Symbol.toStringTag,{value:"Module"}));var l4=(r=>(r.Tick="Tick",r))(l4||{});class vk{constructor(){et(this,"events");this.events={}}on(e,t){if(!e){console.warn("EmitterType is required");return}this.events[e]||(this.events[e]=[]),this.events[e].push(t)}emit(e,t){const n=this.events[e];if(!n){console.warn("No event registed");return}for(let i=0;i<n.length;i++){const s=n[i];s(t)}}}const Km=new vk;/*!
fflate - fast JavaScript compression/decompression
<https://101arrowz.github.io/fflate>
Licensed under MIT. https://github.com/101arrowz/fflate/blob/master/LICENSE
version 0.6.9
*/var V6={},Fd=function(r){return URL.createObjectURL(new Blob([r],{type:"text/javascript"}))},Ym=function(r){return new Worker(r)};try{URL.revokeObjectURL(Fd(""))}catch{Fd=function(e){return"data:application/javascript;charset=UTF-8,"+encodeURI(e)},Ym=function(e){return new Worker(e,{type:"module"})}}var xk=function(r,e,t,n,i){var s=Ym(V6[e]||(V6[e]=Fd(r)));return s.onerror=function(o){return i(o.error,null)},s.onmessage=function(o){return i(null,o.data)},s.postMessage(t,n),s},yt=Uint8Array,Dn=Uint16Array,Es=Uint32Array,bl=new yt([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),yl=new yt([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Zc=new yt([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Zm=function(r,e){for(var t=new Dn(31),n=0;n<31;++n)t[n]=e+=1<<r[n-1];for(var i=new Es(t[30]),n=1;n<30;++n)for(var s=t[n];s<t[n+1];++s)i[s]=s-t[n]<<5|n;return[t,i]},Qm=Zm(bl,2),c4=Qm[0],du=Qm[1];c4[28]=258,du[258]=28;var Jm=Zm(yl,0),eg=Jm[0],Nd=Jm[1],Qc=new Dn(32768);for(var Gt=0;Gt<32768;++Gt){var Ks=(Gt&43690)>>>1|(Gt&21845)<<1;Ks=(Ks&52428)>>>2|(Ks&13107)<<2,Ks=(Ks&61680)>>>4|(Ks&3855)<<4,Qc[Gt]=((Ks&65280)>>>8|(Ks&255)<<8)>>>1}var lr=function(r,e,t){for(var n=r.length,i=0,s=new Dn(e);i<n;++i)++s[r[i]-1];var o=new Dn(e);for(i=0;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(t){a=new Dn(1<<e);var l=15-e;for(i=0;i<n;++i)if(r[i])for(var c=i<<4|r[i],h=e-r[i],d=o[r[i]-1]++<<h,f=d|(1<<h)-1;d<=f;++d)a[Qc[d]>>>l]=c}else for(a=new Dn(n),i=0;i<n;++i)r[i]&&(a[i]=Qc[o[r[i]-1]++]>>>15-r[i]);return a},Ts=new yt(288);for(var Gt=0;Gt<144;++Gt)Ts[Gt]=8;for(var Gt=144;Gt<256;++Gt)Ts[Gt]=9;for(var Gt=256;Gt<280;++Gt)Ts[Gt]=7;for(var Gt=280;Gt<288;++Gt)Ts[Gt]=8;var Z1=new yt(32);for(var Gt=0;Gt<32;++Gt)Z1[Gt]=5;var tg=lr(Ts,9,0),ng=lr(Ts,9,1),ig=lr(Z1,5,0),rg=lr(Z1,5,1),F2=function(r){for(var e=r[0],t=1;t<r.length;++t)r[t]>e&&(e=r[t]);return e},Ki=function(r,e,t){var n=e/8|0;return(r[n]|r[n+1]<<8)>>(e&7)&t},N2=function(r,e){var t=e/8|0;return(r[t]|r[t+1]<<8|r[t+2]<<16)>>(e&7)},f0=function(r){return(r/8|0)+(r&7&&1)},cr=function(r,e,t){(e==null||e<0)&&(e=0),(t==null||t>r.length)&&(t=r.length);var n=new(r instanceof Dn?Dn:r instanceof Es?Es:yt)(t-e);return n.set(r.subarray(e,t)),n},p0=function(r,e,t){var n=r.length;if(!n||t&&!t.l&&n<5)return e||new yt(0);var i=!e||t,s=!t||t.i;t||(t={}),e||(e=new yt(n*3));var o=function(ie){var J=e.length;if(ie>J){var z=new yt(Math.max(J*2,ie));z.set(e),e=z}},a=t.f||0,l=t.p||0,c=t.b||0,h=t.l,d=t.d,f=t.m,m=t.n,_=n*8;do{if(!h){t.f=a=Ki(r,l,1);var v=Ki(r,l+1,3);if(l+=3,v)if(v==1)h=ng,d=rg,f=9,m=5;else if(v==2){var w=Ki(r,l,31)+257,S=Ki(r,l+10,15)+4,T=w+Ki(r,l+5,31)+1;l+=14;for(var A=new yt(T),R=new yt(19),E=0;E<S;++E)R[Zc[E]]=Ki(r,l+E*3,7);l+=S*3;for(var L=F2(R),k=(1<<L)-1,H=lr(R,L,1),E=0;E<T;){var te=H[Ki(r,l,k)];l+=te&15;var x=te>>>4;if(x<16)A[E++]=x;else{var q=0,B=0;for(x==16?(B=3+Ki(r,l,3),l+=2,q=A[E-1]):x==17?(B=3+Ki(r,l,7),l+=3):x==18&&(B=11+Ki(r,l,127),l+=7);B--;)A[E++]=q}}var N=A.subarray(0,w),W=A.subarray(w);f=F2(N),m=F2(W),h=lr(N,f,1),d=lr(W,m,1)}else throw"invalid block type";else{var x=f0(l)+4,y=r[x-4]|r[x-3]<<8,M=x+y;if(M>n){if(s)throw"unexpected EOF";break}i&&o(c+y),e.set(r.subarray(x,M),c),t.b=c+=y,t.p=l=M*8;continue}if(l>_){if(s)throw"unexpected EOF";break}}i&&o(c+131072);for(var V=(1<<f)-1,Y=(1<<m)-1,X=l;;X=l){var q=h[N2(r,l)&V],O=q>>>4;if(l+=q&15,l>_){if(s)throw"unexpected EOF";break}if(!q)throw"invalid length/literal";if(O<256)e[c++]=O;else if(O==256){X=l,h=null;break}else{var de=O-254;if(O>264){var E=O-257,_e=bl[E];de=Ki(r,l,(1<<_e)-1)+c4[E],l+=_e}var pe=d[N2(r,l)&Y],Ee=pe>>>4;if(!pe)throw"invalid distance";l+=pe&15;var W=eg[Ee];if(Ee>3){var _e=yl[Ee];W+=N2(r,l)&(1<<_e)-1,l+=_e}if(l>_){if(s)throw"unexpected EOF";break}i&&o(c+131072);for(var se=c+de;c<se;c+=4)e[c]=e[c-W],e[c+1]=e[c+1-W],e[c+2]=e[c+2-W],e[c+3]=e[c+3-W];c=se}}t.l=h,t.p=X,t.b=c,h&&(a=1,t.m=f,t.d=d,t.n=m)}while(!a);return c==e.length?e:cr(e,0,c)},Or=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>>8},u1=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>>8,r[n+2]|=t>>>16},z2=function(r,e){for(var t=[],n=0;n<r.length;++n)r[n]&&t.push({s:n,f:r[n]});var i=t.length,s=t.slice();if(!i)return[xs,0];if(i==1){var o=new yt(t[0].s+1);return o[t[0].s]=1,[o,1]}t.sort(function(T,A){return T.f-A.f}),t.push({s:-1,f:25001});var a=t[0],l=t[1],c=0,h=1,d=2;for(t[0]={s:-1,f:a.f+l.f,l:a,r:l};h!=i-1;)a=t[t[c].f<t[d].f?c++:d++],l=t[c!=h&&t[c].f<t[d].f?c++:d++],t[h++]={s:-1,f:a.f+l.f,l:a,r:l};for(var f=s[0].s,n=1;n<i;++n)s[n].s>f&&(f=s[n].s);var m=new Dn(f+1),_=fu(t[h-1],m,0);if(_>e){var n=0,v=0,x=_-e,y=1<<x;for(s.sort(function(A,R){return m[R.s]-m[A.s]||A.f-R.f});n<i;++n){var M=s[n].s;if(m[M]>e)v+=y-(1<<_-m[M]),m[M]=e;else break}for(v>>>=x;v>0;){var w=s[n].s;m[w]<e?v-=1<<e-m[w]++-1:++n}for(;n>=0&&v;--n){var S=s[n].s;m[S]==e&&(--m[S],++v)}_=e}return[new yt(m),_]},fu=function(r,e,t){return r.s==-1?Math.max(fu(r.l,e,t+1),fu(r.r,e,t+1)):e[r.s]=t},zd=function(r){for(var e=r.length;e&&!r[--e];);for(var t=new Dn(++e),n=0,i=r[0],s=1,o=function(l){t[n++]=l},a=1;a<=e;++a)if(r[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=r[a]}return[t.subarray(0,n),e]},h1=function(r,e){for(var t=0,n=0;n<e.length;++n)t+=r[n]*e[n];return t},xc=function(r,e,t){var n=t.length,i=f0(e+2);r[i]=n&255,r[i+1]=n>>>8,r[i+2]=r[i]^255,r[i+3]=r[i+1]^255;for(var s=0;s<n;++s)r[i+s+4]=t[s];return(i+4+n)*8},Bd=function(r,e,t,n,i,s,o,a,l,c,h){Or(e,h++,t),++i[256];for(var d=z2(i,15),f=d[0],m=d[1],_=z2(s,15),v=_[0],x=_[1],y=zd(f),M=y[0],w=y[1],S=zd(v),T=S[0],A=S[1],R=new Dn(19),E=0;E<M.length;++E)R[M[E]&31]++;for(var E=0;E<T.length;++E)R[T[E]&31]++;for(var L=z2(R,7),k=L[0],H=L[1],te=19;te>4&&!k[Zc[te-1]];--te);var q=c+5<<3,B=h1(i,Ts)+h1(s,Z1)+o,N=h1(i,f)+h1(s,v)+o+14+3*te+h1(R,k)+(2*R[16]+3*R[17]+7*R[18]);if(q<=B&&q<=N)return xc(e,h,r.subarray(l,l+c));var W,V,Y,X;if(Or(e,h,1+(N<B)),h+=2,N<B){W=lr(f,m,0),V=f,Y=lr(v,x,0),X=v;var O=lr(k,H,0);Or(e,h,w-257),Or(e,h+5,A-1),Or(e,h+10,te-4),h+=14;for(var E=0;E<te;++E)Or(e,h+3*E,k[Zc[E]]);h+=3*te;for(var de=[M,T],_e=0;_e<2;++_e)for(var pe=de[_e],E=0;E<pe.length;++E){var Ee=pe[E]&31;Or(e,h,O[Ee]),h+=k[Ee],Ee>15&&(Or(e,h,pe[E]>>>5&127),h+=pe[E]>>>12)}}else W=tg,V=Ts,Y=ig,X=Z1;for(var E=0;E<a;++E)if(n[E]>255){var Ee=n[E]>>>18&31;u1(e,h,W[Ee+257]),h+=V[Ee+257],Ee>7&&(Or(e,h,n[E]>>>23&31),h+=bl[Ee]);var se=n[E]&31;u1(e,h,Y[se]),h+=X[se],se>3&&(u1(e,h,n[E]>>>5&8191),h+=yl[se])}else u1(e,h,W[n[E]]),h+=V[n[E]];return u1(e,h,W[256]),h+V[256]},sg=new Es([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),xs=new yt(0),og=function(r,e,t,n,i,s){var o=r.length,a=new yt(n+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(n,a.length-i),c=0;if(!e||o<8)for(var h=0;h<=o;h+=65535){var d=h+65535;d<o?c=xc(l,c,r.subarray(h,d)):(l[h]=s,c=xc(l,c,r.subarray(h,o)))}else{for(var f=sg[e-1],m=f>>>13,_=f&8191,v=(1<<t)-1,x=new Dn(32768),y=new Dn(v+1),M=Math.ceil(t/3),w=2*M,S=function(j){return(r[j]^r[j+1]<<M^r[j+2]<<w)&v},T=new Es(25e3),A=new Dn(288),R=new Dn(32),E=0,L=0,h=0,k=0,H=0,te=0;h<o;++h){var q=S(h),B=h&32767,N=y[q];if(x[B]=N,y[q]=B,H<=h){var W=o-h;if((E>7e3||k>24576)&&W>423){c=Bd(r,l,0,T,A,R,L,k,te,h-te,c),k=E=L=0,te=h;for(var V=0;V<286;++V)A[V]=0;for(var V=0;V<30;++V)R[V]=0}var Y=2,X=0,O=_,de=B-N&32767;if(W>2&&q==S(h-de))for(var _e=Math.min(m,W)-1,pe=Math.min(32767,h),Ee=Math.min(258,W);de<=pe&&--O&&B!=N;){if(r[h+Y]==r[h+Y-de]){for(var se=0;se<Ee&&r[h+se]==r[h+se-de];++se);if(se>Y){if(Y=se,X=de,se>_e)break;for(var ie=Math.min(de,se-2),J=0,V=0;V<ie;++V){var z=h-de+V+32768&32767,$=x[z],oe=z-$+32768&32767;oe>J&&(J=oe,N=z)}}}B=N,N=x[B],de+=B-N+32768&32767}if(X){T[k++]=268435456|du[Y]<<18|Nd[X];var ve=du[Y]&31,C=Nd[X]&31;L+=bl[ve]+yl[C],++A[257+ve],++R[C],H=h+Y,++E}else T[k++]=r[h],++A[r[h]]}}c=Bd(r,l,s,T,A,R,L,k,te,h-te,c),!s&&c&7&&(c=xc(l,c+1,xs))}return cr(a,0,n+f0(c)+i)},ag=function(){for(var r=new Es(256),e=0;e<256;++e){for(var t=e,n=9;--n;)t=(t&1&&3988292384)^t>>>1;r[e]=t}return r}(),wl=function(){var r=-1;return{p:function(e){for(var t=r,n=0;n<e.length;++n)t=ag[t&255^e[n]]^t>>>8;r=t},d:function(){return~r}}},u4=function(){var r=1,e=0;return{p:function(t){for(var n=r,i=e,s=t.length,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=n+=t[o];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}r=n,e=i},d:function(){return r%=65521,e%=65521,(r&255)<<24|r>>>8<<16|(e&255)<<8|e>>>8}}},Pa=function(r,e,t,n,i){return og(r,e.level==null?6:e.level,e.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):12+e.mem,t,n,!i)},m0=function(r,e){var t={};for(var n in r)t[n]=r[n];for(var n in e)t[n]=e[n];return t},H6=function(r,e,t){for(var n=r(),i=r.toString(),s=i.slice(i.indexOf("[")+1,i.lastIndexOf("]")).replace(/ /g,"").split(","),o=0;o<n.length;++o){var a=n[o],l=s[o];if(typeof a=="function"){e+=";"+l+"=";var c=a.toString();if(a.prototype)if(c.indexOf("[native code]")!=-1){var h=c.indexOf(" ",8)+1;e+=c.slice(h,c.indexOf("(",h))}else{e+=c;for(var d in a.prototype)e+=";"+l+".prototype."+d+"="+a.prototype[d].toString()}else e+=c}else t[l]=a}return[e,t]},h2=[],bk=function(r){var e=[];for(var t in r)(r[t]instanceof yt||r[t]instanceof Dn||r[t]instanceof Es)&&e.push((r[t]=new r[t].constructor(r[t])).buffer);return e},lg=function(r,e,t,n){var i;if(!h2[t]){for(var s="",o={},a=r.length-1,l=0;l<a;++l)i=H6(r[l],s,o),s=i[0],o=i[1];h2[t]=H6(r[a],s,o)}var c=m0({},h2[t][1]);return xk(h2[t][0]+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+e.toString()+"}",t,c,bk(c),n)},Sl=function(){return[yt,Dn,Es,bl,yl,Zc,c4,eg,ng,rg,Qc,lr,F2,Ki,N2,f0,cr,p0,Cl,Eo,h4]},Ml=function(){return[yt,Dn,Es,bl,yl,Zc,du,Nd,tg,Ts,ig,Z1,Qc,sg,xs,lr,Or,u1,z2,fu,zd,h1,xc,Bd,f0,cr,og,Pa,g0,Eo]},cg=function(){return[d4,p4,kt,wl,ag]},ug=function(){return[f4,fg]},hg=function(){return[m4,kt,u4]},dg=function(){return[pg]},Eo=function(r){return postMessage(r,[r.buffer])},h4=function(r){return r&&r.size&&new yt(r.size)},El=function(r,e,t,n,i,s){var o=lg(t,n,i,function(a,l){o.terminate(),s(a,l)});return o.postMessage([r,e],e.consume?[r.buffer]:[]),function(){o.terminate()}},dr=function(r){return r.ondata=function(e,t){return postMessage([e,t],[e.buffer])},function(e){return r.push(e.data[0],e.data[1])}},Tl=function(r,e,t,n,i){var s,o=lg(r,n,i,function(a,l){a?(o.terminate(),e.ondata.call(e,a)):(l[1]&&o.terminate(),e.ondata.call(e,a,l[0],l[1]))});o.postMessage(t),e.push=function(a,l){if(s)throw"stream finished";if(!e.ondata)throw"no stream handler";o.postMessage([a,s=l],[a.buffer])},e.terminate=function(){o.terminate()}},ci=function(r,e){return r[e]|r[e+1]<<8},dn=function(r,e){return(r[e]|r[e+1]<<8|r[e+2]<<16|r[e+3]<<24)>>>0},Lh=function(r,e){return dn(r,e)+dn(r,e+4)*4294967296},kt=function(r,e,t){for(;t;++e)r[e]=t,t>>>=8},d4=function(r,e){var t=e.filename;if(r[0]=31,r[1]=139,r[2]=8,r[8]=e.level<2?4:e.level==9?2:0,r[9]=3,e.mtime!=0&&kt(r,4,Math.floor(new Date(e.mtime||Date.now())/1e3)),t){r[3]=8;for(var n=0;n<=t.length;++n)r[n+10]=t.charCodeAt(n)}},f4=function(r){if(r[0]!=31||r[1]!=139||r[2]!=8)throw"invalid gzip data";var e=r[3],t=10;e&4&&(t+=r[10]|(r[11]<<8)+2);for(var n=(e>>3&1)+(e>>4&1);n>0;n-=!r[t++]);return t+(e&2)},fg=function(r){var e=r.length;return(r[e-4]|r[e-3]<<8|r[e-2]<<16|r[e-1]<<24)>>>0},p4=function(r){return 10+(r.filename&&r.filename.length+1||0)},m4=function(r,e){var t=e.level,n=t==0?0:t<6?1:t==9?3:2;r[0]=120,r[1]=n<<6|(n?32-2*n:1)},pg=function(r){if((r[0]&15)!=8||r[0]>>>4>7||(r[0]<<8|r[1])%31)throw"invalid zlib data";if(r[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function g4(r,e){return!e&&typeof r=="function"&&(e=r,r={}),this.ondata=e,r}var Zr=function(){function r(e,t){!t&&typeof e=="function"&&(t=e,e={}),this.ondata=t,this.o=e||{}}return r.prototype.p=function(e,t){this.ondata(Pa(e,this.o,0,0,!t),t)},r.prototype.push=function(e,t){if(this.d)throw"stream finished";if(!this.ondata)throw"no stream handler";this.d=t,this.p(e,t||!1)},r}(),mg=function(){function r(e,t){Tl([Ml,function(){return[dr,Zr]}],this,g4.call(this,e,t),function(n){var i=new Zr(n.data);onmessage=dr(i)},6)}return r}();function gg(r,e,t){if(t||(t=e,e={}),typeof t!="function")throw"no callback";return El(r,e,[Ml],function(n){return Eo(g0(n.data[0],n.data[1]))},0,t)}function g0(r,e){return Pa(r,e||{},0,0)}var yi=function(){function r(e){this.s={},this.p=new yt(0),this.ondata=e}return r.prototype.e=function(e){if(this.d)throw"stream finished";if(!this.ondata)throw"no stream handler";var t=this.p.length,n=new yt(t+e.length);n.set(this.p),n.set(e,t),this.p=n},r.prototype.c=function(e){this.d=this.s.i=e||!1;var t=this.s.b,n=p0(this.p,this.o,this.s);this.ondata(cr(n,t,this.s.b),this.d),this.o=cr(n,this.s.b-32768),this.s.b=this.o.length,this.p=cr(this.p,this.s.p/8|0),this.s.p&=7},r.prototype.push=function(e,t){this.e(e),this.c(t)},r}(),_4=function(){function r(e){this.ondata=e,Tl([Sl,function(){return[dr,yi]}],this,0,function(){var t=new yi;onmessage=dr(t)},7)}return r}();function v4(r,e,t){if(t||(t=e,e={}),typeof t!="function")throw"no callback";return El(r,e,[Sl],function(n){return Eo(Cl(n.data[0],h4(n.data[1])))},1,t)}function Cl(r,e){return p0(r,e)}var pu=function(){function r(e,t){this.c=wl(),this.l=0,this.v=1,Zr.call(this,e,t)}return r.prototype.push=function(e,t){Zr.prototype.push.call(this,e,t)},r.prototype.p=function(e,t){this.c.p(e),this.l+=e.length;var n=Pa(e,this.o,this.v&&p4(this.o),t&&8,!t);this.v&&(d4(n,this.o),this.v=0),t&&(kt(n,n.length-8,this.c.d()),kt(n,n.length-4,this.l)),this.ondata(n,t)},r}(),G6=function(){function r(e,t){Tl([Ml,cg,function(){return[dr,Zr,pu]}],this,g4.call(this,e,t),function(n){var i=new pu(n.data);onmessage=dr(i)},8)}return r}();function W6(r,e,t){if(t||(t=e,e={}),typeof t!="function")throw"no callback";return El(r,e,[Ml,cg,function(){return[mu]}],function(n){return Eo(mu(n.data[0],n.data[1]))},2,t)}function mu(r,e){e||(e={});var t=wl(),n=r.length;t.p(r);var i=Pa(r,e,p4(e),8),s=i.length;return d4(i,e),kt(i,s-8,t.d()),kt(i,s-4,n),i}var gu=function(){function r(e){this.v=1,yi.call(this,e)}return r.prototype.push=function(e,t){if(yi.prototype.e.call(this,e),this.v){var n=this.p.length>3?f4(this.p):4;if(n>=this.p.length&&!t)return;this.p=this.p.subarray(n),this.v=0}if(t){if(this.p.length<8)throw"invalid gzip stream";this.p=this.p.subarray(0,-8)}yi.prototype.c.call(this,t)},r}(),_g=function(){function r(e){this.ondata=e,Tl([Sl,ug,function(){return[dr,yi,gu]}],this,0,function(){var t=new gu;onmessage=dr(t)},9)}return r}();function vg(r,e,t){if(t||(t=e,e={}),typeof t!="function")throw"no callback";return El(r,e,[Sl,ug,function(){return[_u]}],function(n){return Eo(_u(n.data[0]))},3,t)}function _u(r,e){return p0(r.subarray(f4(r),-8),e||new yt(fg(r)))}var Ud=function(){function r(e,t){this.c=u4(),this.v=1,Zr.call(this,e,t)}return r.prototype.push=function(e,t){Zr.prototype.push.call(this,e,t)},r.prototype.p=function(e,t){this.c.p(e);var n=Pa(e,this.o,this.v&&2,t&&4,!t);this.v&&(m4(n,this.o),this.v=0),t&&kt(n,n.length-4,this.c.d()),this.ondata(n,t)},r}(),yk=function(){function r(e,t){Tl([Ml,hg,function(){return[dr,Zr,Ud]}],this,g4.call(this,e,t),function(n){var i=new Ud(n.data);onmessage=dr(i)},10)}return r}();function wk(r,e,t){if(t||(t=e,e={}),typeof t!="function")throw"no callback";return El(r,e,[Ml,hg,function(){return[Vd]}],function(n){return Eo(Vd(n.data[0],n.data[1]))},4,t)}function Vd(r,e){e||(e={});var t=u4();t.p(r);var n=Pa(r,e,2,4);return m4(n,e),kt(n,n.length-4,t.d()),n}var vu=function(){function r(e){this.v=1,yi.call(this,e)}return r.prototype.push=function(e,t){if(yi.prototype.e.call(this,e),this.v){if(this.p.length<2&&!t)return;this.p=this.p.subarray(2),this.v=0}if(t){if(this.p.length<4)throw"invalid zlib stream";this.p=this.p.subarray(0,-4)}yi.prototype.c.call(this,t)},r}(),xg=function(){function r(e){this.ondata=e,Tl([Sl,dg,function(){return[dr,yi,vu]}],this,0,function(){var t=new vu;onmessage=dr(t)},11)}return r}();function bg(r,e,t){if(t||(t=e,e={}),typeof t!="function")throw"no callback";return El(r,e,[Sl,dg,function(){return[Jc]}],function(n){return Eo(Jc(n.data[0],h4(n.data[1])))},5,t)}function Jc(r,e){return p0((pg(r),r.subarray(2,-4)),e)}var yg=function(){function r(e){this.G=gu,this.I=yi,this.Z=vu,this.ondata=e}return r.prototype.push=function(e,t){if(!this.ondata)throw"no stream handler";if(this.s)this.s.push(e,t);else{if(this.p&&this.p.length){var n=new yt(this.p.length+e.length);n.set(this.p),n.set(e,this.p.length)}else this.p=e;if(this.p.length>2){var i=this,s=function(){i.ondata.apply(i,arguments)};this.s=this.p[0]==31&&this.p[1]==139&&this.p[2]==8?new this.G(s):(this.p[0]&15)!=8||this.p[0]>>4>7||(this.p[0]<<8|this.p[1])%31?new this.I(s):new this.Z(s),this.s.push(this.p,t),this.p=null}}},r}(),Sk=function(){function r(e){this.G=_g,this.I=_4,this.Z=xg,this.ondata=e}return r.prototype.push=function(e,t){yg.prototype.push.call(this,e,t)},r}();function Mk(r,e,t){if(t||(t=e,e={}),typeof t!="function")throw"no callback";return r[0]==31&&r[1]==139&&r[2]==8?vg(r,e,t):(r[0]&15)!=8||r[0]>>4>7||(r[0]<<8|r[1])%31?v4(r,e,t):bg(r,e,t)}function Ek(r,e){return r[0]==31&&r[1]==139&&r[2]==8?_u(r,e):(r[0]&15)!=8||r[0]>>4>7||(r[0]<<8|r[1])%31?Cl(r,e):Jc(r,e)}var x4=function(r,e,t,n){for(var i in r){var s=r[i],o=e+i;s instanceof yt?t[o]=[s,n]:Array.isArray(s)?t[o]=[s[0],m0(n,s[1])]:x4(s,o+"/",t,n)}},j6=typeof TextEncoder<"u"&&new TextEncoder,Hd=typeof TextDecoder<"u"&&new TextDecoder,wg=0;try{Hd.decode(xs,{stream:!0}),wg=1}catch{}var Sg=function(r){for(var e="",t=0;;){var n=r[t++],i=(n>127)+(n>223)+(n>239);if(t+i>r.length)return[e,cr(r,t-1)];i?i==3?(n=((n&15)<<18|(r[t++]&63)<<12|(r[t++]&63)<<6|r[t++]&63)-65536,e+=String.fromCharCode(55296|n>>10,56320|n&1023)):i&1?e+=String.fromCharCode((n&31)<<6|r[t++]&63):e+=String.fromCharCode((n&15)<<12|(r[t++]&63)<<6|r[t++]&63):e+=String.fromCharCode(n)}},Tk=function(){function r(e){this.ondata=e,wg?this.t=new TextDecoder:this.p=xs}return r.prototype.push=function(e,t){if(!this.ondata)throw"no callback";if(t=!!t,this.t){if(this.ondata(this.t.decode(e,{stream:!0}),t),t){if(this.t.decode().length)throw"invalid utf-8 data";this.t=null}return}if(!this.p)throw"stream finished";var n=new yt(this.p.length+e.length);n.set(this.p),n.set(e,this.p.length);var i=Sg(n),s=i[0],o=i[1];if(t){if(o.length)throw"invalid utf-8 data";this.p=null}else this.p=o;this.ondata(s,t)},r}(),Ck=function(){function r(e){this.ondata=e}return r.prototype.push=function(e,t){if(!this.ondata)throw"no callback";if(this.d)throw"stream finished";this.ondata(vo(e),this.d=t||!1)},r}();function vo(r,e){if(e){for(var t=new yt(r.length),n=0;n<r.length;++n)t[n]=r.charCodeAt(n);return t}if(j6)return j6.encode(r);for(var i=r.length,s=new yt(r.length+(r.length>>1)),o=0,a=function(h){s[o++]=h},n=0;n<i;++n){if(o+5>s.length){var l=new yt(o+8+(i-n<<1));l.set(s),s=l}var c=r.charCodeAt(n);c<128||e?a(c):c<2048?(a(192|c>>6),a(128|c&63)):c>55295&&c<57344?(c=65536+(c&1023<<10)|r.charCodeAt(++n)&1023,a(240|c>>18),a(128|c>>12&63),a(128|c>>6&63),a(128|c&63)):(a(224|c>>12),a(128|c>>6&63),a(128|c&63))}return cr(s,0,o)}function b4(r,e){if(e){for(var t="",n=0;n<r.length;n+=16384)t+=String.fromCharCode.apply(null,r.subarray(n,n+16384));return t}else{if(Hd)return Hd.decode(r);var i=Sg(r),s=i[0],o=i[1];if(o.length)throw"invalid utf-8 data";return s}}var Mg=function(r){return r==1?3:r<6?2:r==9?1:0},Eg=function(r,e){return e+30+ci(r,e+26)+ci(r,e+28)},Tg=function(r,e,t){var n=ci(r,e+28),i=b4(r.subarray(e+46,e+46+n),!(ci(r,e+8)&2048)),s=e+46+n,o=dn(r,e+20),a=t&&o==4294967295?Cg(r,s):[o,dn(r,e+24),dn(r,e+42)],l=a[0],c=a[1],h=a[2];return[ci(r,e+10),l,c,i,s+ci(r,e+30)+ci(r,e+32),h]},Cg=function(r,e){for(;ci(r,e)!=1;e+=4+ci(r,e+2));return[Lh(r,e+12),Lh(r,e+4),Lh(r,e+20)]},uo=function(r){var e=0;if(r)for(var t in r){var n=r[t].length;if(n>65535)throw"extra field too long";e+=n+4}return e},Q1=function(r,e,t,n,i,s,o,a){var l=n.length,c=t.extra,h=a&&a.length,d=uo(c);kt(r,e,o!=null?33639248:67324752),e+=4,o!=null&&(r[e++]=20,r[e++]=t.os),r[e]=20,e+=2,r[e++]=t.flag<<1|(s==null&&8),r[e++]=i&&8,r[e++]=t.compression&255,r[e++]=t.compression>>8;var f=new Date(t.mtime==null?Date.now():t.mtime),m=f.getFullYear()-1980;if(m<0||m>119)throw"date not in range 1980-2099";if(kt(r,e,m<<25|f.getMonth()+1<<21|f.getDate()<<16|f.getHours()<<11|f.getMinutes()<<5|f.getSeconds()>>>1),e+=4,s!=null&&(kt(r,e,t.crc),kt(r,e+4,s),kt(r,e+8,t.size)),kt(r,e+12,l),kt(r,e+14,d),e+=16,o!=null&&(kt(r,e,h),kt(r,e+6,t.attrs),kt(r,e+10,o),e+=14),r.set(n,e),e+=l,d)for(var _ in c){var v=c[_],x=v.length;kt(r,e,+_),kt(r,e+2,x),r.set(v,e+4),e+=4+x}return h&&(r.set(a,e),e+=h),e},y4=function(r,e,t,n,i){kt(r,e,101010256),kt(r,e+8,t),kt(r,e+10,t),kt(r,e+12,n),kt(r,e+16,i)},e0=function(){function r(e){this.filename=e,this.c=wl(),this.size=0,this.compression=0}return r.prototype.process=function(e,t){this.ondata(null,e,t)},r.prototype.push=function(e,t){if(!this.ondata)throw"no callback - add to ZIP archive before pushing";this.c.p(e),this.size+=e.length,t&&(this.crc=this.c.d()),this.process(e,t||!1)},r}(),Ak=function(){function r(e,t){var n=this;t||(t={}),e0.call(this,e),this.d=new Zr(t,function(i,s){n.ondata(null,i,s)}),this.compression=8,this.flag=Mg(t.level)}return r.prototype.process=function(e,t){try{this.d.push(e,t)}catch(n){this.ondata(n,null,t)}},r.prototype.push=function(e,t){e0.prototype.push.call(this,e,t)},r}(),Pk=function(){function r(e,t){var n=this;t||(t={}),e0.call(this,e),this.d=new mg(t,function(i,s,o){n.ondata(i,s,o)}),this.compression=8,this.flag=Mg(t.level),this.terminate=this.d.terminate}return r.prototype.process=function(e,t){this.d.push(e,t)},r.prototype.push=function(e,t){e0.prototype.push.call(this,e,t)},r}(),Lk=function(){function r(e){this.ondata=e,this.u=[],this.d=1}return r.prototype.add=function(e){var t=this;if(this.d&2)throw"stream finished";var n=vo(e.filename),i=n.length,s=e.comment,o=s&&vo(s),a=i!=e.filename.length||o&&s.length!=o.length,l=i+uo(e.extra)+30;if(i>65535)throw"filename too long";var c=new yt(l);Q1(c,0,e,n,a);var h=[c],d=function(){for(var x=0,y=h;x<y.length;x++){var M=y[x];t.ondata(null,M,!1)}h=[]},f=this.d;this.d=0;var m=this.u.length,_=m0(e,{f:n,u:a,o,t:function(){e.terminate&&e.terminate()},r:function(){if(d(),f){var x=t.u[m+1];x?x.r():t.d=1}f=1}}),v=0;e.ondata=function(x,y,M){if(x)t.ondata(x,y,M),t.terminate();else if(v+=y.length,h.push(y),M){var w=new yt(16);kt(w,0,134695760),kt(w,4,e.crc),kt(w,8,v),kt(w,12,e.size),h.push(w),_.c=v,_.b=l+v+16,_.crc=e.crc,_.size=e.size,f&&_.r(),f=1}else f&&d()},this.u.push(_)},r.prototype.end=function(){var e=this;if(this.d&2)throw this.d&1?"stream finishing":"stream finished";this.d?this.e():this.u.push({r:function(){!(e.d&1)||(e.u.splice(-1,1),e.e())},t:function(){}}),this.d=3},r.prototype.e=function(){for(var e=0,t=0,n=0,i=0,s=this.u;i<s.length;i++){var o=s[i];n+=46+o.f.length+uo(o.extra)+(o.o?o.o.length:0)}for(var a=new yt(n+22),l=0,c=this.u;l<c.length;l++){var o=c[l];Q1(a,e,o,o.f,o.u,o.c,t,o.o),e+=46+o.f.length+uo(o.extra)+(o.o?o.o.length:0),t+=o.b}y4(a,e,this.u.length,n,t),this.ondata(null,a,!0),this.d=2},r.prototype.terminate=function(){for(var e=0,t=this.u;e<t.length;e++){var n=t[e];n.t()}this.d=2},r}();function Rk(r,e,t){if(t||(t=e,e={}),typeof t!="function")throw"no callback";var n={};x4(r,"",n,e);var i=Object.keys(n),s=i.length,o=0,a=0,l=s,c=new Array(s),h=[],d=function(){for(var v=0;v<h.length;++v)h[v]()},f=function(){var v=new yt(a+22),x=o,y=a-o;a=0;for(var M=0;M<l;++M){var w=c[M];try{var S=w.c.length;Q1(v,a,w,w.f,w.u,S);var T=30+w.f.length+uo(w.extra),A=a+T;v.set(w.c,A),Q1(v,o,w,w.f,w.u,S,a,w.m),o+=16+T+(w.m?w.m.length:0),a=A+S}catch(R){return t(R,null)}}y4(v,o,c.length,y,x),t(null,v)};s||f();for(var m=function(v){var x=i[v],y=n[x],M=y[0],w=y[1],S=wl(),T=M.length;S.p(M);var A=vo(x),R=A.length,E=w.comment,L=E&&vo(E),k=L&&L.length,H=uo(w.extra),te=w.level==0?0:8,q=function(B,N){if(B)d(),t(B,null);else{var W=N.length;c[v]=m0(w,{size:T,crc:S.d(),c:N,f:A,m:L,u:R!=x.length||L&&E.length!=k,compression:te}),o+=30+R+H+W,a+=76+2*(R+H)+(k||0)+W,--s||f()}};if(R>65535&&q("filename too long",null),!te)q(null,M);else if(T<16e4)try{q(null,g0(M,w))}catch(B){q(B,null)}else h.push(gg(M,w,q))},_=0;_<l;++_)m(_);return d}function Ik(r,e){e||(e={});var t={},n=[];x4(r,"",t,e);var i=0,s=0;for(var o in t){var a=t[o],l=a[0],c=a[1],h=c.level==0?0:8,d=vo(o),f=d.length,m=c.comment,_=m&&vo(m),v=_&&_.length,x=uo(c.extra);if(f>65535)throw"filename too long";var y=h?g0(l,c):l,M=y.length,w=wl();w.p(l),n.push(m0(c,{size:l.length,crc:w.d(),c:y,f:d,m:_,u:f!=o.length||_&&m.length!=v,o:i,compression:h})),i+=30+f+x+M,s+=76+2*(f+x)+(v||0)+M}for(var S=new yt(s+22),T=i,A=s-i,R=0;R<n.length;++R){var d=n[R];Q1(S,d.o,d,d.f,d.u,d.c.length);var E=30+d.f.length+uo(d.extra);S.set(d.c,d.o+E),Q1(S,i,d,d.f,d.u,d.c.length,d.o,d.m),i+=16+E+(d.m?d.m.length:0)}return y4(S,i,n.length,A,T),S}var Ag=function(){function r(){}return r.prototype.push=function(e,t){this.ondata(null,e,t)},r.compression=0,r}(),Dk=function(){function r(){var e=this;this.i=new yi(function(t,n){e.ondata(null,t,n)})}return r.prototype.push=function(e,t){try{this.i.push(e,t)}catch(n){this.ondata(n,e,t)}},r.compression=8,r}(),kk=function(){function r(e,t){var n=this;t<32e4?this.i=new yi(function(i,s){n.ondata(null,i,s)}):(this.i=new _4(function(i,s,o){n.ondata(i,s,o)}),this.terminate=this.i.terminate)}return r.prototype.push=function(e,t){this.i.terminate&&(e=cr(e,0)),this.i.push(e,t)},r.compression=8,r}(),Ok=function(){function r(e){this.onfile=e,this.k=[],this.o={0:Ag},this.p=xs}return r.prototype.push=function(e,t){var n=this;if(!this.onfile)throw"no callback";if(!this.p)throw"stream finished";if(this.c>0){var i=Math.min(this.c,e.length),s=e.subarray(0,i);if(this.c-=i,this.d?this.d.push(s,!this.c):this.k[0].push(s),e=e.subarray(i),e.length)return this.push(e,t)}else{var o=0,a=0,l=void 0,c=void 0;this.p.length?e.length?(c=new yt(this.p.length+e.length),c.set(this.p),c.set(e,this.p.length)):c=this.p:c=e;for(var h=c.length,d=this.c,f=d&&this.d,m=function(){var y,M=dn(c,a);if(M==67324752){o=1,l=a,_.d=null,_.c=0;var w=ci(c,a+6),S=ci(c,a+8),T=w&2048,A=w&8,R=ci(c,a+26),E=ci(c,a+28);if(h>a+30+R+E){var L=[];_.k.unshift(L),o=2;var k=dn(c,a+18),H=dn(c,a+22),te=b4(c.subarray(a+30,a+=30+R),!T);k==4294967295?(y=A?[-2]:Cg(c,a),k=y[0],H=y[1]):A&&(k=-1),a+=E,_.c=k;var q,B={name:te,compression:S,start:function(){if(!B.ondata)throw"no callback";if(!k)B.ondata(null,xs,!0);else{var N=n.o[S];if(!N)throw"unknown compression type "+S;q=k<0?new N(te):new N(te,k,H),q.ondata=function(X,O,de){B.ondata(X,O,de)};for(var W=0,V=L;W<V.length;W++){var Y=V[W];q.push(Y,!1)}n.k[0]==L&&n.c?n.d=q:q.push(xs,!0)}},terminate:function(){q&&q.terminate&&q.terminate()}};k>=0&&(B.size=k,B.originalSize=H),_.onfile(B)}return"break"}else if(d){if(M==134695760)return l=a+=12+(d==-2&&8),o=3,_.c=0,"break";if(M==33639248)return l=a-=4,o=3,_.c=0,"break"}},_=this;a<h-4;++a){var v=m();if(v==="break")break}if(this.p=xs,d<0){var x=o?c.subarray(0,l-12-(d==-2&&8)-(dn(c,l-16)==134695760&&4)):c.subarray(0,a);f?f.push(x,!!o):this.k[+(o==2)].push(x)}if(o&2)return this.push(c.subarray(a),t);this.p=c.subarray(a)}if(t){if(this.c)throw"invalid zip file";this.p=null}},r.prototype.register=function(e){this.o[e.compression]=e},r}();function Fk(r,e){if(typeof e!="function")throw"no callback";for(var t=[],n=function(){for(var f=0;f<t.length;++f)t[f]()},i={},s=r.length-22;dn(r,s)!=101010256;--s)if(!s||r.length-s>65558){e("invalid zip file",null);return}var o=ci(r,s+8);o||e(null,{});var a=o,l=dn(r,s+16),c=l==4294967295;if(c){if(s=dn(r,s-12),dn(r,s)!=101075792){e("invalid zip file",null);return}a=o=dn(r,s+32),l=dn(r,s+48)}for(var h=function(f){var m=Tg(r,l,c),_=m[0],v=m[1],x=m[2],y=m[3],M=m[4],w=m[5],S=Eg(r,w);l=M;var T=function(R,E){R?(n(),e(R,null)):(i[y]=E,--o||e(null,i))};if(!_)T(null,cr(r,S,S+v));else if(_==8){var A=r.subarray(S,S+v);if(v<32e4)try{T(null,Cl(A,new yt(x)))}catch(R){T(R,null)}else t.push(v4(A,{size:x},T))}else T("unknown compression type "+_,null)},d=0;d<a;++d)h();return n}function Nk(r){for(var e={},t=r.length-22;dn(r,t)!=101010256;--t)if(!t||r.length-t>65558)throw"invalid zip file";var n=ci(r,t+8);if(!n)return{};var i=dn(r,t+16),s=i==4294967295;if(s){if(t=dn(r,t-12),dn(r,t)!=101075792)throw"invalid zip file";n=dn(r,t+32),i=dn(r,t+48)}for(var o=0;o<n;++o){var a=Tg(r,i,s),l=a[0],c=a[1],h=a[2],d=a[3],f=a[4],m=a[5],_=Eg(r,m);if(i=f,!l)e[d]=cr(r,_,_+c);else if(l==8)e[d]=Cl(r.subarray(_,_+c),new yt(h));else throw"unknown compression type "+l}return e}const zk=Object.freeze(Object.defineProperty({__proto__:null,Deflate:Zr,AsyncDeflate:mg,deflate:gg,deflateSync:g0,Inflate:yi,AsyncInflate:_4,inflate:v4,inflateSync:Cl,Gzip:pu,AsyncGzip:G6,gzip:W6,gzipSync:mu,Gunzip:gu,AsyncGunzip:_g,gunzip:vg,gunzipSync:_u,Zlib:Ud,AsyncZlib:yk,zlib:wk,zlibSync:Vd,Unzlib:vu,AsyncUnzlib:xg,unzlib:bg,unzlibSync:Jc,compress:W6,AsyncCompress:G6,compressSync:mu,Compress:pu,Decompress:yg,AsyncDecompress:Sk,decompress:Mk,decompressSync:Ek,DecodeUTF8:Tk,EncodeUTF8:Ck,strToU8:vo,strFromU8:b4,ZipPassThrough:e0,ZipDeflate:Ak,AsyncZipDeflate:Pk,Zip:Lk,zip:Rk,zipSync:Ik,UnzipPassThrough:Ag,UnzipInflate:Dk,AsyncUnzipInflate:kk,Unzip:Ok,unzip:Fk,unzipSync:Nk},Symbol.toStringTag,{value:"Module"}));function Pg(r,e,t){const n=t.length-r-1;if(e>=t[n])return n-1;if(e<=t[r])return r;let i=r,s=n,o=Math.floor((i+s)/2);for(;e<t[o]||e>=t[o+1];)e<t[o]?s=o:i=o,o=Math.floor((i+s)/2);return o}function Bk(r,e,t,n){const i=[],s=[],o=[];i[0]=1;for(let a=1;a<=t;++a){s[a]=e-n[r+1-a],o[a]=n[r+a]-e;let l=0;for(let c=0;c<a;++c){const h=o[c+1],d=s[a-c],f=i[c]/(h+d);i[c]=l+h*f,l=d*f}i[a]=l}return i}function Uk(r,e,t,n){const i=Pg(r,n,e),s=Bk(i,n,r,e),o=new It(0,0,0,0);for(let a=0;a<=r;++a){const l=t[i-r+a],c=s[a],h=l.w*c;o.x+=l.x*h,o.y+=l.y*h,o.z+=l.z*h,o.w+=l.w*c}return o}function Vk(r,e,t,n,i){const s=[];for(let d=0;d<=t;++d)s[d]=0;const o=[];for(let d=0;d<=n;++d)o[d]=s.slice(0);const a=[];for(let d=0;d<=t;++d)a[d]=s.slice(0);a[0][0]=1;const l=s.slice(0),c=s.slice(0);for(let d=1;d<=t;++d){l[d]=e-i[r+1-d],c[d]=i[r+d]-e;let f=0;for(let m=0;m<d;++m){const _=c[m+1],v=l[d-m];a[d][m]=_+v;const x=a[m][d-1]/a[d][m];a[m][d]=f+_*x,f=v*x}a[d][d]=f}for(let d=0;d<=t;++d)o[0][d]=a[d][t];for(let d=0;d<=t;++d){let f=0,m=1;const _=[];for(let v=0;v<=t;++v)_[v]=s.slice(0);_[0][0]=1;for(let v=1;v<=n;++v){let x=0;const y=d-v,M=t-v;d>=v&&(_[m][0]=_[f][0]/a[M+1][y],x=_[m][0]*a[y][M]);const w=y>=-1?1:-y,S=d-1<=M?v-1:t-d;for(let A=w;A<=S;++A)_[m][A]=(_[f][A]-_[f][A-1])/a[M+1][y+A],x+=_[m][A]*a[y+A][M];d<=M&&(_[m][v]=-_[f][v-1]/a[M+1][d],x+=_[m][v]*a[d][M]),o[v][d]=x;const T=f;f=m,m=T}}let h=t;for(let d=1;d<=n;++d){for(let f=0;f<=t;++f)o[d][f]*=h;h*=t-d}return o}function Hk(r,e,t,n,i){const s=i<r?i:r,o=[],a=Pg(r,n,e),l=Vk(a,n,r,s,e),c=[];for(let h=0;h<t.length;++h){const d=t[h].clone(),f=d.w;d.x*=f,d.y*=f,d.z*=f,c[h]=d}for(let h=0;h<=s;++h){const d=c[a-r].clone().multiplyScalar(l[h][0]);for(let f=1;f<=r;++f)d.add(c[a-r+f].clone().multiplyScalar(l[h][f]));o[h]=d}for(let h=s+1;h<=i+1;++h)o[h]=new It(0,0,0);return o}function Gk(r,e){let t=1;for(let i=2;i<=r;++i)t*=i;let n=1;for(let i=2;i<=e;++i)n*=i;for(let i=2;i<=r-e;++i)n*=i;return t/n}function Wk(r){const e=r.length,t=[],n=[];for(let s=0;s<e;++s){const o=r[s];t[s]=new Z(o.x,o.y,o.z),n[s]=o.w}const i=[];for(let s=0;s<e;++s){const o=t[s].clone();for(let a=1;a<=s;++a)o.sub(i[s-a].clone().multiplyScalar(Gk(s,a)*n[a]));i[s]=o.divideScalar(n[0])}return i}function jk(r,e,t,n,i){const s=Hk(r,e,t,n,i);return Wk(s)}class q6 extends Rr{constructor(e,t,n,i,s){super(),this.degree=e,this.knots=t,this.controlPoints=[],this.startKnot=i||0,this.endKnot=s||this.knots.length-1;for(let o=0;o<n.length;++o){const a=n[o];this.controlPoints[o]=new It(a.x,a.y,a.z,a.w)}}getPoint(e,t=new Z){const n=t,i=this.knots[this.startKnot]+e*(this.knots[this.endKnot]-this.knots[this.startKnot]),s=Uk(this.degree,this.knots,this.controlPoints,i);return s.w!==1&&s.divideScalar(s.w),n.set(s.x,s.y,s.z)}getTangent(e,t=new Z){const n=t,i=this.knots[0]+e*(this.knots[this.knots.length-1]-this.knots[0]),s=jk(this.degree,this.knots,this.controlPoints,i,1);return n.copy(s[1]).normalize(),n}}let xt,an,pi;class qk extends Aa{constructor(e){super(e)}load(e,t,n,i){const s=this,o=s.path===""?jr.extractUrlBase(e):s.path,a=new qc(this.manager);a.setPath(s.path),a.setResponseType("arraybuffer"),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(l){try{t(s.parse(l,o))}catch(c){i?i(c):console.error(c),s.manager.itemError(e)}},n,i)}parse(e,t){if(Qk(e))xt=new Zk().parse(e);else{const i=Dg(e);if(!Jk(i))throw new Error("THREE.FBXLoader: Unknown format.");if($6(i)<7e3)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+$6(i));xt=new Yk().parse(i)}const n=new Zu(this.manager).setPath(this.resourcePath||t).setCrossOrigin(this.crossOrigin);return new Xk(n,this.manager).parse(xt)}}class Xk{constructor(e,t){this.textureLoader=e,this.manager=t}parse(){an=this.parseConnections();const e=this.parseImages(),t=this.parseTextures(e),n=this.parseMaterials(t),i=this.parseDeformers(),s=new $k().parse(i);return this.parseScene(i,s,n),pi}parseConnections(){const e=new Map;return"Connections"in xt&&xt.Connections.connections.forEach(function(n){const i=n[0],s=n[1],o=n[2];e.has(i)||e.set(i,{parents:[],children:[]});const a={ID:s,relationship:o};e.get(i).parents.push(a),e.has(s)||e.set(s,{parents:[],children:[]});const l={ID:i,relationship:o};e.get(s).children.push(l)}),e}parseImages(){const e={},t={};if("Video"in xt.Objects){const n=xt.Objects.Video;for(const i in n){const s=n[i],o=parseInt(i);if(e[o]=s.RelativeFilename||s.Filename,"Content"in s){const a=s.Content instanceof ArrayBuffer&&s.Content.byteLength>0,l=typeof s.Content=="string"&&s.Content!=="";if(a||l){const c=this.parseImage(n[i]);t[s.RelativeFilename||s.Filename]=c}}}}for(const n in e){const i=e[n];t[i]!==void 0?e[n]=t[i]:e[n]=e[n].split("\\").pop()}return e}parseImage(e){const t=e.Content,n=e.RelativeFilename||e.Filename,i=n.slice(n.lastIndexOf(".")+1).toLowerCase();let s;switch(i){case"bmp":s="image/bmp";break;case"jpg":case"jpeg":s="image/jpeg";break;case"png":s="image/png";break;case"tif":s="image/tiff";break;case"tga":this.manager.getHandler(".tga")===null&&console.warn("FBXLoader: TGA loader not found, skipping ",n),s="image/tga";break;default:console.warn('FBXLoader: Image type "'+i+'" is not supported.');return}if(typeof t=="string")return"data:"+s+";base64,"+t;{const o=new Uint8Array(t);return window.URL.createObjectURL(new Blob([o],{type:s}))}}parseTextures(e){const t=new Map;if("Texture"in xt.Objects){const n=xt.Objects.Texture;for(const i in n){const s=this.parseTexture(n[i],e);t.set(parseInt(i),s)}}return t}parseTexture(e,t){const n=this.loadTexture(e,t);n.ID=e.id,n.name=e.attrName;const i=e.WrapModeU,s=e.WrapModeV,o=i!==void 0?i.value:0,a=s!==void 0?s.value:0;if(n.wrapS=o===0?Kr:vi,n.wrapT=a===0?Kr:vi,"Scaling"in e){const l=e.Scaling.value;n.repeat.x=l[0],n.repeat.y=l[1]}if("Translation"in e){const l=e.Translation.value;n.offset.x=l[0],n.offset.y=l[1]}return n}loadTexture(e,t){let n;const i=this.textureLoader.path,s=an.get(e.id).children;s!==void 0&&s.length>0&&t[s[0].ID]!==void 0&&(n=t[s[0].ID],(n.indexOf("blob:")===0||n.indexOf("data:")===0)&&this.textureLoader.setPath(void 0));let o;const a=e.FileName.slice(-3).toLowerCase();if(a==="tga"){const l=this.manager.getHandler(".tga");l===null?(console.warn("FBXLoader: TGA loader not found, creating placeholder texture for",e.RelativeFilename),o=new Tn):(l.setPath(this.textureLoader.path),o=l.load(n))}else a==="psd"?(console.warn("FBXLoader: PSD textures are not supported, creating placeholder texture for",e.RelativeFilename),o=new Tn):o=this.textureLoader.load(n);return this.textureLoader.setPath(i),o}parseMaterials(e){const t=new Map;if("Material"in xt.Objects){const n=xt.Objects.Material;for(const i in n){const s=this.parseMaterial(n[i],e);s!==null&&t.set(parseInt(i),s)}}return t}parseMaterial(e,t){const n=e.id,i=e.attrName;let s=e.ShadingModel;if(typeof s=="object"&&(s=s.value),!an.has(n))return null;const o=this.parseParameters(e,t,n);let a;switch(s.toLowerCase()){case"phong":a=new P1;break;case"lambert":a=new ou;break;default:console.warn('THREE.FBXLoader: unknown material type "%s". Defaulting to MeshPhongMaterial.',s),a=new P1;break}return a.setValues(o),a.name=i,a}parseParameters(e,t,n){const i={};e.BumpFactor&&(i.bumpScale=e.BumpFactor.value),e.Diffuse?i.color=new je().fromArray(e.Diffuse.value):e.DiffuseColor&&(e.DiffuseColor.type==="Color"||e.DiffuseColor.type==="ColorRGB")&&(i.color=new je().fromArray(e.DiffuseColor.value)),e.DisplacementFactor&&(i.displacementScale=e.DisplacementFactor.value),e.Emissive?i.emissive=new je().fromArray(e.Emissive.value):e.EmissiveColor&&(e.EmissiveColor.type==="Color"||e.EmissiveColor.type==="ColorRGB")&&(i.emissive=new je().fromArray(e.EmissiveColor.value)),e.EmissiveFactor&&(i.emissiveIntensity=parseFloat(e.EmissiveFactor.value)),e.Opacity&&(i.opacity=parseFloat(e.Opacity.value)),i.opacity<1&&(i.transparent=!0),e.ReflectionFactor&&(i.reflectivity=e.ReflectionFactor.value),e.Shininess&&(i.shininess=e.Shininess.value),e.Specular?i.specular=new je().fromArray(e.Specular.value):e.SpecularColor&&e.SpecularColor.type==="Color"&&(i.specular=new je().fromArray(e.SpecularColor.value));const s=this;return an.get(n).children.forEach(function(o){const a=o.relationship;switch(a){case"Bump":i.bumpMap=s.getTexture(t,o.ID);break;case"Maya|TEX_ao_map":i.aoMap=s.getTexture(t,o.ID);break;case"DiffuseColor":case"Maya|TEX_color_map":i.map=s.getTexture(t,o.ID),i.map!==void 0&&(i.map.encoding=pt);break;case"DisplacementColor":i.displacementMap=s.getTexture(t,o.ID);break;case"EmissiveColor":i.emissiveMap=s.getTexture(t,o.ID),i.emissiveMap!==void 0&&(i.emissiveMap.encoding=pt);break;case"NormalMap":case"Maya|TEX_normal_map":i.normalMap=s.getTexture(t,o.ID);break;case"ReflectionColor":i.envMap=s.getTexture(t,o.ID),i.envMap!==void 0&&(i.envMap.mapping=tu,i.envMap.encoding=pt);break;case"SpecularColor":i.specularMap=s.getTexture(t,o.ID),i.specularMap!==void 0&&(i.specularMap.encoding=pt);break;case"TransparentColor":case"TransparencyFactor":i.alphaMap=s.getTexture(t,o.ID),i.transparent=!0;break;case"AmbientColor":case"ShininessExponent":case"SpecularFactor":case"VectorDisplacementColor":default:console.warn("THREE.FBXLoader: %s map is not supported in three.js, skipping texture.",a);break}}),i}getTexture(e,t){return"LayeredTexture"in xt.Objects&&t in xt.Objects.LayeredTexture&&(console.warn("THREE.FBXLoader: layered textures are not supported in three.js. Discarding all but first layer."),t=an.get(t).children[0].ID),e.get(t)}parseDeformers(){const e={},t={};if("Deformer"in xt.Objects){const n=xt.Objects.Deformer;for(const i in n){const s=n[i],o=an.get(parseInt(i));if(s.attrType==="Skin"){const a=this.parseSkeleton(o,n);a.ID=i,o.parents.length>1&&console.warn("THREE.FBXLoader: skeleton attached to more than one geometry is not supported."),a.geometryID=o.parents[0].ID,e[i]=a}else if(s.attrType==="BlendShape"){const a={id:i};a.rawTargets=this.parseMorphTargets(o,n),a.id=i,o.parents.length>1&&console.warn("THREE.FBXLoader: morph target attached to more than one geometry is not supported."),t[i]=a}}}return{skeletons:e,morphTargets:t}}parseSkeleton(e,t){const n=[];return e.children.forEach(function(i){const s=t[i.ID];if(s.attrType!=="Cluster")return;const o={ID:i.ID,indices:[],weights:[],transformLink:new Ke().fromArray(s.TransformLink.a)};"Indexes"in s&&(o.indices=s.Indexes.a,o.weights=s.Weights.a),n.push(o)}),{rawBones:n,bones:[]}}parseMorphTargets(e,t){const n=[];for(let i=0;i<e.children.length;i++){const s=e.children[i],o=t[s.ID],a={name:o.attrName,initialWeight:o.DeformPercent,id:o.id,fullWeights:o.FullWeights.a};if(o.attrType!=="BlendShapeChannel")return;a.geoID=an.get(parseInt(s.ID)).children.filter(function(l){return l.relationship===void 0})[0].ID,n.push(a)}return n}parseScene(e,t,n){pi=new Tr;const i=this.parseModels(e.skeletons,t,n),s=xt.Objects.Model,o=this;i.forEach(function(l){const c=s[l.ID];o.setLookAtProperties(l,c),an.get(l.ID).parents.forEach(function(d){const f=i.get(d.ID);f!==void 0&&f.add(l)}),l.parent===null&&pi.add(l)}),this.bindSkeleton(e.skeletons,t,i),this.createAmbientLight(),pi.traverse(function(l){if(l.userData.transformData){l.parent&&(l.userData.transformData.parentMatrix=l.parent.matrix,l.userData.transformData.parentMatrixWorld=l.parent.matrixWorld);const c=Rg(l.userData.transformData);l.applyMatrix4(c),l.updateWorldMatrix()}});const a=new Kk().parse();pi.children.length===1&&pi.children[0].isGroup&&(pi.children[0].animations=a,pi=pi.children[0]),pi.animations=a}parseModels(e,t,n){const i=new Map,s=xt.Objects.Model;for(const o in s){const a=parseInt(o),l=s[o],c=an.get(a);let h=this.buildSkeleton(c,e,a,l.attrName);if(!h){switch(l.attrType){case"Camera":h=this.createCamera(c);break;case"Light":h=this.createLight(c);break;case"Mesh":h=this.createMesh(c,t,n);break;case"NurbsCurve":h=this.createCurve(c,t);break;case"LimbNode":case"Root":h=new su;break;case"Null":default:h=new Tr;break}h.name=l.attrName?Ct.sanitizeNodeName(l.attrName):"",h.ID=a}this.getTransformData(h,l),i.set(a,h)}return i}buildSkeleton(e,t,n,i){let s=null;return e.parents.forEach(function(o){for(const a in t){const l=t[a];l.rawBones.forEach(function(c,h){if(c.ID===o.ID){const d=s;s=new su,s.matrixWorld.copy(c.transformLink),s.name=i?Ct.sanitizeNodeName(i):"",s.ID=n,l.bones[h]=s,d!==null&&s.add(d)}})}}),s}createCamera(e){let t,n;if(e.children.forEach(function(i){const s=xt.Objects.NodeAttribute[i.ID];s!==void 0&&(n=s)}),n===void 0)t=new mt;else{let i=0;n.CameraProjectionType!==void 0&&n.CameraProjectionType.value===1&&(i=1);let s=1;n.NearPlane!==void 0&&(s=n.NearPlane.value/1e3);let o=1e3;n.FarPlane!==void 0&&(o=n.FarPlane.value/1e3);let a=window.innerWidth,l=window.innerHeight;n.AspectWidth!==void 0&&n.AspectHeight!==void 0&&(a=n.AspectWidth.value,l=n.AspectHeight.value);const c=a/l;let h=45;n.FieldOfView!==void 0&&(h=n.FieldOfView.value);const d=n.FocalLength?n.FocalLength.value:null;switch(i){case 0:t=new gn(h,c,s,o),d!==null&&t.setFocalLength(d);break;case 1:t=new Ta(-a/2,a/2,l/2,-l/2,s,o);break;default:console.warn("THREE.FBXLoader: Unknown camera type "+i+"."),t=new mt;break}}return t}createLight(e){let t,n;if(e.children.forEach(function(i){const s=xt.Objects.NodeAttribute[i.ID];s!==void 0&&(n=s)}),n===void 0)t=new mt;else{let i;n.LightType===void 0?i=0:i=n.LightType.value;let s=16777215;n.Color!==void 0&&(s=new je().fromArray(n.Color.value));let o=n.Intensity===void 0?1:n.Intensity.value/100;n.CastLightOnObject!==void 0&&n.CastLightOnObject.value===0&&(o=0);let a=0;n.FarAttenuationEnd!==void 0&&(n.EnableFarAttenuation!==void 0&&n.EnableFarAttenuation.value===0?a=0:a=n.FarAttenuationEnd.value);const l=1;switch(i){case 0:t=new Ed(s,o,a,l);break;case 1:t=new xl(s,o);break;case 2:let c=Math.PI/3;n.InnerAngle!==void 0&&(c=Mr.degToRad(n.InnerAngle.value));let h=0;n.OuterAngle!==void 0&&(h=Mr.degToRad(n.OuterAngle.value),h=Math.max(h,1)),t=new Lm(s,o,a,c,h,l);break;default:console.warn("THREE.FBXLoader: Unknown light type "+n.LightType.value+", defaulting to a PointLight."),t=new Ed(s,o);break}n.CastShadows!==void 0&&n.CastShadows.value===1&&(t.castShadow=!0)}return t}createMesh(e,t,n){let i,s=null,o=null;const a=[];return e.children.forEach(function(l){t.has(l.ID)&&(s=t.get(l.ID)),n.has(l.ID)&&a.push(n.get(l.ID))}),a.length>1?o=a:a.length>0?o=a[0]:(o=new P1({color:13421772}),a.push(o)),"color"in s.attributes&&a.forEach(function(l){l.vertexColors=!0}),s.FBX_Deformer?(i=new mm(s,o),i.normalizeSkinWeights()):i=new $t(s,o),i}createCurve(e,t){const n=e.children.reduce(function(s,o){return t.has(o.ID)&&(s=t.get(o.ID)),s},null),i=new gl({color:3342591,linewidth:1});return new u0(n,i)}getTransformData(e,t){const n={};"InheritType"in t&&(n.inheritType=parseInt(t.InheritType.value)),"RotationOrder"in t?n.eulerOrder=Ig(t.RotationOrder.value):n.eulerOrder="ZYX","Lcl_Translation"in t&&(n.translation=t.Lcl_Translation.value),"PreRotation"in t&&(n.preRotation=t.PreRotation.value),"Lcl_Rotation"in t&&(n.rotation=t.Lcl_Rotation.value),"PostRotation"in t&&(n.postRotation=t.PostRotation.value),"Lcl_Scaling"in t&&(n.scale=t.Lcl_Scaling.value),"ScalingOffset"in t&&(n.scalingOffset=t.ScalingOffset.value),"ScalingPivot"in t&&(n.scalingPivot=t.ScalingPivot.value),"RotationOffset"in t&&(n.rotationOffset=t.RotationOffset.value),"RotationPivot"in t&&(n.rotationPivot=t.RotationPivot.value),e.userData.transformData=n}setLookAtProperties(e,t){"LookAtProperty"in t&&an.get(e.ID).children.forEach(function(i){if(i.relationship==="LookAtProperty"){const s=xt.Objects.Model[i.ID];if("Lcl_Translation"in s){const o=s.Lcl_Translation.value;e.target!==void 0?(e.target.position.fromArray(o),pi.add(e.target)):e.lookAt(new Z().fromArray(o))}}})}bindSkeleton(e,t,n){const i=this.parsePoseNodes();for(const s in e){const o=e[s];an.get(parseInt(o.ID)).parents.forEach(function(l){if(t.has(l.ID)){const c=l.ID;an.get(c).parents.forEach(function(d){n.has(d.ID)&&n.get(d.ID).bind(new Xu(o.bones),i[d.ID])})}})}}parsePoseNodes(){const e={};if("Pose"in xt.Objects){const t=xt.Objects.Pose;for(const n in t)if(t[n].attrType==="BindPose"&&t[n].NbPoseNodes>0){const i=t[n].PoseNode;Array.isArray(i)?i.forEach(function(s){e[s.Node]=new Ke().fromArray(s.Matrix.a)}):e[i.Node]=new Ke().fromArray(i.Matrix.a)}}return e}createAmbientLight(){if("GlobalSettings"in xt&&"AmbientColor"in xt.GlobalSettings){const e=xt.GlobalSettings.AmbientColor.value,t=e[0],n=e[1],i=e[2];if(t!==0||n!==0||i!==0){const s=new je(t,n,i);pi.add(new $1(s,1))}}}}class $k{constructor(){this.negativeMaterialIndices=!1}parse(e){const t=new Map;if("Geometry"in xt.Objects){const n=xt.Objects.Geometry;for(const i in n){const s=an.get(parseInt(i)),o=this.parseGeometry(s,n[i],e);t.set(parseInt(i),o)}}return this.negativeMaterialIndices===!0&&console.warn("THREE.FBXLoader: The FBX file contains invalid (negative) material indices. The asset might not render as expected."),t}parseGeometry(e,t,n){switch(t.attrType){case"Mesh":return this.parseMeshGeometry(e,t,n);case"NurbsCurve":return this.parseNurbsGeometry(t)}}parseMeshGeometry(e,t,n){const i=n.skeletons,s=[],o=e.parents.map(function(d){return xt.Objects.Model[d.ID]});if(o.length===0)return;const a=e.children.reduce(function(d,f){return i[f.ID]!==void 0&&(d=i[f.ID]),d},null);e.children.forEach(function(d){n.morphTargets[d.ID]!==void 0&&s.push(n.morphTargets[d.ID])});const l=o[0],c={};"RotationOrder"in l&&(c.eulerOrder=Ig(l.RotationOrder.value)),"InheritType"in l&&(c.inheritType=parseInt(l.InheritType.value)),"GeometricTranslation"in l&&(c.translation=l.GeometricTranslation.value),"GeometricRotation"in l&&(c.rotation=l.GeometricRotation.value),"GeometricScaling"in l&&(c.scale=l.GeometricScaling.value);const h=Rg(c);return this.genGeometry(t,a,s,h)}genGeometry(e,t,n,i){const s=new Xt;e.attrName&&(s.name=e.attrName);const o=this.parseGeoNode(e,t),a=this.genBuffers(o),l=new Lt(a.vertex,3);if(l.applyMatrix4(i),s.setAttribute("position",l),a.colors.length>0&&s.setAttribute("color",new Lt(a.colors,3)),t&&(s.setAttribute("skinIndex",new Gf(a.weightsIndices,4)),s.setAttribute("skinWeight",new Lt(a.vertexWeights,4)),s.FBX_Deformer=t),a.normal.length>0){const c=new Ni().getNormalMatrix(i),h=new Lt(a.normal,3);h.applyNormalMatrix(c),s.setAttribute("normal",h)}if(a.uvs.forEach(function(c,h){let d="uv"+(h+1).toString();h===0&&(d="uv"),s.setAttribute(d,new Lt(a.uvs[h],2))}),o.material&&o.material.mappingType!=="AllSame"){let c=a.materialIndex[0],h=0;if(a.materialIndex.forEach(function(d,f){d!==c&&(s.addGroup(h,f-h,c),c=d,h=f)}),s.groups.length>0){const d=s.groups[s.groups.length-1],f=d.start+d.count;f!==a.materialIndex.length&&s.addGroup(f,a.materialIndex.length-f,c)}s.groups.length===0&&s.addGroup(0,a.materialIndex.length,a.materialIndex[0])}return this.addMorphTargets(s,e,n,i),s}parseGeoNode(e,t){const n={};if(n.vertexPositions=e.Vertices!==void 0?e.Vertices.a:[],n.vertexIndices=e.PolygonVertexIndex!==void 0?e.PolygonVertexIndex.a:[],e.LayerElementColor&&(n.color=this.parseVertexColors(e.LayerElementColor[0])),e.LayerElementMaterial&&(n.material=this.parseMaterialIndices(e.LayerElementMaterial[0])),e.LayerElementNormal&&(n.normal=this.parseNormals(e.LayerElementNormal[0])),e.LayerElementUV){n.uv=[];let i=0;for(;e.LayerElementUV[i];)e.LayerElementUV[i].UV&&n.uv.push(this.parseUVs(e.LayerElementUV[i])),i++}return n.weightTable={},t!==null&&(n.skeleton=t,t.rawBones.forEach(function(i,s){i.indices.forEach(function(o,a){n.weightTable[o]===void 0&&(n.weightTable[o]=[]),n.weightTable[o].push({id:s,weight:i.weights[a]})})})),n}genBuffers(e){const t={vertex:[],normal:[],colors:[],uvs:[],materialIndex:[],vertexWeights:[],weightsIndices:[]};let n=0,i=0,s=!1,o=[],a=[],l=[],c=[],h=[],d=[];const f=this;return e.vertexIndices.forEach(function(m,_){let v,x=!1;m<0&&(m=m^-1,x=!0);let y=[],M=[];if(o.push(m*3,m*3+1,m*3+2),e.color){const w=d2(_,n,m,e.color);l.push(w[0],w[1],w[2])}if(e.skeleton){if(e.weightTable[m]!==void 0&&e.weightTable[m].forEach(function(w){M.push(w.weight),y.push(w.id)}),M.length>4){s||(console.warn("THREE.FBXLoader: Vertex has more than 4 skinning weights assigned to vertex. Deleting additional weights."),s=!0);const w=[0,0,0,0],S=[0,0,0,0];M.forEach(function(T,A){let R=T,E=y[A];S.forEach(function(L,k,H){if(R>L){H[k]=R,R=L;const te=w[k];w[k]=E,E=te}})}),y=w,M=S}for(;M.length<4;)M.push(0),y.push(0);for(let w=0;w<4;++w)h.push(M[w]),d.push(y[w])}if(e.normal){const w=d2(_,n,m,e.normal);a.push(w[0],w[1],w[2])}e.material&&e.material.mappingType!=="AllSame"&&(v=d2(_,n,m,e.material)[0],v<0&&(f.negativeMaterialIndices=!0,v=0)),e.uv&&e.uv.forEach(function(w,S){const T=d2(_,n,m,w);c[S]===void 0&&(c[S]=[]),c[S].push(T[0]),c[S].push(T[1])}),i++,x&&(f.genFace(t,e,o,v,a,l,c,h,d,i),n++,i=0,o=[],a=[],l=[],c=[],h=[],d=[])}),t}genFace(e,t,n,i,s,o,a,l,c,h){for(let d=2;d<h;d++)e.vertex.push(t.vertexPositions[n[0]]),e.vertex.push(t.vertexPositions[n[1]]),e.vertex.push(t.vertexPositions[n[2]]),e.vertex.push(t.vertexPositions[n[(d-1)*3]]),e.vertex.push(t.vertexPositions[n[(d-1)*3+1]]),e.vertex.push(t.vertexPositions[n[(d-1)*3+2]]),e.vertex.push(t.vertexPositions[n[d*3]]),e.vertex.push(t.vertexPositions[n[d*3+1]]),e.vertex.push(t.vertexPositions[n[d*3+2]]),t.skeleton&&(e.vertexWeights.push(l[0]),e.vertexWeights.push(l[1]),e.vertexWeights.push(l[2]),e.vertexWeights.push(l[3]),e.vertexWeights.push(l[(d-1)*4]),e.vertexWeights.push(l[(d-1)*4+1]),e.vertexWeights.push(l[(d-1)*4+2]),e.vertexWeights.push(l[(d-1)*4+3]),e.vertexWeights.push(l[d*4]),e.vertexWeights.push(l[d*4+1]),e.vertexWeights.push(l[d*4+2]),e.vertexWeights.push(l[d*4+3]),e.weightsIndices.push(c[0]),e.weightsIndices.push(c[1]),e.weightsIndices.push(c[2]),e.weightsIndices.push(c[3]),e.weightsIndices.push(c[(d-1)*4]),e.weightsIndices.push(c[(d-1)*4+1]),e.weightsIndices.push(c[(d-1)*4+2]),e.weightsIndices.push(c[(d-1)*4+3]),e.weightsIndices.push(c[d*4]),e.weightsIndices.push(c[d*4+1]),e.weightsIndices.push(c[d*4+2]),e.weightsIndices.push(c[d*4+3])),t.color&&(e.colors.push(o[0]),e.colors.push(o[1]),e.colors.push(o[2]),e.colors.push(o[(d-1)*3]),e.colors.push(o[(d-1)*3+1]),e.colors.push(o[(d-1)*3+2]),e.colors.push(o[d*3]),e.colors.push(o[d*3+1]),e.colors.push(o[d*3+2])),t.material&&t.material.mappingType!=="AllSame"&&(e.materialIndex.push(i),e.materialIndex.push(i),e.materialIndex.push(i)),t.normal&&(e.normal.push(s[0]),e.normal.push(s[1]),e.normal.push(s[2]),e.normal.push(s[(d-1)*3]),e.normal.push(s[(d-1)*3+1]),e.normal.push(s[(d-1)*3+2]),e.normal.push(s[d*3]),e.normal.push(s[d*3+1]),e.normal.push(s[d*3+2])),t.uv&&t.uv.forEach(function(f,m){e.uvs[m]===void 0&&(e.uvs[m]=[]),e.uvs[m].push(a[m][0]),e.uvs[m].push(a[m][1]),e.uvs[m].push(a[m][(d-1)*2]),e.uvs[m].push(a[m][(d-1)*2+1]),e.uvs[m].push(a[m][d*2]),e.uvs[m].push(a[m][d*2+1])})}addMorphTargets(e,t,n,i){if(n.length===0)return;e.morphTargetsRelative=!0,e.morphAttributes.position=[];const s=this;n.forEach(function(o){o.rawTargets.forEach(function(a){const l=xt.Objects.Geometry[a.geoID];l!==void 0&&s.genMorphGeometry(e,t,l,i,a.name)})})}genMorphGeometry(e,t,n,i,s){const o=t.PolygonVertexIndex!==void 0?t.PolygonVertexIndex.a:[],a=n.Vertices!==void 0?n.Vertices.a:[],l=n.Indexes!==void 0?n.Indexes.a:[],c=e.attributes.position.count*3,h=new Float32Array(c);for(let _=0;_<l.length;_++){const v=l[_]*3;h[v]=a[_*3],h[v+1]=a[_*3+1],h[v+2]=a[_*3+2]}const d={vertexIndices:o,vertexPositions:h},f=this.genBuffers(d),m=new Lt(f.vertex,3);m.name=s||n.attrName,m.applyMatrix4(i),e.morphAttributes.position.push(m)}parseNormals(e){const t=e.MappingInformationType,n=e.ReferenceInformationType,i=e.Normals.a;let s=[];return n==="IndexToDirect"&&("NormalIndex"in e?s=e.NormalIndex.a:"NormalsIndex"in e&&(s=e.NormalsIndex.a)),{dataSize:3,buffer:i,indices:s,mappingType:t,referenceType:n}}parseUVs(e){const t=e.MappingInformationType,n=e.ReferenceInformationType,i=e.UV.a;let s=[];return n==="IndexToDirect"&&(s=e.UVIndex.a),{dataSize:2,buffer:i,indices:s,mappingType:t,referenceType:n}}parseVertexColors(e){const t=e.MappingInformationType,n=e.ReferenceInformationType,i=e.Colors.a;let s=[];return n==="IndexToDirect"&&(s=e.ColorIndex.a),{dataSize:4,buffer:i,indices:s,mappingType:t,referenceType:n}}parseMaterialIndices(e){const t=e.MappingInformationType,n=e.ReferenceInformationType;if(t==="NoMappingInformation")return{dataSize:1,buffer:[0],indices:[0],mappingType:"AllSame",referenceType:n};const i=e.Materials.a,s=[];for(let o=0;o<i.length;++o)s.push(o);return{dataSize:1,buffer:i,indices:s,mappingType:t,referenceType:n}}parseNurbsGeometry(e){if(q6===void 0)return console.error("THREE.FBXLoader: The loader relies on NURBSCurve for any nurbs present in the model. Nurbs will show up as empty geometry."),new Xt;const t=parseInt(e.Order);if(isNaN(t))return console.error("THREE.FBXLoader: Invalid Order %s given for geometry ID: %s",e.Order,e.id),new Xt;const n=t-1,i=e.KnotVector.a,s=[],o=e.Points.a;for(let d=0,f=o.length;d<f;d+=4)s.push(new It().fromArray(o,d));let a,l;if(e.Form==="Closed")s.push(s[0]);else if(e.Form==="Periodic"){a=n,l=i.length-1-a;for(let d=0;d<n;++d)s.push(s[d])}const h=new q6(n,i,s,a,l).getPoints(s.length*12);return new Xt().setFromPoints(h)}}class Kk{parse(){const e=[],t=this.parseClips();if(t!==void 0)for(const n in t){const i=t[n],s=this.addClip(i);e.push(s)}return e}parseClips(){if(xt.Objects.AnimationCurve===void 0)return;const e=this.parseAnimationCurveNodes();this.parseAnimationCurves(e);const t=this.parseAnimationLayers(e);return this.parseAnimStacks(t)}parseAnimationCurveNodes(){const e=xt.Objects.AnimationCurveNode,t=new Map;for(const n in e){const i=e[n];if(i.attrName.match(/S|R|T|DeformPercent/)!==null){const s={id:i.id,attr:i.attrName,curves:{}};t.set(s.id,s)}}return t}parseAnimationCurves(e){const t=xt.Objects.AnimationCurve;for(const n in t){const i={id:t[n].id,times:t[n].KeyTime.a.map(eO),values:t[n].KeyValueFloat.a},s=an.get(i.id);if(s!==void 0){const o=s.parents[0].ID,a=s.parents[0].relationship;a.match(/X/)?e.get(o).curves.x=i:a.match(/Y/)?e.get(o).curves.y=i:a.match(/Z/)?e.get(o).curves.z=i:a.match(/d|DeformPercent/)&&e.has(o)&&(e.get(o).curves.morph=i)}}}parseAnimationLayers(e){const t=xt.Objects.AnimationLayer,n=new Map;for(const i in t){const s=[],o=an.get(parseInt(i));o!==void 0&&(o.children.forEach(function(l,c){if(e.has(l.ID)){const h=e.get(l.ID);if(h.curves.x!==void 0||h.curves.y!==void 0||h.curves.z!==void 0){if(s[c]===void 0){const d=an.get(l.ID).parents.filter(function(f){return f.relationship!==void 0})[0].ID;if(d!==void 0){const f=xt.Objects.Model[d.toString()];if(f===void 0){console.warn("THREE.FBXLoader: Encountered a unused curve.",l);return}const m={modelName:f.attrName?Ct.sanitizeNodeName(f.attrName):"",ID:f.id,initialPosition:[0,0,0],initialRotation:[0,0,0],initialScale:[1,1,1]};pi.traverse(function(_){_.ID===f.id&&(m.transform=_.matrix,_.userData.transformData&&(m.eulerOrder=_.userData.transformData.eulerOrder))}),m.transform||(m.transform=new Ke),"PreRotation"in f&&(m.preRotation=f.PreRotation.value),"PostRotation"in f&&(m.postRotation=f.PostRotation.value),s[c]=m}}s[c]&&(s[c][h.attr]=h)}else if(h.curves.morph!==void 0){if(s[c]===void 0){const d=an.get(l.ID).parents.filter(function(y){return y.relationship!==void 0})[0].ID,f=an.get(d).parents[0].ID,m=an.get(f).parents[0].ID,_=an.get(m).parents[0].ID,v=xt.Objects.Model[_],x={modelName:v.attrName?Ct.sanitizeNodeName(v.attrName):"",morphName:xt.Objects.Deformer[d].attrName};s[c]=x}s[c][h.attr]=h}}}),n.set(parseInt(i),s))}return n}parseAnimStacks(e){const t=xt.Objects.AnimationStack,n={};for(const i in t){const s=an.get(parseInt(i)).children;s.length>1&&console.warn("THREE.FBXLoader: Encountered an animation stack with multiple layers, this is currently not supported. Ignoring subsequent layers.");const o=e.get(s[0].ID);n[i]={name:t[i].attrName,layer:o}}return n}addClip(e){let t=[];const n=this;return e.layer.forEach(function(i){t=t.concat(n.generateTracks(i))}),new au(e.name,-1,t)}generateTracks(e){const t=[];let n=new Z,i=new Gn,s=new Z;if(e.transform&&e.transform.decompose(n,i,s),n=n.toArray(),i=new zi().setFromQuaternion(i,e.eulerOrder).toArray(),s=s.toArray(),e.T!==void 0&&Object.keys(e.T.curves).length>0){const o=this.generateVectorTrack(e.modelName,e.T.curves,n,"position");o!==void 0&&t.push(o)}if(e.R!==void 0&&Object.keys(e.R.curves).length>0){const o=this.generateRotationTrack(e.modelName,e.R.curves,i,e.preRotation,e.postRotation,e.eulerOrder);o!==void 0&&t.push(o)}if(e.S!==void 0&&Object.keys(e.S.curves).length>0){const o=this.generateVectorTrack(e.modelName,e.S.curves,s,"scale");o!==void 0&&t.push(o)}if(e.DeformPercent!==void 0){const o=this.generateMorphTrack(e);o!==void 0&&t.push(o)}return t}generateVectorTrack(e,t,n,i){const s=this.getTimesForAllAxes(t),o=this.getKeyframeTrackValues(s,t,n);return new q1(e+"."+i,s,o)}generateRotationTrack(e,t,n,i,s,o){t.x!==void 0&&(this.interpolateRotations(t.x),t.x.values=t.x.values.map(Mr.degToRad)),t.y!==void 0&&(this.interpolateRotations(t.y),t.y.values=t.y.values.map(Mr.degToRad)),t.z!==void 0&&(this.interpolateRotations(t.z),t.z.values=t.z.values.map(Mr.degToRad));const a=this.getTimesForAllAxes(t),l=this.getKeyframeTrackValues(a,t,n);i!==void 0&&(i=i.map(Mr.degToRad),i.push(o),i=new zi().fromArray(i),i=new Gn().setFromEuler(i)),s!==void 0&&(s=s.map(Mr.degToRad),s.push(o),s=new zi().fromArray(s),s=new Gn().setFromEuler(s).invert());const c=new Gn,h=new zi,d=[];for(let f=0;f<l.length;f+=3)h.set(l[f],l[f+1],l[f+2],o),c.setFromEuler(h),i!==void 0&&c.premultiply(i),s!==void 0&&c.multiply(s),c.toArray(d,f/3*4);return new _o(e+".quaternion",a,d)}generateMorphTrack(e){const t=e.DeformPercent.curves.morph,n=t.values.map(function(s){return s/100}),i=pi.getObjectByName(e.modelName).morphTargetDictionary[e.morphName];return new j1(e.modelName+".morphTargetInfluences["+i+"]",t.times,n)}getTimesForAllAxes(e){let t=[];if(e.x!==void 0&&(t=t.concat(e.x.times)),e.y!==void 0&&(t=t.concat(e.y.times)),e.z!==void 0&&(t=t.concat(e.z.times)),t=t.sort(function(n,i){return n-i}),t.length>1){let n=1,i=t[0];for(let s=1;s<t.length;s++){const o=t[s];o!==i&&(t[n]=o,i=o,n++)}t=t.slice(0,n)}return t}getKeyframeTrackValues(e,t,n){const i=n,s=[];let o=-1,a=-1,l=-1;return e.forEach(function(c){if(t.x&&(o=t.x.times.indexOf(c)),t.y&&(a=t.y.times.indexOf(c)),t.z&&(l=t.z.times.indexOf(c)),o!==-1){const h=t.x.values[o];s.push(h),i[0]=h}else s.push(i[0]);if(a!==-1){const h=t.y.values[a];s.push(h),i[1]=h}else s.push(i[1]);if(l!==-1){const h=t.z.values[l];s.push(h),i[2]=h}else s.push(i[2])}),s}interpolateRotations(e){for(let t=1;t<e.values.length;t++){const n=e.values[t-1],i=e.values[t]-n,s=Math.abs(i);if(s>=180){const o=s/180,a=i/o;let l=n+a;const c=e.times[t-1],d=(e.times[t]-c)/o;let f=c+d;const m=[],_=[];for(;f<e.times[t];)m.push(f),f+=d,_.push(l),l+=a;e.times=K6(e.times,t,m),e.values=K6(e.values,t,_)}}}}class Yk{getPrevNode(){return this.nodeStack[this.currentIndent-2]}getCurrentNode(){return this.nodeStack[this.currentIndent-1]}getCurrentProp(){return this.currentProp}pushStack(e){this.nodeStack.push(e),this.currentIndent+=1}popStack(){this.nodeStack.pop(),this.currentIndent-=1}setCurrentProp(e,t){this.currentProp=e,this.currentPropName=t}parse(e){this.currentIndent=0,this.allNodes=new Lg,this.nodeStack=[],this.currentProp=[],this.currentPropName="";const t=this,n=e.split(/[\r\n]+/);return n.forEach(function(i,s){const o=i.match(/^[\s\t]*;/),a=i.match(/^[\s\t]*$/);if(o||a)return;const l=i.match("^\\t{"+t.currentIndent+"}(\\w+):(.*){",""),c=i.match("^\\t{"+t.currentIndent+"}(\\w+):[\\s\\t\\r\\n](.*)"),h=i.match("^\\t{"+(t.currentIndent-1)+"}}");l?t.parseNodeBegin(i,l):c?t.parseNodeProperty(i,c,n[++s]):h?t.popStack():i.match(/^[^\s\t}]/)&&t.parseNodePropertyContinued(i)}),this.allNodes}parseNodeBegin(e,t){const n=t[1].trim().replace(/^"/,"").replace(/"$/,""),i=t[2].split(",").map(function(l){return l.trim().replace(/^"/,"").replace(/"$/,"")}),s={name:n},o=this.parseNodeAttr(i),a=this.getCurrentNode();this.currentIndent===0?this.allNodes.add(n,s):n in a?(n==="PoseNode"?a.PoseNode.push(s):a[n].id!==void 0&&(a[n]={},a[n][a[n].id]=a[n]),o.id!==""&&(a[n][o.id]=s)):typeof o.id=="number"?(a[n]={},a[n][o.id]=s):n!=="Properties70"&&(n==="PoseNode"?a[n]=[s]:a[n]=s),typeof o.id=="number"&&(s.id=o.id),o.name!==""&&(s.attrName=o.name),o.type!==""&&(s.attrType=o.type),this.pushStack(s)}parseNodeAttr(e){let t=e[0];e[0]!==""&&(t=parseInt(e[0]),isNaN(t)&&(t=e[0]));let n="",i="";return e.length>1&&(n=e[1].replace(/^(\w+)::/,""),i=e[2]),{id:t,name:n,type:i}}parseNodeProperty(e,t,n){let i=t[1].replace(/^"/,"").replace(/"$/,"").trim(),s=t[2].replace(/^"/,"").replace(/"$/,"").trim();i==="Content"&&s===","&&(s=n.replace(/"/g,"").replace(/,$/,"").trim());const o=this.getCurrentNode();if(o.name==="Properties70"){this.parseNodeSpecialProperty(e,i,s);return}if(i==="C"){const l=s.split(",").slice(1),c=parseInt(l[0]),h=parseInt(l[1]);let d=s.split(",").slice(3);d=d.map(function(f){return f.trim().replace(/^"/,"")}),i="connections",s=[c,h],nO(s,d),o[i]===void 0&&(o[i]=[])}i==="Node"&&(o.id=s),i in o&&Array.isArray(o[i])?o[i].push(s):i!=="a"?o[i]=s:o.a=s,this.setCurrentProp(o,i),i==="a"&&s.slice(-1)!==","&&(o.a=Ih(s))}parseNodePropertyContinued(e){const t=this.getCurrentNode();t.a+=e,e.slice(-1)!==","&&(t.a=Ih(t.a))}parseNodeSpecialProperty(e,t,n){const i=n.split('",').map(function(h){return h.trim().replace(/^\"/,"").replace(/\s/,"_")}),s=i[0],o=i[1],a=i[2],l=i[3];let c=i[4];switch(o){case"int":case"enum":case"bool":case"ULongLong":case"double":case"Number":case"FieldOfView":c=parseFloat(c);break;case"Color":case"ColorRGB":case"Vector3D":case"Lcl_Translation":case"Lcl_Rotation":case"Lcl_Scaling":c=Ih(c);break}this.getPrevNode()[s]={type:o,type2:a,flag:l,value:c},this.setCurrentProp(this.getPrevNode(),s)}}class Zk{parse(e){const t=new X6(e);t.skip(23);const n=t.getUint32();if(n<6400)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+n);const i=new Lg;for(;!this.endOfContent(t);){const s=this.parseNode(t,n);s!==null&&i.add(s.name,s)}return i}endOfContent(e){return e.size()%16===0?(e.getOffset()+160+16&-16)>=e.size():e.getOffset()+160+16>=e.size()}parseNode(e,t){const n={},i=t>=7500?e.getUint64():e.getUint32(),s=t>=7500?e.getUint64():e.getUint32();t>=7500?e.getUint64():e.getUint32();const o=e.getUint8(),a=e.getString(o);if(i===0)return null;const l=[];for(let f=0;f<s;f++)l.push(this.parseProperty(e));const c=l.length>0?l[0]:"",h=l.length>1?l[1]:"",d=l.length>2?l[2]:"";for(n.singleProperty=s===1&&e.getOffset()===i;i>e.getOffset();){const f=this.parseNode(e,t);f!==null&&this.parseSubNode(a,n,f)}return n.propertyList=l,typeof c=="number"&&(n.id=c),h!==""&&(n.attrName=h),d!==""&&(n.attrType=d),a!==""&&(n.name=a),n}parseSubNode(e,t,n){if(n.singleProperty===!0){const i=n.propertyList[0];Array.isArray(i)?(t[n.name]=n,n.a=i):t[n.name]=i}else if(e==="Connections"&&n.name==="C"){const i=[];n.propertyList.forEach(function(s,o){o!==0&&i.push(s)}),t.connections===void 0&&(t.connections=[]),t.connections.push(i)}else if(n.name==="Properties70")Object.keys(n).forEach(function(s){t[s]=n[s]});else if(e==="Properties70"&&n.name==="P"){let i=n.propertyList[0],s=n.propertyList[1];const o=n.propertyList[2],a=n.propertyList[3];let l;i.indexOf("Lcl ")===0&&(i=i.replace("Lcl ","Lcl_")),s.indexOf("Lcl ")===0&&(s=s.replace("Lcl ","Lcl_")),s==="Color"||s==="ColorRGB"||s==="Vector"||s==="Vector3D"||s.indexOf("Lcl_")===0?l=[n.propertyList[4],n.propertyList[5],n.propertyList[6]]:l=n.propertyList[4],t[i]={type:s,type2:o,flag:a,value:l}}else t[n.name]===void 0?typeof n.id=="number"?(t[n.name]={},t[n.name][n.id]=n):t[n.name]=n:n.name==="PoseNode"?(Array.isArray(t[n.name])||(t[n.name]=[t[n.name]]),t[n.name].push(n)):t[n.name][n.id]===void 0&&(t[n.name][n.id]=n)}parseProperty(e){const t=e.getString(1);let n;switch(t){case"C":return e.getBoolean();case"D":return e.getFloat64();case"F":return e.getFloat32();case"I":return e.getInt32();case"L":return e.getInt64();case"R":return n=e.getUint32(),e.getArrayBuffer(n);case"S":return n=e.getUint32(),e.getString(n);case"Y":return e.getInt16();case"b":case"c":case"d":case"f":case"i":case"l":const i=e.getUint32(),s=e.getUint32(),o=e.getUint32();if(s===0)switch(t){case"b":case"c":return e.getBooleanArray(i);case"d":return e.getFloat64Array(i);case"f":return e.getFloat32Array(i);case"i":return e.getInt32Array(i);case"l":return e.getInt64Array(i)}typeof zk>"u"&&console.error("THREE.FBXLoader: External library fflate.min.js required.");const a=Jc(new Uint8Array(e.getArrayBuffer(o))),l=new X6(a.buffer);switch(t){case"b":case"c":return l.getBooleanArray(i);case"d":return l.getFloat64Array(i);case"f":return l.getFloat32Array(i);case"i":return l.getInt32Array(i);case"l":return l.getInt64Array(i)}break;default:throw new Error("THREE.FBXLoader: Unknown property type "+t)}}}class X6{constructor(e,t){this.dv=new DataView(e),this.offset=0,this.littleEndian=t!==void 0?t:!0}getOffset(){return this.offset}size(){return this.dv.buffer.byteLength}skip(e){this.offset+=e}getBoolean(){return(this.getUint8()&1)===1}getBooleanArray(e){const t=[];for(let n=0;n<e;n++)t.push(this.getBoolean());return t}getUint8(){const e=this.dv.getUint8(this.offset);return this.offset+=1,e}getInt16(){const e=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}getInt32(){const e=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}getInt32Array(e){const t=[];for(let n=0;n<e;n++)t.push(this.getInt32());return t}getUint32(){const e=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}getInt64(){let e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),t&2147483648?(t=~t&4294967295,e=~e&4294967295,e===4294967295&&(t=t+1&4294967295),e=e+1&4294967295,-(t*4294967296+e)):t*4294967296+e}getInt64Array(e){const t=[];for(let n=0;n<e;n++)t.push(this.getInt64());return t}getUint64(){let e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),t*4294967296+e}getFloat32(){const e=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}getFloat32Array(e){const t=[];for(let n=0;n<e;n++)t.push(this.getFloat32());return t}getFloat64(){const e=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}getFloat64Array(e){const t=[];for(let n=0;n<e;n++)t.push(this.getFloat64());return t}getArrayBuffer(e){const t=this.dv.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}getString(e){let t=[];for(let i=0;i<e;i++)t[i]=this.getUint8();const n=t.indexOf(0);return n>=0&&(t=t.slice(0,n)),jr.decodeText(new Uint8Array(t))}}class Lg{add(e,t){this[e]=t}}function Qk(r){const e="Kaydara FBX Binary  \0";return r.byteLength>=e.length&&e===Dg(r,0,e.length)}function Jk(r){const e=["K","a","y","d","a","r","a","\\","F","B","X","\\","B","i","n","a","r","y","\\","\\"];let t=0;function n(i){const s=r[i-1];return r=r.slice(t+i),t++,s}for(let i=0;i<e.length;++i)if(n(1)===e[i])return!1;return!0}function $6(r){const e=/FBXVersion: (\d+)/,t=r.match(e);if(t)return parseInt(t[1]);throw new Error("THREE.FBXLoader: Cannot find the version number for the file given.")}function eO(r){return r/46186158e3}const tO=[];function d2(r,e,t,n){let i;switch(n.mappingType){case"ByPolygonVertex":i=r;break;case"ByPolygon":i=e;break;case"ByVertice":i=t;break;case"AllSame":i=n.indices[0];break;default:console.warn("THREE.FBXLoader: unknown attribute mapping type "+n.mappingType)}n.referenceType==="IndexToDirect"&&(i=n.indices[i]);const s=i*n.dataSize,o=s+n.dataSize;return iO(tO,n.buffer,s,o)}const Rh=new zi,r1=new Z;function Rg(r){const e=new Ke,t=new Ke,n=new Ke,i=new Ke,s=new Ke,o=new Ke,a=new Ke,l=new Ke,c=new Ke,h=new Ke,d=new Ke,f=new Ke,m=r.inheritType?r.inheritType:0;if(r.translation&&e.setPosition(r1.fromArray(r.translation)),r.preRotation){const k=r.preRotation.map(Mr.degToRad);k.push(r.eulerOrder||zi.DefaultOrder),t.makeRotationFromEuler(Rh.fromArray(k))}if(r.rotation){const k=r.rotation.map(Mr.degToRad);k.push(r.eulerOrder||zi.DefaultOrder),n.makeRotationFromEuler(Rh.fromArray(k))}if(r.postRotation){const k=r.postRotation.map(Mr.degToRad);k.push(r.eulerOrder||zi.DefaultOrder),i.makeRotationFromEuler(Rh.fromArray(k)),i.invert()}r.scale&&s.scale(r1.fromArray(r.scale)),r.scalingOffset&&a.setPosition(r1.fromArray(r.scalingOffset)),r.scalingPivot&&o.setPosition(r1.fromArray(r.scalingPivot)),r.rotationOffset&&l.setPosition(r1.fromArray(r.rotationOffset)),r.rotationPivot&&c.setPosition(r1.fromArray(r.rotationPivot)),r.parentMatrixWorld&&(d.copy(r.parentMatrix),h.copy(r.parentMatrixWorld));const _=t.clone().multiply(n).multiply(i),v=new Ke;v.extractRotation(h);const x=new Ke;x.copyPosition(h);const y=x.clone().invert().multiply(h),M=v.clone().invert().multiply(y),w=s,S=new Ke;if(m===0)S.copy(v).multiply(_).multiply(M).multiply(w);else if(m===1)S.copy(v).multiply(M).multiply(_).multiply(w);else{const H=new Ke().scale(new Z().setFromMatrixScale(d)).clone().invert(),te=M.clone().multiply(H);S.copy(v).multiply(_).multiply(te).multiply(w)}const T=c.clone().invert(),A=o.clone().invert();let R=e.clone().multiply(l).multiply(c).multiply(t).multiply(n).multiply(i).multiply(T).multiply(a).multiply(o).multiply(s).multiply(A);const E=new Ke().copyPosition(R),L=h.clone().multiply(E);return f.copyPosition(L),R=f.clone().multiply(S),R.premultiply(h.invert()),R}function Ig(r){r=r||0;const e=["ZYX","YZX","XZY","ZXY","YXZ","XYZ"];return r===6?(console.warn("THREE.FBXLoader: unsupported Euler Order: Spherical XYZ. Animations and rotations may be incorrect."),e[0]):e[r]}function Ih(r){return r.split(",").map(function(t){return parseFloat(t)})}function Dg(r,e,t){return e===void 0&&(e=0),t===void 0&&(t=r.byteLength),jr.decodeText(new Uint8Array(r,e,t))}function nO(r,e){for(let t=0,n=r.length,i=e.length;t<i;t++,n++)r[n]=e[t]}function iO(r,e,t,n){for(let i=t,s=0;i<n;i++,s++)r[s]=e[i];return r}function K6(r,e,t){return r.slice(0,e).concat(t).concat(r.slice(e))}var t0=(r=>(r.Texture="Texture",r.GLTF="GLTF",r.FBX="FBX",r.Video="Video",r))(t0||{});class kg{constructor(){et(this,"resources");et(this,"total");et(this,"totalSuccess");et(this,"totalFail");et(this,"fileLoaded");et(this,"loadEnd");et(this,"gltfLoader");et(this,"fbxLoader");et(this,"textureLoader");this.resources={},this.total=0,this.totalSuccess=0,this.totalFail=0,this.fileLoaded=null,this.loadEnd=null;const e=new Xm;e.setDecoderPath("draco/");const t=new Gm;t.setDRACOLoader(e),this.gltfLoader=t;const n=new qk;this.fbxLoader=n;const i=new Zu;this.textureLoader=i}onFileLoaded(e){this.fileLoaded=e}onLoadEnd(e){this.loadEnd=e}load(e){this.total+=e.length;for(const t of e)t.type==="Video"?this.loadVideo(t):this.loadResource(t)}loadVideo(e){const t=e.name,n=e.path;try{const i=document.createElement("video");i.src=n,i.muted=!0,i.playsInline=!0,i.autoplay=!0,i.loop=!0,i.play();const s=new hR(i);s.magFilter=Mn,s.magFilter=Mn,s.generateMipmaps=!1,s.encoding=pt,this.resources[t]=s,this.loadSuccess(e,s)}catch(i){this.loadFail(e,i)}}loadResource(e){const t=e.type;if(!t){console.warn("type is required");return}let n=this.textureLoader;switch(t){case"GLTF":n=this.gltfLoader;break;case"FBX":n=this.fbxLoader;break;case"Texture":n=this.textureLoader;break;default:n=this.textureLoader}n.load(e.path,i=>{this.loadSuccess(e,i)},void 0,i=>{this.loadFail(e,i)})}loadSuccess(e,t){this.totalSuccess++;const n=e.name;this.resources[n]=t,this.fileLoaded&&this.fileLoaded(n,t),this.total===this.totalSuccess+this.totalFail&&this.loadEnd&&this.loadEnd(this.resources)}loadFail(e,t){console.warn(`resource ${e.name} load fail`,t),this.totalFail++,this.total===this.totalSuccess+this.totalFail&&this.loadEnd()}}const rO=[{name:"modelRoom",type:t0.GLTF,path:"/resources/carton-room/models/room.glb"},{name:"textureKda",type:t0.Video,path:"/resources/carton-room/textures/kda.mp4"}];var Og=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function sO(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Gd={exports:{}};/*! Tweakpane 3.1.1 (c) 2016 cocopon, licensed under the MIT license. */(function(r,e){(function(t,n){n(e)})(Og,function(t){class n{constructor(u){const[p,b]=u.split("-"),P=p.split(".");this.major=parseInt(P[0],10),this.minor=parseInt(P[1],10),this.patch=parseInt(P[2],10),this.prerelease=b!=null?b:null}toString(){const u=[this.major,this.minor,this.patch].join(".");return this.prerelease!==null?[u,this.prerelease].join("-"):u}}class i{constructor(u){this.controller_=u}get element(){return this.controller_.view.element}get disabled(){return this.controller_.viewProps.get("disabled")}set disabled(u){this.controller_.viewProps.set("disabled",u)}get hidden(){return this.controller_.viewProps.get("hidden")}set hidden(u){this.controller_.viewProps.set("hidden",u)}dispose(){this.controller_.viewProps.set("disposed",!0)}}class s{constructor(u){this.target=u}}class o extends s{constructor(u,p,b,P){super(u),this.value=p,this.presetKey=b,this.last=P!=null?P:!0}}class a extends s{constructor(u,p,b){super(u),this.value=p,this.presetKey=b}}class l extends s{constructor(u,p){super(u),this.expanded=p}}class c extends s{constructor(u,p){super(u),this.index=p}}function h(g){return g}function d(g){return g==null}function f(g,u){if(g.length!==u.length)return!1;for(let p=0;p<g.length;p++)if(g[p]!==u[p])return!1;return!0}const m={alreadydisposed:()=>"View has been already disposed",invalidparams:g=>`Invalid parameters for '${g.name}'`,nomatchingcontroller:g=>`No matching controller for '${g.key}'`,nomatchingview:g=>`No matching view for '${JSON.stringify(g.params)}'`,notbindable:()=>"Value is not bindable",propertynotfound:g=>`Property '${g.name}' not found`,shouldneverhappen:()=>"This error should never happen"};class _{constructor(u){var p;this.message=(p=m[u.type](u.context))!==null&&p!==void 0?p:"Unexpected error",this.name=this.constructor.name,this.stack=new Error(this.message).stack,this.type=u.type}static alreadyDisposed(){return new _({type:"alreadydisposed"})}static notBindable(){return new _({type:"notbindable"})}static propertyNotFound(u){return new _({type:"propertynotfound",context:{name:u}})}static shouldNeverHappen(){return new _({type:"shouldneverhappen"})}}class v{constructor(u,p,b){this.obj_=u,this.key_=p,this.presetKey_=b!=null?b:p}static isBindable(u){return!(u===null||typeof u!="object")}get key(){return this.key_}get presetKey(){return this.presetKey_}read(){return this.obj_[this.key_]}write(u){this.obj_[this.key_]=u}writeProperty(u,p){const b=this.read();if(!v.isBindable(b))throw _.notBindable();if(!(u in b))throw _.propertyNotFound(u);b[u]=p}}class x extends i{get label(){return this.controller_.props.get("label")}set label(u){this.controller_.props.set("label",u)}get title(){var u;return(u=this.controller_.valueController.props.get("title"))!==null&&u!==void 0?u:""}set title(u){this.controller_.valueController.props.set("title",u)}on(u,p){const b=p.bind(this);return this.controller_.valueController.emitter.on(u,()=>{b(new s(this))}),this}}class y{constructor(){this.observers_={}}on(u,p){let b=this.observers_[u];return b||(b=this.observers_[u]=[]),b.push({handler:p}),this}off(u,p){const b=this.observers_[u];return b&&(this.observers_[u]=b.filter(P=>P.handler!==p)),this}emit(u,p){const b=this.observers_[u];!b||b.forEach(P=>{P.handler(p)})}}const M="tp";function w(g){return(p,b)=>[M,"-",g,"v",p?`_${p}`:"",b?`-${b}`:""].join("")}function S(g,u){return p=>u(g(p))}function T(g){return g.rawValue}function A(g,u){g.emitter.on("change",S(T,u)),u(g.rawValue)}function R(g,u,p){A(g.value(u),p)}function E(g,u,p){p?g.classList.add(u):g.classList.remove(u)}function L(g,u){return p=>{E(g,u,p)}}function k(g,u){A(g,p=>{u.textContent=p!=null?p:""})}const H=w("btn");class te{constructor(u,p){this.element=u.createElement("div"),this.element.classList.add(H()),p.viewProps.bindClassModifiers(this.element);const b=u.createElement("button");b.classList.add(H("b")),p.viewProps.bindDisabled(b),this.element.appendChild(b),this.buttonElement=b;const P=u.createElement("div");P.classList.add(H("t")),k(p.props.value("title"),P),this.buttonElement.appendChild(P)}}class q{constructor(u,p){this.emitter=new y,this.onClick_=this.onClick_.bind(this),this.props=p.props,this.viewProps=p.viewProps,this.view=new te(u,{props:this.props,viewProps:this.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}onClick_(){this.emitter.emit("click",{sender:this})}}class B{constructor(u,p){var b;this.constraint_=p==null?void 0:p.constraint,this.equals_=(b=p==null?void 0:p.equals)!==null&&b!==void 0?b:(P,Q)=>P===Q,this.emitter=new y,this.rawValue_=u}get constraint(){return this.constraint_}get rawValue(){return this.rawValue_}set rawValue(u){this.setRawValue(u,{forceEmit:!1,last:!0})}setRawValue(u,p){const b=p!=null?p:{forceEmit:!1,last:!0},P=this.constraint_?this.constraint_.constrain(u):u;!!this.equals_(this.rawValue_,P)&&!b.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.rawValue_=P,this.emitter.emit("change",{options:b,rawValue:P,sender:this}))}}class N{constructor(u){this.emitter=new y,this.value_=u}get rawValue(){return this.value_}set rawValue(u){this.setRawValue(u,{forceEmit:!1,last:!0})}setRawValue(u,p){const b=p!=null?p:{forceEmit:!1,last:!0};this.value_===u&&!b.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.value_=u,this.emitter.emit("change",{options:b,rawValue:this.value_,sender:this}))}}function W(g,u){const p=u==null?void 0:u.constraint,b=u==null?void 0:u.equals;return!p&&!b?new N(g):new B(g,u)}class V{constructor(u){this.emitter=new y,this.valMap_=u;for(const p in this.valMap_)this.valMap_[p].emitter.on("change",()=>{this.emitter.emit("change",{key:p,sender:this})})}static createCore(u){return Object.keys(u).reduce((b,P)=>Object.assign(b,{[P]:W(u[P])}),{})}static fromObject(u){const p=this.createCore(u);return new V(p)}get(u){return this.valMap_[u].rawValue}set(u,p){this.valMap_[u].rawValue=p}value(u){return this.valMap_[u]}}function Y(g,u){const b=Object.keys(u).reduce((P,Q)=>{if(P===void 0)return;const he=u[Q],Re=he(g[Q]);return Re.succeeded?Object.assign(Object.assign({},P),{[Q]:Re.value}):void 0},{});return b}function X(g,u){return g.reduce((p,b)=>{if(p===void 0)return;const P=u(b);if(!(!P.succeeded||P.value===void 0))return[...p,P.value]},[])}function O(g){return g===null?!1:typeof g=="object"}function de(g){return u=>p=>{if(!u&&p===void 0)return{succeeded:!1,value:void 0};if(u&&p===void 0)return{succeeded:!0,value:void 0};const b=g(p);return b!==void 0?{succeeded:!0,value:b}:{succeeded:!1,value:void 0}}}function _e(g){return{custom:u=>de(u)(g),boolean:de(u=>typeof u=="boolean"?u:void 0)(g),number:de(u=>typeof u=="number"?u:void 0)(g),string:de(u=>typeof u=="string"?u:void 0)(g),function:de(u=>typeof u=="function"?u:void 0)(g),constant:u=>de(p=>p===u?u:void 0)(g),raw:de(u=>u)(g),object:u=>de(p=>{if(!!O(p))return Y(p,u)})(g),array:u=>de(p=>{if(!!Array.isArray(p))return X(p,u)})(g)}}const pe={optional:_e(!0),required:_e(!1)};function Ee(g,u){const p=pe.required.object(u)(g);return p.succeeded?p.value:void 0}function se(g){return g&&g.parentElement&&g.parentElement.removeChild(g),null}function ie(){return["veryfirst","first","last","verylast"]}const J=w(""),z={veryfirst:"vfst",first:"fst",last:"lst",verylast:"vlst"};class ${constructor(u){this.parent_=null,this.blade=u.blade,this.view=u.view,this.viewProps=u.viewProps;const p=this.view.element;this.blade.value("positions").emitter.on("change",()=>{ie().forEach(b=>{p.classList.remove(J(void 0,z[b]))}),this.blade.get("positions").forEach(b=>{p.classList.add(J(void 0,z[b]))})}),this.viewProps.handleDispose(()=>{se(p)})}get parent(){return this.parent_}}const oe="http://www.w3.org/2000/svg";function ve(g){g.offsetHeight}function C(g,u){const p=g.style.transition;g.style.transition="none",u(),g.style.transition=p}function I(g){return g.ontouchstart!==void 0}function j(){return globalThis}function ee(){return j().document}function ne(g){const u=g.ownerDocument.defaultView;return u&&"document"in u?g.getContext("2d",{willReadFrequently:!0}):null}const G={check:'<path d="M2 8l4 4l8 -8"/>',dropdown:'<path d="M5 7h6l-3 3 z"/>',p2dpad:'<path d="M8 4v8"/><path d="M4 8h8"/><circle cx="12" cy="12" r="1.2"/>'};function xe(g,u){const p=g.createElementNS(oe,"svg");return p.innerHTML=G[u],p}function ue(g,u,p){g.insertBefore(u,g.children[p])}function Me(g){g.parentElement&&g.parentElement.removeChild(g)}function ye(g){for(;g.children.length>0;)g.removeChild(g.children[0])}function F(g){for(;g.childNodes.length>0;)g.removeChild(g.childNodes[0])}function D(g){return g.relatedTarget?g.relatedTarget:"explicitOriginalTarget"in g?g.explicitOriginalTarget:null}const re=w("lbl");function fe(g,u){const p=g.createDocumentFragment();return u.split(`
`).map(P=>g.createTextNode(P)).forEach((P,Q)=>{Q>0&&p.appendChild(g.createElement("br")),p.appendChild(P)}),p}class me{constructor(u,p){this.element=u.createElement("div"),this.element.classList.add(re()),p.viewProps.bindClassModifiers(this.element);const b=u.createElement("div");b.classList.add(re("l")),R(p.props,"label",Q=>{d(Q)?this.element.classList.add(re(void 0,"nol")):(this.element.classList.remove(re(void 0,"nol")),F(b),b.appendChild(fe(u,Q)))}),this.element.appendChild(b),this.labelElement=b;const P=u.createElement("div");P.classList.add(re("v")),this.element.appendChild(P),this.valueElement=P}}class Ce extends ${constructor(u,p){const b=p.valueController.viewProps;super(Object.assign(Object.assign({},p),{view:new me(u,{props:p.props,viewProps:b}),viewProps:b})),this.props=p.props,this.valueController=p.valueController,this.view.valueElement.appendChild(this.valueController.view.element)}}const Pe={id:"button",type:"blade",accept(g){const u=pe,p=Ee(g,{title:u.required.string,view:u.required.constant("button"),label:u.optional.string});return p?{params:p}:null},controller(g){return new Ce(g.document,{blade:g.blade,props:V.fromObject({label:g.params.label}),valueController:new q(g.document,{props:V.fromObject({title:g.params.title}),viewProps:g.viewProps})})},api(g){return!(g.controller instanceof Ce)||!(g.controller.valueController instanceof q)?null:new x(g.controller)}};class K extends ${constructor(u){super(u),this.value=u.value}}function ae(){return new V({positions:W([],{equals:f})})}class Le extends V{constructor(u){super(u)}static create(u){const p={completed:!0,expanded:u,expandedHeight:null,shouldFixHeight:!1,temporaryExpanded:null},b=V.createCore(p);return new Le(b)}get styleExpanded(){var u;return(u=this.get("temporaryExpanded"))!==null&&u!==void 0?u:this.get("expanded")}get styleHeight(){if(!this.styleExpanded)return"0";const u=this.get("expandedHeight");return this.get("shouldFixHeight")&&!d(u)?`${u}px`:"auto"}bindExpandedClass(u,p){const b=()=>{this.styleExpanded?u.classList.add(p):u.classList.remove(p)};R(this,"expanded",b),R(this,"temporaryExpanded",b)}cleanUpTransition(){this.set("shouldFixHeight",!1),this.set("expandedHeight",null),this.set("completed",!0)}}function ze(g,u){let p=0;return C(u,()=>{g.set("expandedHeight",null),g.set("temporaryExpanded",!0),ve(u),p=u.clientHeight,g.set("temporaryExpanded",null),ve(u)}),p}function De(g,u){u.style.height=g.styleHeight}function He(g,u){g.value("expanded").emitter.on("beforechange",()=>{g.set("completed",!1),d(g.get("expandedHeight"))&&g.set("expandedHeight",ze(g,u)),g.set("shouldFixHeight",!0),ve(u)}),g.emitter.on("change",()=>{De(g,u)}),De(g,u),u.addEventListener("transitionend",p=>{p.propertyName==="height"&&g.cleanUpTransition()})}class Oe extends i{constructor(u,p){super(u),this.rackApi_=p}}function Fe(g,u){return g.addBlade(Object.assign(Object.assign({},u),{view:"button"}))}function rt(g,u){return g.addBlade(Object.assign(Object.assign({},u),{view:"folder"}))}function at(g,u){const p=u!=null?u:{};return g.addBlade(Object.assign(Object.assign({},p),{view:"separator"}))}function le(g,u){return g.addBlade(Object.assign(Object.assign({},u),{view:"tab"}))}class Se{constructor(u){this.emitter=new y,this.items_=[],this.cache_=new Set,this.onSubListAdd_=this.onSubListAdd_.bind(this),this.onSubListRemove_=this.onSubListRemove_.bind(this),this.extract_=u}get items(){return this.items_}allItems(){return Array.from(this.cache_)}find(u){for(const p of this.allItems())if(u(p))return p;return null}includes(u){return this.cache_.has(u)}add(u,p){if(this.includes(u))throw _.shouldNeverHappen();const b=p!==void 0?p:this.items_.length;this.items_.splice(b,0,u),this.cache_.add(u);const P=this.extract_(u);P&&(P.emitter.on("add",this.onSubListAdd_),P.emitter.on("remove",this.onSubListRemove_),P.allItems().forEach(Q=>{this.cache_.add(Q)})),this.emitter.emit("add",{index:b,item:u,root:this,target:this})}remove(u){const p=this.items_.indexOf(u);if(p<0)return;this.items_.splice(p,1),this.cache_.delete(u);const b=this.extract_(u);b&&(b.emitter.off("add",this.onSubListAdd_),b.emitter.off("remove",this.onSubListRemove_)),this.emitter.emit("remove",{index:p,item:u,root:this,target:this})}onSubListAdd_(u){this.cache_.add(u.item),this.emitter.emit("add",{index:u.index,item:u.item,root:this,target:u.target})}onSubListRemove_(u){this.cache_.delete(u.item),this.emitter.emit("remove",{index:u.index,item:u.item,root:this,target:u.target})}}class Ae extends i{constructor(u){super(u),this.onBindingChange_=this.onBindingChange_.bind(this),this.emitter_=new y,this.controller_.binding.emitter.on("change",this.onBindingChange_)}get label(){return this.controller_.props.get("label")}set label(u){this.controller_.props.set("label",u)}on(u,p){const b=p.bind(this);return this.emitter_.on(u,P=>{b(P.event)}),this}refresh(){this.controller_.binding.read()}onBindingChange_(u){const p=u.sender.target.read();this.emitter_.emit("change",{event:new o(this,p,this.controller_.binding.target.presetKey,u.options.last)})}}class ke extends Ce{constructor(u,p){super(u,p),this.binding=p.binding}}class We extends i{constructor(u){super(u),this.onBindingUpdate_=this.onBindingUpdate_.bind(this),this.emitter_=new y,this.controller_.binding.emitter.on("update",this.onBindingUpdate_)}get label(){return this.controller_.props.get("label")}set label(u){this.controller_.props.set("label",u)}on(u,p){const b=p.bind(this);return this.emitter_.on(u,P=>{b(P.event)}),this}refresh(){this.controller_.binding.read()}onBindingUpdate_(u){const p=u.sender.target.read();this.emitter_.emit("update",{event:new a(this,p,this.controller_.binding.target.presetKey)})}}class it extends Ce{constructor(u,p){super(u,p),this.binding=p.binding,this.viewProps.bindDisabled(this.binding.ticker),this.viewProps.handleDispose(()=>{this.binding.dispose()})}}function Ut(g){return g instanceof we?g.apiSet_:g instanceof Oe?g.rackApi_.apiSet_:null}function Ft(g,u){const p=g.find(b=>b.controller_===u);if(!p)throw _.shouldNeverHappen();return p}function lt(g,u,p){if(!v.isBindable(g))throw _.notBindable();return new v(g,u,p)}class we extends i{constructor(u,p){super(u),this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this),this.onRackInputChange_=this.onRackInputChange_.bind(this),this.onRackMonitorUpdate_=this.onRackMonitorUpdate_.bind(this),this.emitter_=new y,this.apiSet_=new Se(Ut),this.pool_=p;const b=this.controller_.rack;b.emitter.on("add",this.onRackAdd_),b.emitter.on("remove",this.onRackRemove_),b.emitter.on("inputchange",this.onRackInputChange_),b.emitter.on("monitorupdate",this.onRackMonitorUpdate_),b.children.forEach(P=>{this.setUpApi_(P)})}get children(){return this.controller_.rack.children.map(u=>Ft(this.apiSet_,u))}addInput(u,p,b){const P=b!=null?b:{},Q=this.controller_.view.element.ownerDocument,he=this.pool_.createInput(Q,lt(u,p,P.presetKey),P),Re=new Ae(he);return this.add(Re,P.index)}addMonitor(u,p,b){const P=b!=null?b:{},Q=this.controller_.view.element.ownerDocument,he=this.pool_.createMonitor(Q,lt(u,p),P),Re=new We(he);return this.add(Re,P.index)}addFolder(u){return rt(this,u)}addButton(u){return Fe(this,u)}addSeparator(u){return at(this,u)}addTab(u){return le(this,u)}add(u,p){this.controller_.rack.add(u.controller_,p);const b=this.apiSet_.find(P=>P.controller_===u.controller_);return b&&this.apiSet_.remove(b),this.apiSet_.add(u),u}remove(u){this.controller_.rack.remove(u.controller_)}addBlade(u){const p=this.controller_.view.element.ownerDocument,b=this.pool_.createBlade(p,u),P=this.pool_.createBladeApi(b);return this.add(P,u.index)}on(u,p){const b=p.bind(this);return this.emitter_.on(u,P=>{b(P.event)}),this}setUpApi_(u){this.apiSet_.find(b=>b.controller_===u)||this.apiSet_.add(this.pool_.createBladeApi(u))}onRackAdd_(u){this.setUpApi_(u.bladeController)}onRackRemove_(u){if(u.isRoot){const p=Ft(this.apiSet_,u.bladeController);this.apiSet_.remove(p)}}onRackInputChange_(u){const p=u.bladeController;if(p instanceof ke){const b=Ft(this.apiSet_,p),P=p.binding;this.emitter_.emit("change",{event:new o(b,P.target.read(),P.target.presetKey,u.options.last)})}else if(p instanceof K){const b=Ft(this.apiSet_,p);this.emitter_.emit("change",{event:new o(b,p.value.rawValue,void 0,u.options.last)})}}onRackMonitorUpdate_(u){if(!(u.bladeController instanceof it))throw _.shouldNeverHappen();const p=Ft(this.apiSet_,u.bladeController),b=u.bladeController.binding;this.emitter_.emit("update",{event:new a(p,b.target.read(),b.target.presetKey)})}}class Ve extends Oe{constructor(u,p){super(u,new we(u.rackController,p)),this.emitter_=new y,this.controller_.foldable.value("expanded").emitter.on("change",b=>{this.emitter_.emit("fold",{event:new l(this,b.sender.rawValue)})}),this.rackApi_.on("change",b=>{this.emitter_.emit("change",{event:b})}),this.rackApi_.on("update",b=>{this.emitter_.emit("update",{event:b})})}get expanded(){return this.controller_.foldable.get("expanded")}set expanded(u){this.controller_.foldable.set("expanded",u)}get title(){return this.controller_.props.get("title")}set title(u){this.controller_.props.set("title",u)}get children(){return this.rackApi_.children}addInput(u,p,b){return this.rackApi_.addInput(u,p,b)}addMonitor(u,p,b){return this.rackApi_.addMonitor(u,p,b)}addFolder(u){return this.rackApi_.addFolder(u)}addButton(u){return this.rackApi_.addButton(u)}addSeparator(u){return this.rackApi_.addSeparator(u)}addTab(u){return this.rackApi_.addTab(u)}add(u,p){return this.rackApi_.add(u,p)}remove(u){this.rackApi_.remove(u)}addBlade(u){return this.rackApi_.addBlade(u)}on(u,p){const b=p.bind(this);return this.emitter_.on(u,P=>{b(P.event)}),this}}class Ue extends ${constructor(u){super({blade:u.blade,view:u.view,viewProps:u.rackController.viewProps}),this.rackController=u.rackController}}class nt{constructor(u,p){const b=w(p.viewName);this.element=u.createElement("div"),this.element.classList.add(b()),p.viewProps.bindClassModifiers(this.element)}}function Yt(g,u){for(let p=0;p<g.length;p++){const b=g[p];if(b instanceof ke&&b.binding===u)return b}return null}function st(g,u){for(let p=0;p<g.length;p++){const b=g[p];if(b instanceof it&&b.binding===u)return b}return null}function Wt(g,u){for(let p=0;p<g.length;p++){const b=g[p];if(b instanceof K&&b.value===u)return b}return null}function U(g){return g instanceof ce?g.rack:g instanceof Ue?g.rackController.rack:null}function ge(g){const u=U(g);return u?u.bcSet_:null}class be{constructor(u){var p;this.onBladePositionsChange_=this.onBladePositionsChange_.bind(this),this.onSetAdd_=this.onSetAdd_.bind(this),this.onSetRemove_=this.onSetRemove_.bind(this),this.onChildDispose_=this.onChildDispose_.bind(this),this.onChildPositionsChange_=this.onChildPositionsChange_.bind(this),this.onChildInputChange_=this.onChildInputChange_.bind(this),this.onChildMonitorUpdate_=this.onChildMonitorUpdate_.bind(this),this.onChildValueChange_=this.onChildValueChange_.bind(this),this.onChildViewPropsChange_=this.onChildViewPropsChange_.bind(this),this.onDescendantLayout_=this.onDescendantLayout_.bind(this),this.onDescendantInputChange_=this.onDescendantInputChange_.bind(this),this.onDescendantMonitorUpdate_=this.onDescendantMonitorUpdate_.bind(this),this.emitter=new y,this.blade_=u!=null?u:null,(p=this.blade_)===null||p===void 0||p.value("positions").emitter.on("change",this.onBladePositionsChange_),this.bcSet_=new Se(ge),this.bcSet_.emitter.on("add",this.onSetAdd_),this.bcSet_.emitter.on("remove",this.onSetRemove_)}get children(){return this.bcSet_.items}add(u,p){u.parent&&u.parent.remove(u),u.parent_=this,this.bcSet_.add(u,p)}remove(u){u.parent_=null,this.bcSet_.remove(u)}find(u){return this.bcSet_.allItems().filter(p=>p instanceof u)}onSetAdd_(u){this.updatePositions_();const p=u.target===u.root;if(this.emitter.emit("add",{bladeController:u.item,index:u.index,isRoot:p,sender:this}),!p)return;const b=u.item;if(b.viewProps.emitter.on("change",this.onChildViewPropsChange_),b.blade.value("positions").emitter.on("change",this.onChildPositionsChange_),b.viewProps.handleDispose(this.onChildDispose_),b instanceof ke)b.binding.emitter.on("change",this.onChildInputChange_);else if(b instanceof it)b.binding.emitter.on("update",this.onChildMonitorUpdate_);else if(b instanceof K)b.value.emitter.on("change",this.onChildValueChange_);else{const P=U(b);if(P){const Q=P.emitter;Q.on("layout",this.onDescendantLayout_),Q.on("inputchange",this.onDescendantInputChange_),Q.on("monitorupdate",this.onDescendantMonitorUpdate_)}}}onSetRemove_(u){this.updatePositions_();const p=u.target===u.root;if(this.emitter.emit("remove",{bladeController:u.item,isRoot:p,sender:this}),!p)return;const b=u.item;if(b instanceof ke)b.binding.emitter.off("change",this.onChildInputChange_);else if(b instanceof it)b.binding.emitter.off("update",this.onChildMonitorUpdate_);else if(b instanceof K)b.value.emitter.off("change",this.onChildValueChange_);else{const P=U(b);if(P){const Q=P.emitter;Q.off("layout",this.onDescendantLayout_),Q.off("inputchange",this.onDescendantInputChange_),Q.off("monitorupdate",this.onDescendantMonitorUpdate_)}}}updatePositions_(){const u=this.bcSet_.items.filter(P=>!P.viewProps.get("hidden")),p=u[0],b=u[u.length-1];this.bcSet_.items.forEach(P=>{const Q=[];P===p&&(Q.push("first"),(!this.blade_||this.blade_.get("positions").includes("veryfirst"))&&Q.push("veryfirst")),P===b&&(Q.push("last"),(!this.blade_||this.blade_.get("positions").includes("verylast"))&&Q.push("verylast")),P.blade.set("positions",Q)})}onChildPositionsChange_(){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildViewPropsChange_(u){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildDispose_(){this.bcSet_.items.filter(p=>p.viewProps.get("disposed")).forEach(p=>{this.bcSet_.remove(p)})}onChildInputChange_(u){const p=Yt(this.find(ke),u.sender);if(!p)throw _.alreadyDisposed();this.emitter.emit("inputchange",{bladeController:p,options:u.options,sender:this})}onChildMonitorUpdate_(u){const p=st(this.find(it),u.sender);if(!p)throw _.alreadyDisposed();this.emitter.emit("monitorupdate",{bladeController:p,sender:this})}onChildValueChange_(u){const p=Wt(this.find(K),u.sender);if(!p)throw _.alreadyDisposed();this.emitter.emit("inputchange",{bladeController:p,options:u.options,sender:this})}onDescendantLayout_(u){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onDescendantInputChange_(u){this.emitter.emit("inputchange",{bladeController:u.bladeController,options:u.options,sender:this})}onDescendantMonitorUpdate_(u){this.emitter.emit("monitorupdate",{bladeController:u.bladeController,sender:this})}onBladePositionsChange_(){this.updatePositions_()}}class ce extends ${constructor(u,p){super(Object.assign(Object.assign({},p),{view:new nt(u,{viewName:"brk",viewProps:p.viewProps})})),this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this);const b=new be(p.root?void 0:p.blade);b.emitter.on("add",this.onRackAdd_),b.emitter.on("remove",this.onRackRemove_),this.rack=b,this.viewProps.handleDispose(()=>{for(let P=this.rack.children.length-1;P>=0;P--)this.rack.children[P].viewProps.set("disposed",!0)})}onRackAdd_(u){!u.isRoot||ue(this.view.element,u.bladeController.view.element,u.index)}onRackRemove_(u){!u.isRoot||Me(u.bladeController.view.element)}}const Te=w("cnt");class Be{constructor(u,p){var b;this.className_=w((b=p.viewName)!==null&&b!==void 0?b:"fld"),this.element=u.createElement("div"),this.element.classList.add(this.className_(),Te()),p.viewProps.bindClassModifiers(this.element),this.foldable_=p.foldable,this.foldable_.bindExpandedClass(this.element,this.className_(void 0,"expanded")),R(this.foldable_,"completed",L(this.element,this.className_(void 0,"cpl")));const P=u.createElement("button");P.classList.add(this.className_("b")),R(p.props,"title",Ye=>{d(Ye)?this.element.classList.add(this.className_(void 0,"not")):this.element.classList.remove(this.className_(void 0,"not"))}),p.viewProps.bindDisabled(P),this.element.appendChild(P),this.buttonElement=P;const Q=u.createElement("div");Q.classList.add(this.className_("t")),k(p.props.value("title"),Q),this.buttonElement.appendChild(Q),this.titleElement=Q;const he=u.createElement("div");he.classList.add(this.className_("m")),this.buttonElement.appendChild(he);const Re=p.containerElement;Re.classList.add(this.className_("c")),this.element.appendChild(Re),this.containerElement=Re}}class Ge extends Ue{constructor(u,p){var b;const P=Le.create((b=p.expanded)!==null&&b!==void 0?b:!0),Q=new ce(u,{blade:p.blade,root:p.root,viewProps:p.viewProps});super(Object.assign(Object.assign({},p),{rackController:Q,view:new Be(u,{containerElement:Q.view.element,foldable:P,props:p.props,viewName:p.root?"rot":void 0,viewProps:p.viewProps})})),this.onTitleClick_=this.onTitleClick_.bind(this),this.props=p.props,this.foldable=P,He(this.foldable,this.view.containerElement),this.rackController.rack.emitter.on("add",()=>{this.foldable.cleanUpTransition()}),this.rackController.rack.emitter.on("remove",()=>{this.foldable.cleanUpTransition()}),this.view.buttonElement.addEventListener("click",this.onTitleClick_)}get document(){return this.view.element.ownerDocument}onTitleClick_(){this.foldable.set("expanded",!this.foldable.get("expanded"))}}const qe={id:"folder",type:"blade",accept(g){const u=pe,p=Ee(g,{title:u.required.string,view:u.required.constant("folder"),expanded:u.optional.boolean});return p?{params:p}:null},controller(g){return new Ge(g.document,{blade:g.blade,expanded:g.params.expanded,props:V.fromObject({title:g.params.title}),viewProps:g.viewProps})},api(g){return g.controller instanceof Ge?new Ve(g.controller,g.pool):null}};class Qe extends K{constructor(u,p){const b=p.valueController.viewProps;super(Object.assign(Object.assign({},p),{value:p.valueController.value,view:new me(u,{props:p.props,viewProps:b}),viewProps:b})),this.props=p.props,this.valueController=p.valueController,this.view.valueElement.appendChild(this.valueController.view.element)}}class ut extends i{}const Xe=w("spr");class $e{constructor(u,p){this.element=u.createElement("div"),this.element.classList.add(Xe()),p.viewProps.bindClassModifiers(this.element);const b=u.createElement("hr");b.classList.add(Xe("r")),this.element.appendChild(b)}}class wt extends ${constructor(u,p){super(Object.assign(Object.assign({},p),{view:new $e(u,{viewProps:p.viewProps})}))}}const Ti={id:"separator",type:"blade",accept(g){const p=Ee(g,{view:pe.required.constant("separator")});return p?{params:p}:null},controller(g){return new wt(g.document,{blade:g.blade,viewProps:g.viewProps})},api(g){return g.controller instanceof wt?new ut(g.controller):null}},pr=w("");function ti(g,u){return L(g,pr(void 0,u))}class Ht extends V{constructor(u){super(u)}static create(u){var p,b;const P=u!=null?u:{},Q={disabled:(p=P.disabled)!==null&&p!==void 0?p:!1,disposed:!1,hidden:(b=P.hidden)!==null&&b!==void 0?b:!1},he=V.createCore(Q);return new Ht(he)}bindClassModifiers(u){R(this,"disabled",ti(u,"disabled")),R(this,"hidden",ti(u,"hidden"))}bindDisabled(u){R(this,"disabled",p=>{u.disabled=p})}bindTabIndex(u){R(this,"disabled",p=>{u.tabIndex=p?-1:0})}handleDispose(u){this.value("disposed").emitter.on("change",p=>{p&&u()})}}const bt=w("tbi");class Ls{constructor(u,p){this.element=u.createElement("div"),this.element.classList.add(bt()),p.viewProps.bindClassModifiers(this.element),R(p.props,"selected",Q=>{Q?this.element.classList.add(bt(void 0,"sel")):this.element.classList.remove(bt(void 0,"sel"))});const b=u.createElement("button");b.classList.add(bt("b")),p.viewProps.bindDisabled(b),this.element.appendChild(b),this.buttonElement=b;const P=u.createElement("div");P.classList.add(bt("t")),k(p.props.value("title"),P),this.buttonElement.appendChild(P),this.titleElement=P}}class nn{constructor(u,p){this.emitter=new y,this.onClick_=this.onClick_.bind(this),this.props=p.props,this.viewProps=p.viewProps,this.view=new Ls(u,{props:p.props,viewProps:p.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}onClick_(){this.emitter.emit("click",{sender:this})}}class ni{constructor(u,p){this.onItemClick_=this.onItemClick_.bind(this),this.ic_=new nn(u,{props:p.itemProps,viewProps:Ht.create()}),this.ic_.emitter.on("click",this.onItemClick_),this.cc_=new ce(u,{blade:ae(),viewProps:Ht.create()}),this.props=p.props,R(this.props,"selected",b=>{this.itemController.props.set("selected",b),this.contentController.viewProps.set("hidden",!b)})}get itemController(){return this.ic_}get contentController(){return this.cc_}onItemClick_(){this.props.set("selected",!0)}}class mr{constructor(u,p){this.controller_=u,this.rackApi_=p}get title(){var u;return(u=this.controller_.itemController.props.get("title"))!==null&&u!==void 0?u:""}set title(u){this.controller_.itemController.props.set("title",u)}get selected(){return this.controller_.props.get("selected")}set selected(u){this.controller_.props.set("selected",u)}get children(){return this.rackApi_.children}addButton(u){return this.rackApi_.addButton(u)}addFolder(u){return this.rackApi_.addFolder(u)}addSeparator(u){return this.rackApi_.addSeparator(u)}addTab(u){return this.rackApi_.addTab(u)}add(u,p){this.rackApi_.add(u,p)}remove(u){this.rackApi_.remove(u)}addInput(u,p,b){return this.rackApi_.addInput(u,p,b)}addMonitor(u,p,b){return this.rackApi_.addMonitor(u,p,b)}addBlade(u){return this.rackApi_.addBlade(u)}}class Rs extends Oe{constructor(u,p){super(u,new we(u.rackController,p)),this.onPageAdd_=this.onPageAdd_.bind(this),this.onPageRemove_=this.onPageRemove_.bind(this),this.onSelect_=this.onSelect_.bind(this),this.emitter_=new y,this.pageApiMap_=new Map,this.rackApi_.on("change",b=>{this.emitter_.emit("change",{event:b})}),this.rackApi_.on("update",b=>{this.emitter_.emit("update",{event:b})}),this.controller_.tab.selectedIndex.emitter.on("change",this.onSelect_),this.controller_.pageSet.emitter.on("add",this.onPageAdd_),this.controller_.pageSet.emitter.on("remove",this.onPageRemove_),this.controller_.pageSet.items.forEach(b=>{this.setUpPageApi_(b)})}get pages(){return this.controller_.pageSet.items.map(u=>{const p=this.pageApiMap_.get(u);if(!p)throw _.shouldNeverHappen();return p})}addPage(u){const p=this.controller_.view.element.ownerDocument,b=new ni(p,{itemProps:V.fromObject({selected:!1,title:u.title}),props:V.fromObject({selected:!1})});this.controller_.add(b,u.index);const P=this.pageApiMap_.get(b);if(!P)throw _.shouldNeverHappen();return P}removePage(u){this.controller_.remove(u)}on(u,p){const b=p.bind(this);return this.emitter_.on(u,P=>{b(P.event)}),this}setUpPageApi_(u){const p=this.rackApi_.apiSet_.find(P=>P.controller_===u.contentController);if(!p)throw _.shouldNeverHappen();const b=new mr(u,p);this.pageApiMap_.set(u,b)}onPageAdd_(u){this.setUpPageApi_(u.item)}onPageRemove_(u){if(!this.pageApiMap_.get(u.item))throw _.shouldNeverHappen();this.pageApiMap_.delete(u.item)}onSelect_(u){this.emitter_.emit("select",{event:new c(this,u.rawValue)})}}const Ra=-1;class On{constructor(){this.onItemSelectedChange_=this.onItemSelectedChange_.bind(this),this.empty=W(!0),this.selectedIndex=W(Ra),this.items_=[]}add(u,p){const b=p!=null?p:this.items_.length;this.items_.splice(b,0,u),u.emitter.on("change",this.onItemSelectedChange_),this.keepSelection_()}remove(u){const p=this.items_.indexOf(u);p<0||(this.items_.splice(p,1),u.emitter.off("change",this.onItemSelectedChange_),this.keepSelection_())}keepSelection_(){if(this.items_.length===0){this.selectedIndex.rawValue=Ra,this.empty.rawValue=!0;return}const u=this.items_.findIndex(p=>p.rawValue);u<0?(this.items_.forEach((p,b)=>{p.rawValue=b===0}),this.selectedIndex.rawValue=0):(this.items_.forEach((p,b)=>{p.rawValue=b===u}),this.selectedIndex.rawValue=u),this.empty.rawValue=!1}onItemSelectedChange_(u){if(u.rawValue){const p=this.items_.findIndex(b=>b===u.sender);this.items_.forEach((b,P)=>{b.rawValue=P===p}),this.selectedIndex.rawValue=p}else this.keepSelection_()}}const Wi=w("tab");class Al{constructor(u,p){this.element=u.createElement("div"),this.element.classList.add(Wi(),Te()),p.viewProps.bindClassModifiers(this.element),A(p.empty,L(this.element,Wi(void 0,"nop")));const b=u.createElement("div");b.classList.add(Wi("i")),this.element.appendChild(b),this.itemsElement=b;const P=p.contentsElement;P.classList.add(Wi("c")),this.element.appendChild(P),this.contentsElement=P}}class qn extends Ue{constructor(u,p){const b=new ce(u,{blade:p.blade,viewProps:p.viewProps}),P=new On;super({blade:p.blade,rackController:b,view:new Al(u,{contentsElement:b.view.element,empty:P.empty,viewProps:p.viewProps})}),this.onPageAdd_=this.onPageAdd_.bind(this),this.onPageRemove_=this.onPageRemove_.bind(this),this.pageSet_=new Se(()=>null),this.pageSet_.emitter.on("add",this.onPageAdd_),this.pageSet_.emitter.on("remove",this.onPageRemove_),this.tab=P}get pageSet(){return this.pageSet_}add(u,p){this.pageSet_.add(u,p)}remove(u){this.pageSet_.remove(this.pageSet_.items[u])}onPageAdd_(u){const p=u.item;ue(this.view.itemsElement,p.itemController.view.element,u.index),this.rackController.rack.add(p.contentController,u.index),this.tab.add(p.props.value("selected"))}onPageRemove_(u){const p=u.item;Me(p.itemController.view.element),this.rackController.rack.remove(p.contentController),this.tab.remove(p.props.value("selected"))}}const Ia={id:"tab",type:"blade",accept(g){const u=pe,p=Ee(g,{pages:u.required.array(u.required.object({title:u.required.string})),view:u.required.constant("tab")});return!p||p.pages.length===0?null:{params:p}},controller(g){const u=new qn(g.document,{blade:g.blade,viewProps:g.viewProps});return g.params.pages.forEach(p=>{const b=new ni(g.document,{itemProps:V.fromObject({selected:!1,title:p.title}),props:V.fromObject({selected:!1})});u.add(b)}),u},api(g){return g.controller instanceof qn?new Rs(g.controller,g.pool):null}};function s3(g,u){const p=g.accept(u.params);if(!p)return null;const b=pe.optional.boolean(u.params.disabled).value,P=pe.optional.boolean(u.params.hidden).value;return g.controller({blade:ae(),document:u.document,params:Object.assign(Object.assign({},p.params),{disabled:b,hidden:P}),viewProps:Ht.create({disabled:b,hidden:P})})}class v0{constructor(){this.disabled=!1,this.emitter=new y}dispose(){}tick(){this.disabled||this.emitter.emit("tick",{sender:this})}}class hv{constructor(u,p){this.disabled_=!1,this.timerId_=null,this.onTick_=this.onTick_.bind(this),this.doc_=u,this.emitter=new y,this.interval_=p,this.setTimer_()}get disabled(){return this.disabled_}set disabled(u){this.disabled_=u,this.disabled_?this.clearTimer_():this.setTimer_()}dispose(){this.clearTimer_()}clearTimer_(){if(this.timerId_===null)return;const u=this.doc_.defaultView;u&&u.clearInterval(this.timerId_),this.timerId_=null}setTimer_(){if(this.clearTimer_(),this.interval_<=0)return;const u=this.doc_.defaultView;u&&(this.timerId_=u.setInterval(this.onTick_,this.interval_))}onTick_(){this.disabled_||this.emitter.emit("tick",{sender:this})}}class Pl{constructor(u){this.constraints=u}constrain(u){return this.constraints.reduce((p,b)=>b.constrain(p),u)}}function Ir(g,u){if(g instanceof u)return g;if(g instanceof Pl){const p=g.constraints.reduce((b,P)=>b||(P instanceof u?P:null),null);if(p)return p}return null}class Ll{constructor(u){this.options=u}constrain(u){const p=this.options;return p.length===0||p.filter(P=>P.value===u).length>0?u:p[0].value}}class Da{constructor(u){this.maxValue=u.max,this.minValue=u.min}constrain(u){let p=u;return d(this.minValue)||(p=Math.max(p,this.minValue)),d(this.maxValue)||(p=Math.min(p,this.maxValue)),p}}class x0{constructor(u,p=0){this.step=u,this.origin=p}constrain(u){const p=this.origin%this.step,b=Math.round((u-p)/this.step);return p+b*this.step}}const o3=w("lst");class dv{constructor(u,p){this.onValueChange_=this.onValueChange_.bind(this),this.props_=p.props,this.element=u.createElement("div"),this.element.classList.add(o3()),p.viewProps.bindClassModifiers(this.element);const b=u.createElement("select");b.classList.add(o3("s")),R(this.props_,"options",Q=>{ye(b),Q.forEach((he,Re)=>{const Ye=u.createElement("option");Ye.dataset.index=String(Re),Ye.textContent=he.text,Ye.value=String(he.value),b.appendChild(Ye)})}),p.viewProps.bindDisabled(b),this.element.appendChild(b),this.selectElement=b;const P=u.createElement("div");P.classList.add(o3("m")),P.appendChild(xe(u,"dropdown")),this.element.appendChild(P),p.value.emitter.on("change",this.onValueChange_),this.value_=p.value,this.update_()}update_(){this.selectElement.value=String(this.value_.rawValue)}onValueChange_(){this.update_()}}class Rl{constructor(u,p){this.onSelectChange_=this.onSelectChange_.bind(this),this.props=p.props,this.value=p.value,this.viewProps=p.viewProps,this.view=new dv(u,{props:this.props,value:this.value,viewProps:this.viewProps}),this.view.selectElement.addEventListener("change",this.onSelectChange_)}onSelectChange_(u){const b=u.currentTarget.selectedOptions.item(0);if(!b)return;const P=Number(b.dataset.index);this.value.rawValue=this.props.get("options")[P].value}}const W4=w("pop");class fv{constructor(u,p){this.element=u.createElement("div"),this.element.classList.add(W4()),p.viewProps.bindClassModifiers(this.element),A(p.shows,L(this.element,W4(void 0,"v")))}}class j4{constructor(u,p){this.shows=W(!1),this.viewProps=p.viewProps,this.view=new fv(u,{shows:this.shows,viewProps:this.viewProps})}}const q4=w("txt");class pv{constructor(u,p){this.onChange_=this.onChange_.bind(this),this.element=u.createElement("div"),this.element.classList.add(q4()),p.viewProps.bindClassModifiers(this.element),this.props_=p.props,this.props_.emitter.on("change",this.onChange_);const b=u.createElement("input");b.classList.add(q4("i")),b.type="text",p.viewProps.bindDisabled(b),this.element.appendChild(b),this.inputElement=b,p.value.emitter.on("change",this.onChange_),this.value_=p.value,this.refresh()}refresh(){const u=this.props_.get("formatter");this.inputElement.value=u(this.value_.rawValue)}onChange_(){this.refresh()}}class b0{constructor(u,p){this.onInputChange_=this.onInputChange_.bind(this),this.parser_=p.parser,this.props=p.props,this.value=p.value,this.viewProps=p.viewProps,this.view=new pv(u,{props:p.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}onInputChange_(u){const b=u.currentTarget.value,P=this.parser_(b);d(P)||(this.value.rawValue=P),this.view.refresh()}}function mv(g){return String(g)}function X4(g){return g==="false"?!1:!!g}function $4(g){return mv(g)}class gv{constructor(u){this.text=u}evaluate(){return Number(this.text)}toString(){return this.text}}const _v={"**":(g,u)=>Math.pow(g,u),"*":(g,u)=>g*u,"/":(g,u)=>g/u,"%":(g,u)=>g%u,"+":(g,u)=>g+u,"-":(g,u)=>g-u,"<<":(g,u)=>g<<u,">>":(g,u)=>g>>u,">>>":(g,u)=>g>>>u,"&":(g,u)=>g&u,"^":(g,u)=>g^u,"|":(g,u)=>g|u};class vv{constructor(u,p,b){this.left=p,this.operator=u,this.right=b}evaluate(){const u=_v[this.operator];if(!u)throw new Error(`unexpected binary operator: '${this.operator}`);return u(this.left.evaluate(),this.right.evaluate())}toString(){return["b(",this.left.toString(),this.operator,this.right.toString(),")"].join(" ")}}const xv={"+":g=>g,"-":g=>-g,"~":g=>~g};class bv{constructor(u,p){this.operator=u,this.expression=p}evaluate(){const u=xv[this.operator];if(!u)throw new Error(`unexpected unary operator: '${this.operator}`);return u(this.expression.evaluate())}toString(){return["u(",this.operator,this.expression.toString(),")"].join(" ")}}function a3(g){return(u,p)=>{for(let b=0;b<g.length;b++){const P=g[b](u,p);if(P!=="")return P}return""}}function Il(g,u){var p;const b=g.substr(u).match(/^\s+/);return(p=b&&b[0])!==null&&p!==void 0?p:""}function yv(g,u){const p=g.substr(u,1);return p.match(/^[1-9]$/)?p:""}function Dl(g,u){var p;const b=g.substr(u).match(/^[0-9]+/);return(p=b&&b[0])!==null&&p!==void 0?p:""}function wv(g,u){const p=Dl(g,u);if(p!=="")return p;const b=g.substr(u,1);if(u+=1,b!=="-"&&b!=="+")return"";const P=Dl(g,u);return P===""?"":b+P}function l3(g,u){const p=g.substr(u,1);if(u+=1,p.toLowerCase()!=="e")return"";const b=wv(g,u);return b===""?"":p+b}function K4(g,u){const p=g.substr(u,1);if(p==="0")return p;const b=yv(g,u);return u+=b.length,b===""?"":b+Dl(g,u)}function Sv(g,u){const p=K4(g,u);if(u+=p.length,p==="")return"";const b=g.substr(u,1);if(u+=b.length,b!==".")return"";const P=Dl(g,u);return u+=P.length,p+b+P+l3(g,u)}function Mv(g,u){const p=g.substr(u,1);if(u+=p.length,p!==".")return"";const b=Dl(g,u);return u+=b.length,b===""?"":p+b+l3(g,u)}function Ev(g,u){const p=K4(g,u);return u+=p.length,p===""?"":p+l3(g,u)}const Tv=a3([Sv,Mv,Ev]);function Cv(g,u){var p;const b=g.substr(u).match(/^[01]+/);return(p=b&&b[0])!==null&&p!==void 0?p:""}function Av(g,u){const p=g.substr(u,2);if(u+=p.length,p.toLowerCase()!=="0b")return"";const b=Cv(g,u);return b===""?"":p+b}function Pv(g,u){var p;const b=g.substr(u).match(/^[0-7]+/);return(p=b&&b[0])!==null&&p!==void 0?p:""}function Lv(g,u){const p=g.substr(u,2);if(u+=p.length,p.toLowerCase()!=="0o")return"";const b=Pv(g,u);return b===""?"":p+b}function Rv(g,u){var p;const b=g.substr(u).match(/^[0-9a-f]+/i);return(p=b&&b[0])!==null&&p!==void 0?p:""}function Iv(g,u){const p=g.substr(u,2);if(u+=p.length,p.toLowerCase()!=="0x")return"";const b=Rv(g,u);return b===""?"":p+b}const Dv=a3([Av,Lv,Iv]),kv=a3([Dv,Tv]);function Ov(g,u){const p=kv(g,u);return u+=p.length,p===""?null:{evaluable:new gv(p),cursor:u}}function Fv(g,u){const p=g.substr(u,1);if(u+=p.length,p!=="(")return null;const b=Z4(g,u);if(!b)return null;u=b.cursor,u+=Il(g,u).length;const P=g.substr(u,1);return u+=P.length,P!==")"?null:{evaluable:b.evaluable,cursor:u}}function Nv(g,u){var p;return(p=Ov(g,u))!==null&&p!==void 0?p:Fv(g,u)}function Y4(g,u){const p=Nv(g,u);if(p)return p;const b=g.substr(u,1);if(u+=b.length,b!=="+"&&b!=="-"&&b!=="~")return null;const P=Y4(g,u);return P?(u=P.cursor,{cursor:u,evaluable:new bv(b,P.evaluable)}):null}function zv(g,u,p){p+=Il(u,p).length;const b=g.filter(P=>u.startsWith(P,p))[0];return b?(p+=b.length,p+=Il(u,p).length,{cursor:p,operator:b}):null}function Bv(g,u){return(p,b)=>{const P=g(p,b);if(!P)return null;b=P.cursor;let Q=P.evaluable;for(;;){const he=zv(u,p,b);if(!he)break;b=he.cursor;const Re=g(p,b);if(!Re)return null;b=Re.cursor,Q=new vv(he.operator,Q,Re.evaluable)}return Q?{cursor:b,evaluable:Q}:null}}const Uv=[["**"],["*","/","%"],["+","-"],["<<",">>>",">>"],["&"],["^"],["|"]].reduce((g,u)=>Bv(g,u),Y4);function Z4(g,u){return u+=Il(g,u).length,Uv(g,u)}function Vv(g){const u=Z4(g,0);return!u||u.cursor+Il(g,u.cursor).length!==g.length?null:u.evaluable}function ts(g){var u;const p=Vv(g);return(u=p==null?void 0:p.evaluate())!==null&&u!==void 0?u:null}function Q4(g){if(typeof g=="number")return g;if(typeof g=="string"){const u=ts(g);if(!d(u))return u}return 0}function Hv(g){return String(g)}function Fn(g){return u=>u.toFixed(Math.max(Math.min(g,20),0))}const Gv=Fn(0);function y0(g){return Gv(g)+"%"}function J4(g){return String(g)}function c3(g){return g}function e5(g,u){for(;g.length<u;)g.push(void 0)}function Wv(g){const u=[];return e5(u,g),W(u)}function jv(g){const u=g.indexOf(void 0);return u<0?g:g.slice(0,u)}function qv(g,u){const p=[...jv(g),u];return p.length>g.length?p.splice(0,p.length-g.length):e5(p,g.length),p}function kl({primary:g,secondary:u,forward:p,backward:b}){let P=!1;function Q(he){P||(P=!0,he(),P=!1)}g.emitter.on("change",he=>{Q(()=>{u.setRawValue(p(g,u),he.options)})}),u.emitter.on("change",he=>{Q(()=>{g.setRawValue(b(g,u),he.options)}),Q(()=>{u.setRawValue(p(g,u),he.options)})}),Q(()=>{u.setRawValue(p(g,u),{forceEmit:!1,last:!0})})}function di(g,u){const p=g*(u.altKey?.1:1)*(u.shiftKey?10:1);return u.upKey?+p:u.downKey?-p:0}function Ol(g){return{altKey:g.altKey,downKey:g.key==="ArrowDown",shiftKey:g.shiftKey,upKey:g.key==="ArrowUp"}}function ns(g){return{altKey:g.altKey,downKey:g.key==="ArrowLeft",shiftKey:g.shiftKey,upKey:g.key==="ArrowRight"}}function Xv(g){return g==="ArrowUp"||g==="ArrowDown"}function t5(g){return Xv(g)||g==="ArrowLeft"||g==="ArrowRight"}function u3(g,u){var p,b;const P=u.ownerDocument.defaultView,Q=u.getBoundingClientRect();return{x:g.pageX-(((p=P&&P.scrollX)!==null&&p!==void 0?p:0)+Q.left),y:g.pageY-(((b=P&&P.scrollY)!==null&&b!==void 0?b:0)+Q.top)}}class Co{constructor(u){this.lastTouch_=null,this.onDocumentMouseMove_=this.onDocumentMouseMove_.bind(this),this.onDocumentMouseUp_=this.onDocumentMouseUp_.bind(this),this.onMouseDown_=this.onMouseDown_.bind(this),this.onTouchEnd_=this.onTouchEnd_.bind(this),this.onTouchMove_=this.onTouchMove_.bind(this),this.onTouchStart_=this.onTouchStart_.bind(this),this.elem_=u,this.emitter=new y,u.addEventListener("touchstart",this.onTouchStart_,{passive:!1}),u.addEventListener("touchmove",this.onTouchMove_,{passive:!0}),u.addEventListener("touchend",this.onTouchEnd_),u.addEventListener("mousedown",this.onMouseDown_)}computePosition_(u){const p=this.elem_.getBoundingClientRect();return{bounds:{width:p.width,height:p.height},point:u?{x:u.x,y:u.y}:null}}onMouseDown_(u){var p;u.preventDefault(),(p=u.currentTarget)===null||p===void 0||p.focus();const b=this.elem_.ownerDocument;b.addEventListener("mousemove",this.onDocumentMouseMove_),b.addEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("down",{altKey:u.altKey,data:this.computePosition_(u3(u,this.elem_)),sender:this,shiftKey:u.shiftKey})}onDocumentMouseMove_(u){this.emitter.emit("move",{altKey:u.altKey,data:this.computePosition_(u3(u,this.elem_)),sender:this,shiftKey:u.shiftKey})}onDocumentMouseUp_(u){const p=this.elem_.ownerDocument;p.removeEventListener("mousemove",this.onDocumentMouseMove_),p.removeEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("up",{altKey:u.altKey,data:this.computePosition_(u3(u,this.elem_)),sender:this,shiftKey:u.shiftKey})}onTouchStart_(u){u.preventDefault();const p=u.targetTouches.item(0),b=this.elem_.getBoundingClientRect();this.emitter.emit("down",{altKey:u.altKey,data:this.computePosition_(p?{x:p.clientX-b.left,y:p.clientY-b.top}:void 0),sender:this,shiftKey:u.shiftKey}),this.lastTouch_=p}onTouchMove_(u){const p=u.targetTouches.item(0),b=this.elem_.getBoundingClientRect();this.emitter.emit("move",{altKey:u.altKey,data:this.computePosition_(p?{x:p.clientX-b.left,y:p.clientY-b.top}:void 0),sender:this,shiftKey:u.shiftKey}),this.lastTouch_=p}onTouchEnd_(u){var p;const b=(p=u.targetTouches.item(0))!==null&&p!==void 0?p:this.lastTouch_,P=this.elem_.getBoundingClientRect();this.emitter.emit("up",{altKey:u.altKey,data:this.computePosition_(b?{x:b.clientX-P.left,y:b.clientY-P.top}:void 0),sender:this,shiftKey:u.shiftKey})}}function jt(g,u,p,b,P){const Q=(g-u)/(p-u);return b+Q*(P-b)}function n5(g){return String(g.toFixed(10)).split(".")[1].replace(/0+$/,"").length}function bn(g,u,p){return Math.min(Math.max(g,u),p)}function i5(g,u){return(g%u+u)%u}const ji=w("txt");class $v{constructor(u,p){this.onChange_=this.onChange_.bind(this),this.props_=p.props,this.props_.emitter.on("change",this.onChange_),this.element=u.createElement("div"),this.element.classList.add(ji(),ji(void 0,"num")),p.arrayPosition&&this.element.classList.add(ji(void 0,p.arrayPosition)),p.viewProps.bindClassModifiers(this.element);const b=u.createElement("input");b.classList.add(ji("i")),b.type="text",p.viewProps.bindDisabled(b),this.element.appendChild(b),this.inputElement=b,this.onDraggingChange_=this.onDraggingChange_.bind(this),this.dragging_=p.dragging,this.dragging_.emitter.on("change",this.onDraggingChange_),this.element.classList.add(ji()),this.inputElement.classList.add(ji("i"));const P=u.createElement("div");P.classList.add(ji("k")),this.element.appendChild(P),this.knobElement=P;const Q=u.createElementNS(oe,"svg");Q.classList.add(ji("g")),this.knobElement.appendChild(Q);const he=u.createElementNS(oe,"path");he.classList.add(ji("gb")),Q.appendChild(he),this.guideBodyElem_=he;const Re=u.createElementNS(oe,"path");Re.classList.add(ji("gh")),Q.appendChild(Re),this.guideHeadElem_=Re;const Ye=u.createElement("div");Ye.classList.add(w("tt")()),this.knobElement.appendChild(Ye),this.tooltipElem_=Ye,p.value.emitter.on("change",this.onChange_),this.value=p.value,this.refresh()}onDraggingChange_(u){if(u.rawValue===null){this.element.classList.remove(ji(void 0,"drg"));return}this.element.classList.add(ji(void 0,"drg"));const p=u.rawValue/this.props_.get("draggingScale"),b=p+(p>0?-1:p<0?1:0),P=bn(-b,-4,4);this.guideHeadElem_.setAttributeNS(null,"d",[`M ${b+P},0 L${b},4 L${b+P},8`,`M ${p},-1 L${p},9`].join(" ")),this.guideBodyElem_.setAttributeNS(null,"d",`M 0,4 L${p},4`);const Q=this.props_.get("formatter");this.tooltipElem_.textContent=Q(this.value.rawValue),this.tooltipElem_.style.left=`${p}px`}refresh(){const u=this.props_.get("formatter");this.inputElement.value=u(this.value.rawValue)}onChange_(){this.refresh()}}class Fl{constructor(u,p){var b;this.originRawValue_=0,this.onInputChange_=this.onInputChange_.bind(this),this.onInputKeyDown_=this.onInputKeyDown_.bind(this),this.onInputKeyUp_=this.onInputKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.baseStep_=p.baseStep,this.parser_=p.parser,this.props=p.props,this.sliderProps_=(b=p.sliderProps)!==null&&b!==void 0?b:null,this.value=p.value,this.viewProps=p.viewProps,this.dragging_=W(null),this.view=new $v(u,{arrayPosition:p.arrayPosition,dragging:this.dragging_,props:this.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_),this.view.inputElement.addEventListener("keydown",this.onInputKeyDown_),this.view.inputElement.addEventListener("keyup",this.onInputKeyUp_);const P=new Co(this.view.knobElement);P.emitter.on("down",this.onPointerDown_),P.emitter.on("move",this.onPointerMove_),P.emitter.on("up",this.onPointerUp_)}constrainValue_(u){var p,b;const P=(p=this.sliderProps_)===null||p===void 0?void 0:p.get("minValue"),Q=(b=this.sliderProps_)===null||b===void 0?void 0:b.get("maxValue");let he=u;return P!==void 0&&(he=Math.max(he,P)),Q!==void 0&&(he=Math.min(he,Q)),he}onInputChange_(u){const b=u.currentTarget.value,P=this.parser_(b);d(P)||(this.value.rawValue=this.constrainValue_(P)),this.view.refresh()}onInputKeyDown_(u){const p=di(this.baseStep_,Ol(u));p!==0&&this.value.setRawValue(this.constrainValue_(this.value.rawValue+p),{forceEmit:!1,last:!1})}onInputKeyUp_(u){di(this.baseStep_,Ol(u))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}onPointerDown_(){this.originRawValue_=this.value.rawValue,this.dragging_.rawValue=0}computeDraggingValue_(u){if(!u.point)return null;const p=u.point.x-u.bounds.width/2;return this.constrainValue_(this.originRawValue_+p*this.props.get("draggingScale"))}onPointerMove_(u){const p=this.computeDraggingValue_(u.data);p!==null&&(this.value.setRawValue(p,{forceEmit:!1,last:!1}),this.dragging_.rawValue=this.value.rawValue-this.originRawValue_)}onPointerUp_(u){const p=this.computeDraggingValue_(u.data);p!==null&&(this.value.setRawValue(p,{forceEmit:!0,last:!0}),this.dragging_.rawValue=null)}}const h3=w("sld");class Kv{constructor(u,p){this.onChange_=this.onChange_.bind(this),this.props_=p.props,this.props_.emitter.on("change",this.onChange_),this.element=u.createElement("div"),this.element.classList.add(h3()),p.viewProps.bindClassModifiers(this.element);const b=u.createElement("div");b.classList.add(h3("t")),p.viewProps.bindTabIndex(b),this.element.appendChild(b),this.trackElement=b;const P=u.createElement("div");P.classList.add(h3("k")),this.trackElement.appendChild(P),this.knobElement=P,p.value.emitter.on("change",this.onChange_),this.value=p.value,this.update_()}update_(){const u=bn(jt(this.value.rawValue,this.props_.get("minValue"),this.props_.get("maxValue"),0,100),0,100);this.knobElement.style.width=`${u}%`}onChange_(){this.update_()}}class Yv{constructor(u,p){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDownOrMove_=this.onPointerDownOrMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.baseStep_=p.baseStep,this.value=p.value,this.viewProps=p.viewProps,this.props=p.props,this.view=new Kv(u,{props:this.props,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Co(this.view.trackElement),this.ptHandler_.emitter.on("down",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("move",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.trackElement.addEventListener("keydown",this.onKeyDown_),this.view.trackElement.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(u,p){!u.point||this.value.setRawValue(jt(bn(u.point.x,0,u.bounds.width),0,u.bounds.width,this.props.get("minValue"),this.props.get("maxValue")),p)}onPointerDownOrMove_(u){this.handlePointerEvent_(u.data,{forceEmit:!1,last:!1})}onPointerUp_(u){this.handlePointerEvent_(u.data,{forceEmit:!0,last:!0})}onKeyDown_(u){const p=di(this.baseStep_,ns(u));p!==0&&this.value.setRawValue(this.value.rawValue+p,{forceEmit:!1,last:!1})}onKeyUp_(u){di(this.baseStep_,ns(u))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const d3=w("sldtxt");class Zv{constructor(u,p){this.element=u.createElement("div"),this.element.classList.add(d3());const b=u.createElement("div");b.classList.add(d3("s")),this.sliderView_=p.sliderView,b.appendChild(this.sliderView_.element),this.element.appendChild(b);const P=u.createElement("div");P.classList.add(d3("t")),this.textView_=p.textView,P.appendChild(this.textView_.element),this.element.appendChild(P)}}class f3{constructor(u,p){this.value=p.value,this.viewProps=p.viewProps,this.sliderC_=new Yv(u,{baseStep:p.baseStep,props:p.sliderProps,value:p.value,viewProps:this.viewProps}),this.textC_=new Fl(u,{baseStep:p.baseStep,parser:p.parser,props:p.textProps,sliderProps:p.sliderProps,value:p.value,viewProps:p.viewProps}),this.view=new Zv(u,{sliderView:this.sliderC_.view,textView:this.textC_.view})}get sliderController(){return this.sliderC_}get textController(){return this.textC_}}function Nl(g,u){g.write(u)}function w0(g){const u=pe;if(Array.isArray(g))return u.required.array(u.required.object({text:u.required.string,value:u.required.raw}))(g).value;if(typeof g=="object")return u.required.raw(g).value}function r5(g){if(g==="inline"||g==="popup")return g}function Is(g){const u=pe;return u.required.object({max:u.optional.number,min:u.optional.number,step:u.optional.number})(g).value}function s5(g){if(Array.isArray(g))return g;const u=[];return Object.keys(g).forEach(p=>{u.push({text:p,value:g[p]})}),u}function p3(g){return d(g)?null:new Ll(s5(g))}function m3(g){const u=g?Ir(g,Ll):null;return u?u.options:null}function Qv(g){const u=g?Ir(g,x0):null;return u?u.step:null}function S0(g,u){const p=g&&Ir(g,x0);return p?n5(p.step):Math.max(n5(u),2)}function ka(g){const u=Qv(g);return u!=null?u:1}function Oa(g,u){var p;const b=g&&Ir(g,x0),P=Math.abs((p=b==null?void 0:b.step)!==null&&p!==void 0?p:u);return P===0?.1:Math.pow(10,Math.floor(Math.log10(P))-1)}const M0=w("ckb");class Jv{constructor(u,p){this.onValueChange_=this.onValueChange_.bind(this),this.element=u.createElement("div"),this.element.classList.add(M0()),p.viewProps.bindClassModifiers(this.element);const b=u.createElement("label");b.classList.add(M0("l")),this.element.appendChild(b);const P=u.createElement("input");P.classList.add(M0("i")),P.type="checkbox",b.appendChild(P),this.inputElement=P,p.viewProps.bindDisabled(this.inputElement);const Q=u.createElement("div");Q.classList.add(M0("w")),b.appendChild(Q);const he=xe(u,"check");Q.appendChild(he),p.value.emitter.on("change",this.onValueChange_),this.value=p.value,this.update_()}update_(){this.inputElement.checked=this.value.rawValue}onValueChange_(){this.update_()}}class ex{constructor(u,p){this.onInputChange_=this.onInputChange_.bind(this),this.value=p.value,this.viewProps=p.viewProps,this.view=new Jv(u,{value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}onInputChange_(u){const p=u.currentTarget;this.value.rawValue=p.checked}}function tx(g){const u=[],p=p3(g.options);return p&&u.push(p),new Pl(u)}const nx={id:"input-bool",type:"input",accept:(g,u)=>{if(typeof g!="boolean")return null;const b=Ee(u,{options:pe.optional.custom(w0)});return b?{initialValue:g,params:b}:null},binding:{reader:g=>X4,constraint:g=>tx(g.params),writer:g=>Nl},controller:g=>{var u;const p=g.document,b=g.value,P=g.constraint;return P&&Ir(P,Ll)?new Rl(p,{props:V.fromObject({options:(u=m3(P))!==null&&u!==void 0?u:[]}),value:b,viewProps:g.viewProps}):new ex(p,{value:b,viewProps:g.viewProps})}},Ao=w("col");class ix{constructor(u,p){this.element=u.createElement("div"),this.element.classList.add(Ao()),p.foldable.bindExpandedClass(this.element,Ao(void 0,"expanded")),R(p.foldable,"completed",L(this.element,Ao(void 0,"cpl")));const b=u.createElement("div");b.classList.add(Ao("h")),this.element.appendChild(b);const P=u.createElement("div");P.classList.add(Ao("s")),b.appendChild(P),this.swatchElement=P;const Q=u.createElement("div");if(Q.classList.add(Ao("t")),b.appendChild(Q),this.textElement=Q,p.pickerLayout==="inline"){const he=u.createElement("div");he.classList.add(Ao("p")),this.element.appendChild(he),this.pickerElement=he}else this.pickerElement=null}}function rx(g,u,p){const b=bn(g/255,0,1),P=bn(u/255,0,1),Q=bn(p/255,0,1),he=Math.max(b,P,Q),Re=Math.min(b,P,Q),Ye=he-Re;let ot=0,Pt=0;const Rt=(Re+he)/2;return Ye!==0&&(Pt=Ye/(1-Math.abs(he+Re-1)),b===he?ot=(P-Q)/Ye:P===he?ot=2+(Q-b)/Ye:ot=4+(b-P)/Ye,ot=ot/6+(ot<0?1:0)),[ot*360,Pt*100,Rt*100]}function sx(g,u,p){const b=(g%360+360)%360,P=bn(u/100,0,1),Q=bn(p/100,0,1),he=(1-Math.abs(2*Q-1))*P,Re=he*(1-Math.abs(b/60%2-1)),Ye=Q-he/2;let ot,Pt,Rt;return b>=0&&b<60?[ot,Pt,Rt]=[he,Re,0]:b>=60&&b<120?[ot,Pt,Rt]=[Re,he,0]:b>=120&&b<180?[ot,Pt,Rt]=[0,he,Re]:b>=180&&b<240?[ot,Pt,Rt]=[0,Re,he]:b>=240&&b<300?[ot,Pt,Rt]=[Re,0,he]:[ot,Pt,Rt]=[he,0,Re],[(ot+Ye)*255,(Pt+Ye)*255,(Rt+Ye)*255]}function ox(g,u,p){const b=bn(g/255,0,1),P=bn(u/255,0,1),Q=bn(p/255,0,1),he=Math.max(b,P,Q),Re=Math.min(b,P,Q),Ye=he-Re;let ot;Ye===0?ot=0:he===b?ot=60*(((P-Q)/Ye%6+6)%6):he===P?ot=60*((Q-b)/Ye+2):ot=60*((b-P)/Ye+4);const Pt=he===0?0:Ye/he,Rt=he;return[ot,Pt*100,Rt*100]}function o5(g,u,p){const b=i5(g,360),P=bn(u/100,0,1),Q=bn(p/100,0,1),he=Q*P,Re=he*(1-Math.abs(b/60%2-1)),Ye=Q-he;let ot,Pt,Rt;return b>=0&&b<60?[ot,Pt,Rt]=[he,Re,0]:b>=60&&b<120?[ot,Pt,Rt]=[Re,he,0]:b>=120&&b<180?[ot,Pt,Rt]=[0,he,Re]:b>=180&&b<240?[ot,Pt,Rt]=[0,Re,he]:b>=240&&b<300?[ot,Pt,Rt]=[Re,0,he]:[ot,Pt,Rt]=[he,0,Re],[(ot+Ye)*255,(Pt+Ye)*255,(Rt+Ye)*255]}function ax(g,u,p){const b=p+u*(100-Math.abs(2*p-100))/200;return[g,b!==0?u*(100-Math.abs(2*p-100))/b:0,p+u*(100-Math.abs(2*p-100))/(2*100)]}function lx(g,u,p){const b=100-Math.abs(p*(200-u)/100-100);return[g,b!==0?u*p/b:0,p*(200-u)/(2*100)]}function Po(g){return[g[0],g[1],g[2]]}function a5(g,u){return[g[0],g[1],g[2],u]}const cx={hsl:{hsl:(g,u,p)=>[g,u,p],hsv:ax,rgb:sx},hsv:{hsl:lx,hsv:(g,u,p)=>[g,u,p],rgb:o5},rgb:{hsl:rx,hsv:ox,rgb:(g,u,p)=>[g,u,p]}};function E0(g,u){return[u==="float"?1:g==="rgb"?255:360,u==="float"?1:g==="rgb"?255:100,u==="float"?1:g==="rgb"?255:100]}function ux(g,u,p){var b;const P=E0(u,p);return[u==="rgb"?bn(g[0],0,P[0]):i5(g[0],P[0]),bn(g[1],0,P[1]),bn(g[2],0,P[2]),bn((b=g[3])!==null&&b!==void 0?b:1,0,1)]}function l5(g,u,p,b){const P=E0(u,p),Q=E0(u,b);return g.map((he,Re)=>he/P[Re]*Q[Re])}function hx(g,u,p){const b=l5(g,u.mode,u.type,"int"),P=cx[u.mode][p.mode](...b);return l5(P,p.mode,"int",p.type)}function T0(g,u){return typeof g!="object"||d(g)?!1:u in g&&typeof g[u]=="number"}class vt{constructor(u,p,b="int"){this.mode=p,this.type=b,this.comps_=ux(u,p,b)}static black(u="int"){return new vt([0,0,0],"rgb",u)}static fromObject(u,p="int"){const b="a"in u?[u.r,u.g,u.b,u.a]:[u.r,u.g,u.b];return new vt(b,"rgb",p)}static toRgbaObject(u,p="int"){return u.toRgbaObject(p)}static isRgbColorObject(u){return T0(u,"r")&&T0(u,"g")&&T0(u,"b")}static isRgbaColorObject(u){return this.isRgbColorObject(u)&&T0(u,"a")}static isColorObject(u){return this.isRgbColorObject(u)}static equals(u,p){if(u.mode!==p.mode)return!1;const b=u.comps_,P=p.comps_;for(let Q=0;Q<b.length;Q++)if(b[Q]!==P[Q])return!1;return!0}getComponents(u,p="int"){return a5(hx(Po(this.comps_),{mode:this.mode,type:this.type},{mode:u!=null?u:this.mode,type:p}),this.comps_[3])}toRgbaObject(u="int"){const p=this.getComponents("rgb",u);return{r:p[0],g:p[1],b:p[2],a:p[3]}}}const Ds=w("colp");class dx{constructor(u,p){this.alphaViews_=null,this.element=u.createElement("div"),this.element.classList.add(Ds());const b=u.createElement("div");b.classList.add(Ds("hsv"));const P=u.createElement("div");P.classList.add(Ds("sv")),this.svPaletteView_=p.svPaletteView,P.appendChild(this.svPaletteView_.element),b.appendChild(P);const Q=u.createElement("div");Q.classList.add(Ds("h")),this.hPaletteView_=p.hPaletteView,Q.appendChild(this.hPaletteView_.element),b.appendChild(Q),this.element.appendChild(b);const he=u.createElement("div");if(he.classList.add(Ds("rgb")),this.textView_=p.textView,he.appendChild(this.textView_.element),this.element.appendChild(he),p.alphaViews){this.alphaViews_={palette:p.alphaViews.palette,text:p.alphaViews.text};const Re=u.createElement("div");Re.classList.add(Ds("a"));const Ye=u.createElement("div");Ye.classList.add(Ds("ap")),Ye.appendChild(this.alphaViews_.palette.element),Re.appendChild(Ye);const ot=u.createElement("div");ot.classList.add(Ds("at")),ot.appendChild(this.alphaViews_.text.element),Re.appendChild(ot),this.element.appendChild(Re)}}get allFocusableElements(){const u=[this.svPaletteView_.element,this.hPaletteView_.element,this.textView_.modeSelectElement,...this.textView_.textViews.map(p=>p.inputElement)];return this.alphaViews_&&u.push(this.alphaViews_.palette.element,this.alphaViews_.text.inputElement),u}}function fx(g){return g==="int"?"int":g==="float"?"float":void 0}function g3(g){const u=pe;return Ee(g,{alpha:u.optional.boolean,color:u.optional.object({alpha:u.optional.boolean,type:u.optional.custom(fx)}),expanded:u.optional.boolean,picker:u.optional.custom(r5)})}function Lo(g){return g?.1:1}function Ro(g){var u;return(u=g.color)===null||u===void 0?void 0:u.type}function px(g,u){return g.alpha===u.alpha&&g.mode===u.mode&&g.notation===u.notation&&g.type===u.type}function qi(g,u){const p=g.match(/^(.+)%$/);return Math.min(p?parseFloat(p[1])*.01*u:parseFloat(g),u)}const mx={deg:g=>g,grad:g=>g*360/400,rad:g=>g*360/(2*Math.PI),turn:g=>g*360};function c5(g){const u=g.match(/^([0-9.]+?)(deg|grad|rad|turn)$/);if(!u)return parseFloat(g);const p=parseFloat(u[1]),b=u[2];return mx[b](p)}function u5(g){const u=g.match(/^rgb\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!u)return null;const p=[qi(u[1],255),qi(u[2],255),qi(u[3],255)];return isNaN(p[0])||isNaN(p[1])||isNaN(p[2])?null:p}function h5(g){return u=>{const p=u5(u);return p?new vt(p,"rgb",g):null}}function d5(g){const u=g.match(/^rgba\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!u)return null;const p=[qi(u[1],255),qi(u[2],255),qi(u[3],255),qi(u[4],1)];return isNaN(p[0])||isNaN(p[1])||isNaN(p[2])||isNaN(p[3])?null:p}function f5(g){return u=>{const p=d5(u);return p?new vt(p,"rgb",g):null}}function p5(g){const u=g.match(/^hsl\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!u)return null;const p=[c5(u[1]),qi(u[2],100),qi(u[3],100)];return isNaN(p[0])||isNaN(p[1])||isNaN(p[2])?null:p}function m5(g){return u=>{const p=p5(u);return p?new vt(p,"hsl",g):null}}function g5(g){const u=g.match(/^hsla\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!u)return null;const p=[c5(u[1]),qi(u[2],100),qi(u[3],100),qi(u[4],1)];return isNaN(p[0])||isNaN(p[1])||isNaN(p[2])||isNaN(p[3])?null:p}function _5(g){return u=>{const p=g5(u);return p?new vt(p,"hsl",g):null}}function v5(g){const u=g.match(/^#([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(u)return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)];const p=g.match(/^(?:#|0x)([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return p?[parseInt(p[1],16),parseInt(p[2],16),parseInt(p[3],16)]:null}function gx(g){const u=v5(g);return u?new vt(u,"rgb","int"):null}function x5(g){const u=g.match(/^#?([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(u)return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16),jt(parseInt(u[4]+u[4],16),0,255,0,1)];const p=g.match(/^(?:#|0x)?([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return p?[parseInt(p[1],16),parseInt(p[2],16),parseInt(p[3],16),jt(parseInt(p[4],16),0,255,0,1)]:null}function _x(g){const u=x5(g);return u?new vt(u,"rgb","int"):null}function b5(g){const u=g.match(/^\{\s*r\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*g\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*b\s*:\s*([0-9A-Fa-f.]+%?)\s*\}$/);if(!u)return null;const p=[parseFloat(u[1]),parseFloat(u[2]),parseFloat(u[3])];return isNaN(p[0])||isNaN(p[1])||isNaN(p[2])?null:p}function y5(g){return u=>{const p=b5(u);return p?new vt(p,"rgb",g):null}}function w5(g){const u=g.match(/^\{\s*r\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*g\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*b\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*a\s*:\s*([0-9A-Fa-f.]+%?)\s*\}$/);if(!u)return null;const p=[parseFloat(u[1]),parseFloat(u[2]),parseFloat(u[3]),parseFloat(u[4])];return isNaN(p[0])||isNaN(p[1])||isNaN(p[2])||isNaN(p[3])?null:p}function S5(g){return u=>{const p=w5(u);return p?new vt(p,"rgb",g):null}}const vx=[{parser:v5,result:{alpha:!1,mode:"rgb",notation:"hex"}},{parser:x5,result:{alpha:!0,mode:"rgb",notation:"hex"}},{parser:u5,result:{alpha:!1,mode:"rgb",notation:"func"}},{parser:d5,result:{alpha:!0,mode:"rgb",notation:"func"}},{parser:p5,result:{alpha:!1,mode:"hsl",notation:"func"}},{parser:g5,result:{alpha:!0,mode:"hsl",notation:"func"}},{parser:b5,result:{alpha:!1,mode:"rgb",notation:"object"}},{parser:w5,result:{alpha:!0,mode:"rgb",notation:"object"}}];function xx(g){return vx.reduce((u,{parser:p,result:b})=>u||(p(g)?b:null),null)}function _3(g,u="int"){const p=xx(g);return p?p.notation==="hex"&&u!=="float"?Object.assign(Object.assign({},p),{type:"int"}):p.notation==="func"?Object.assign(Object.assign({},p),{type:u}):null:null}const M5={int:[gx,_x,h5("int"),f5("int"),m5("int"),_5("int"),y5("int"),S5("int")],float:[h5("float"),f5("float"),m5("float"),_5("float"),y5("float"),S5("float")]};function bx(g){const u=M5[g];return p=>{if(typeof p!="string")return vt.black(g);const b=u.reduce((P,Q)=>P||Q(p),null);return b!=null?b:vt.black(g)}}function v3(g){const u=M5[g];return p=>u.reduce((b,P)=>b||P(p),null)}function E5(g){const u=bn(Math.floor(g),0,255).toString(16);return u.length===1?`0${u}`:u}function T5(g,u="#"){const p=Po(g.getComponents("rgb")).map(E5).join("");return`${u}${p}`}function x3(g,u="#"){const p=g.getComponents("rgb"),b=[p[0],p[1],p[2],p[3]*255].map(E5).join("");return`${u}${b}`}function C5(g,u){const p=Fn(u==="float"?2:0);return`rgb(${Po(g.getComponents("rgb",u)).map(P=>p(P)).join(", ")})`}function yx(g){return u=>C5(u,g)}function C0(g,u){const p=Fn(2),b=Fn(u==="float"?2:0);return`rgba(${g.getComponents("rgb",u).map((Q,he)=>(he===3?p:b)(Q)).join(", ")})`}function wx(g){return u=>C0(u,g)}function Sx(g){const u=[Fn(0),y0,y0];return`hsl(${Po(g.getComponents("hsl")).map((b,P)=>u[P](b)).join(", ")})`}function Mx(g){const u=[Fn(0),y0,y0,Fn(2)];return`hsla(${g.getComponents("hsl").map((b,P)=>u[P](b)).join(", ")})`}function A5(g,u){const p=Fn(u==="float"?2:0),b=["r","g","b"];return`{${Po(g.getComponents("rgb",u)).map((Q,he)=>`${b[he]}: ${p(Q)}`).join(", ")}}`}function Ex(g){return u=>A5(u,g)}function P5(g,u){const p=Fn(2),b=Fn(u==="float"?2:0),P=["r","g","b","a"];return`{${g.getComponents("rgb",u).map((he,Re)=>{const Ye=Re===3?p:b;return`${P[Re]}: ${Ye(he)}`}).join(", ")}}`}function Tx(g){return u=>P5(u,g)}const Cx=[{format:{alpha:!1,mode:"rgb",notation:"hex",type:"int"},stringifier:T5},{format:{alpha:!0,mode:"rgb",notation:"hex",type:"int"},stringifier:x3},{format:{alpha:!1,mode:"hsl",notation:"func",type:"int"},stringifier:Sx},{format:{alpha:!0,mode:"hsl",notation:"func",type:"int"},stringifier:Mx},...["int","float"].reduce((g,u)=>[...g,{format:{alpha:!1,mode:"rgb",notation:"func",type:u},stringifier:yx(u)},{format:{alpha:!0,mode:"rgb",notation:"func",type:u},stringifier:wx(u)},{format:{alpha:!1,mode:"rgb",notation:"object",type:u},stringifier:Ex(u)},{format:{alpha:!0,mode:"rgb",notation:"object",type:u},stringifier:Tx(u)}],[])];function b3(g){return Cx.reduce((u,p)=>u||(px(p.format,g)?p.stringifier:null),null)}const zl=w("apl");class Ax{constructor(u,p){this.onValueChange_=this.onValueChange_.bind(this),this.value=p.value,this.value.emitter.on("change",this.onValueChange_),this.element=u.createElement("div"),this.element.classList.add(zl()),p.viewProps.bindTabIndex(this.element);const b=u.createElement("div");b.classList.add(zl("b")),this.element.appendChild(b);const P=u.createElement("div");P.classList.add(zl("c")),b.appendChild(P),this.colorElem_=P;const Q=u.createElement("div");Q.classList.add(zl("m")),this.element.appendChild(Q),this.markerElem_=Q;const he=u.createElement("div");he.classList.add(zl("p")),this.markerElem_.appendChild(he),this.previewElem_=he,this.update_()}update_(){const u=this.value.rawValue,p=u.getComponents("rgb"),b=new vt([p[0],p[1],p[2],0],"rgb"),P=new vt([p[0],p[1],p[2],255],"rgb"),Q=["to right",C0(b),C0(P)];this.colorElem_.style.background=`linear-gradient(${Q.join(",")})`,this.previewElem_.style.backgroundColor=C0(u);const he=jt(p[3],0,1,0,100);this.markerElem_.style.left=`${he}%`}onValueChange_(){this.update_()}}class Px{constructor(u,p){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=p.value,this.viewProps=p.viewProps,this.view=new Ax(u,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Co(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(u,p){if(!u.point)return;const b=u.point.x/u.bounds.width,P=this.value.rawValue,[Q,he,Re]=P.getComponents("hsv");this.value.setRawValue(new vt([Q,he,Re,b],"hsv"),p)}onPointerDown_(u){this.handlePointerEvent_(u.data,{forceEmit:!1,last:!1})}onPointerMove_(u){this.handlePointerEvent_(u.data,{forceEmit:!1,last:!1})}onPointerUp_(u){this.handlePointerEvent_(u.data,{forceEmit:!0,last:!0})}onKeyDown_(u){const p=di(Lo(!0),ns(u));if(p===0)return;const b=this.value.rawValue,[P,Q,he,Re]=b.getComponents("hsv");this.value.setRawValue(new vt([P,Q,he,Re+p],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(u){di(Lo(!0),ns(u))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const Fa=w("coltxt");function Lx(g){const u=g.createElement("select"),p=[{text:"RGB",value:"rgb"},{text:"HSL",value:"hsl"},{text:"HSV",value:"hsv"}];return u.appendChild(p.reduce((b,P)=>{const Q=g.createElement("option");return Q.textContent=P.text,Q.value=P.value,b.appendChild(Q),b},g.createDocumentFragment())),u}class Rx{constructor(u,p){this.element=u.createElement("div"),this.element.classList.add(Fa());const b=u.createElement("div");b.classList.add(Fa("m")),this.modeElem_=Lx(u),this.modeElem_.classList.add(Fa("ms")),b.appendChild(this.modeSelectElement);const P=u.createElement("div");P.classList.add(Fa("mm")),P.appendChild(xe(u,"dropdown")),b.appendChild(P),this.element.appendChild(b);const Q=u.createElement("div");Q.classList.add(Fa("w")),this.element.appendChild(Q),this.textsElem_=Q,this.textViews_=p.textViews,this.applyTextViews_(),A(p.colorMode,he=>{this.modeElem_.value=he})}get modeSelectElement(){return this.modeElem_}get textViews(){return this.textViews_}set textViews(u){this.textViews_=u,this.applyTextViews_()}applyTextViews_(){ye(this.textsElem_);const u=this.element.ownerDocument;this.textViews_.forEach(p=>{const b=u.createElement("div");b.classList.add(Fa("c")),b.appendChild(p.element),this.textsElem_.appendChild(b)})}}function Ix(g){return Fn(g==="float"?2:0)}function Dx(g,u,p){const b=E0(g,u)[p];return new Da({min:0,max:b})}function y3(g,u,p){return new Fl(g,{arrayPosition:p===0?"fst":p===3-1?"lst":"mid",baseStep:Lo(!1),parser:u.parser,props:V.fromObject({draggingScale:u.colorType==="float"?.01:1,formatter:Ix(u.colorType)}),value:W(0,{constraint:Dx(u.colorMode,u.colorType,p)}),viewProps:u.viewProps})}class kx{constructor(u,p){this.onModeSelectChange_=this.onModeSelectChange_.bind(this),this.colorType_=p.colorType,this.parser_=p.parser,this.value=p.value,this.viewProps=p.viewProps,this.colorMode=W(this.value.rawValue.mode),this.ccs_=this.createComponentControllers_(u),this.view=new Rx(u,{colorMode:this.colorMode,textViews:[this.ccs_[0].view,this.ccs_[1].view,this.ccs_[2].view]}),this.view.modeSelectElement.addEventListener("change",this.onModeSelectChange_)}createComponentControllers_(u){const p={colorMode:this.colorMode.rawValue,colorType:this.colorType_,parser:this.parser_,viewProps:this.viewProps},b=[y3(u,p,0),y3(u,p,1),y3(u,p,2)];return b.forEach((P,Q)=>{kl({primary:this.value,secondary:P.value,forward:he=>he.rawValue.getComponents(this.colorMode.rawValue,this.colorType_)[Q],backward:(he,Re)=>{const Ye=this.colorMode.rawValue,ot=he.rawValue.getComponents(Ye,this.colorType_);return ot[Q]=Re.rawValue,new vt(a5(Po(ot),ot[3]),Ye,this.colorType_)}})}),b}onModeSelectChange_(u){const p=u.currentTarget;this.colorMode.rawValue=p.value,this.ccs_=this.createComponentControllers_(this.view.element.ownerDocument),this.view.textViews=[this.ccs_[0].view,this.ccs_[1].view,this.ccs_[2].view]}}const w3=w("hpl");class Ox{constructor(u,p){this.onValueChange_=this.onValueChange_.bind(this),this.value=p.value,this.value.emitter.on("change",this.onValueChange_),this.element=u.createElement("div"),this.element.classList.add(w3()),p.viewProps.bindTabIndex(this.element);const b=u.createElement("div");b.classList.add(w3("c")),this.element.appendChild(b);const P=u.createElement("div");P.classList.add(w3("m")),this.element.appendChild(P),this.markerElem_=P,this.update_()}update_(){const u=this.value.rawValue,[p]=u.getComponents("hsv");this.markerElem_.style.backgroundColor=C5(new vt([p,100,100],"hsv"));const b=jt(p,0,360,0,100);this.markerElem_.style.left=`${b}%`}onValueChange_(){this.update_()}}class Fx{constructor(u,p){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=p.value,this.viewProps=p.viewProps,this.view=new Ox(u,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Co(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(u,p){if(!u.point)return;const b=jt(bn(u.point.x,0,u.bounds.width),0,u.bounds.width,0,359),P=this.value.rawValue,[,Q,he,Re]=P.getComponents("hsv");this.value.setRawValue(new vt([b,Q,he,Re],"hsv"),p)}onPointerDown_(u){this.handlePointerEvent_(u.data,{forceEmit:!1,last:!1})}onPointerMove_(u){this.handlePointerEvent_(u.data,{forceEmit:!1,last:!1})}onPointerUp_(u){this.handlePointerEvent_(u.data,{forceEmit:!0,last:!0})}onKeyDown_(u){const p=di(Lo(!1),ns(u));if(p===0)return;const b=this.value.rawValue,[P,Q,he,Re]=b.getComponents("hsv");this.value.setRawValue(new vt([P+p,Q,he,Re],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(u){di(Lo(!1),ns(u))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const S3=w("svp"),L5=64;class Nx{constructor(u,p){this.onValueChange_=this.onValueChange_.bind(this),this.value=p.value,this.value.emitter.on("change",this.onValueChange_),this.element=u.createElement("div"),this.element.classList.add(S3()),p.viewProps.bindTabIndex(this.element);const b=u.createElement("canvas");b.height=L5,b.width=L5,b.classList.add(S3("c")),this.element.appendChild(b),this.canvasElement=b;const P=u.createElement("div");P.classList.add(S3("m")),this.element.appendChild(P),this.markerElem_=P,this.update_()}update_(){const u=ne(this.canvasElement);if(!u)return;const b=this.value.rawValue.getComponents("hsv"),P=this.canvasElement.width,Q=this.canvasElement.height,he=u.getImageData(0,0,P,Q),Re=he.data;for(let Pt=0;Pt<Q;Pt++)for(let Rt=0;Rt<P;Rt++){const rs=jt(Rt,0,P,0,100),Ul=jt(Pt,0,Q,100,0),Vl=o5(b[0],rs,Ul),Ua=(Pt*P+Rt)*4;Re[Ua]=Vl[0],Re[Ua+1]=Vl[1],Re[Ua+2]=Vl[2],Re[Ua+3]=255}u.putImageData(he,0,0);const Ye=jt(b[1],0,100,0,100);this.markerElem_.style.left=`${Ye}%`;const ot=jt(b[2],0,100,100,0);this.markerElem_.style.top=`${ot}%`}onValueChange_(){this.update_()}}class zx{constructor(u,p){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=p.value,this.viewProps=p.viewProps,this.view=new Nx(u,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Co(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(u,p){if(!u.point)return;const b=jt(u.point.x,0,u.bounds.width,0,100),P=jt(u.point.y,0,u.bounds.height,100,0),[Q,,,he]=this.value.rawValue.getComponents("hsv");this.value.setRawValue(new vt([Q,b,P,he],"hsv"),p)}onPointerDown_(u){this.handlePointerEvent_(u.data,{forceEmit:!1,last:!1})}onPointerMove_(u){this.handlePointerEvent_(u.data,{forceEmit:!1,last:!1})}onPointerUp_(u){this.handlePointerEvent_(u.data,{forceEmit:!0,last:!0})}onKeyDown_(u){t5(u.key)&&u.preventDefault();const[p,b,P,Q]=this.value.rawValue.getComponents("hsv"),he=Lo(!1),Re=di(he,ns(u)),Ye=di(he,Ol(u));Re===0&&Ye===0||this.value.setRawValue(new vt([p,b+Re,P+Ye,Q],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(u){const p=Lo(!1),b=di(p,ns(u)),P=di(p,Ol(u));b===0&&P===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class Bx{constructor(u,p){this.value=p.value,this.viewProps=p.viewProps,this.hPaletteC_=new Fx(u,{value:this.value,viewProps:this.viewProps}),this.svPaletteC_=new zx(u,{value:this.value,viewProps:this.viewProps}),this.alphaIcs_=p.supportsAlpha?{palette:new Px(u,{value:this.value,viewProps:this.viewProps}),text:new Fl(u,{parser:ts,baseStep:.1,props:V.fromObject({draggingScale:.01,formatter:Fn(2)}),value:W(0,{constraint:new Da({min:0,max:1})}),viewProps:this.viewProps})}:null,this.alphaIcs_&&kl({primary:this.value,secondary:this.alphaIcs_.text.value,forward:b=>b.rawValue.getComponents()[3],backward:(b,P)=>{const Q=b.rawValue.getComponents();return Q[3]=P.rawValue,new vt(Q,b.rawValue.mode)}}),this.textC_=new kx(u,{colorType:p.colorType,parser:ts,value:this.value,viewProps:this.viewProps}),this.view=new dx(u,{alphaViews:this.alphaIcs_?{palette:this.alphaIcs_.palette.view,text:this.alphaIcs_.text.view}:null,hPaletteView:this.hPaletteC_.view,supportsAlpha:p.supportsAlpha,svPaletteView:this.svPaletteC_.view,textView:this.textC_.view})}get textController(){return this.textC_}}const M3=w("colsw");class Ux{constructor(u,p){this.onValueChange_=this.onValueChange_.bind(this),p.value.emitter.on("change",this.onValueChange_),this.value=p.value,this.element=u.createElement("div"),this.element.classList.add(M3()),p.viewProps.bindClassModifiers(this.element);const b=u.createElement("div");b.classList.add(M3("sw")),this.element.appendChild(b),this.swatchElem_=b;const P=u.createElement("button");P.classList.add(M3("b")),p.viewProps.bindDisabled(P),this.element.appendChild(P),this.buttonElement=P,this.update_()}update_(){const u=this.value.rawValue;this.swatchElem_.style.backgroundColor=x3(u)}onValueChange_(){this.update_()}}class Vx{constructor(u,p){this.value=p.value,this.viewProps=p.viewProps,this.view=new Ux(u,{value:this.value,viewProps:this.viewProps})}}class E3{constructor(u,p){this.onButtonBlur_=this.onButtonBlur_.bind(this),this.onButtonClick_=this.onButtonClick_.bind(this),this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.value=p.value,this.viewProps=p.viewProps,this.foldable_=Le.create(p.expanded),this.swatchC_=new Vx(u,{value:this.value,viewProps:this.viewProps});const b=this.swatchC_.view.buttonElement;b.addEventListener("blur",this.onButtonBlur_),b.addEventListener("click",this.onButtonClick_),this.textC_=new b0(u,{parser:p.parser,props:V.fromObject({formatter:p.formatter}),value:this.value,viewProps:this.viewProps}),this.view=new ix(u,{foldable:this.foldable_,pickerLayout:p.pickerLayout}),this.view.swatchElement.appendChild(this.swatchC_.view.element),this.view.textElement.appendChild(this.textC_.view.element),this.popC_=p.pickerLayout==="popup"?new j4(u,{viewProps:this.viewProps}):null;const P=new Bx(u,{colorType:p.colorType,supportsAlpha:p.supportsAlpha,value:this.value,viewProps:this.viewProps});P.view.allFocusableElements.forEach(Q=>{Q.addEventListener("blur",this.onPopupChildBlur_),Q.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=P,this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(P.view.element),kl({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:Q=>Q.rawValue,backward:(Q,he)=>he.rawValue})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),He(this.foldable_,this.view.pickerElement))}get textController(){return this.textC_}onButtonBlur_(u){if(!this.popC_)return;const p=this.view.element,b=u.relatedTarget;(!b||!p.contains(b))&&(this.popC_.shows.rawValue=!1)}onButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(u){if(!this.popC_)return;const p=this.popC_.view.element,b=D(u);b&&p.contains(b)||b&&b===this.swatchC_.view.buttonElement&&!I(p.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(u){this.popC_?u.key==="Escape"&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&u.key==="Escape"&&this.swatchC_.view.buttonElement.focus()}}function Hx(g,u){return vt.isColorObject(g)?vt.fromObject(g,u):vt.black(u)}function Gx(g){return Po(g.getComponents("rgb")).reduce((u,p)=>u<<8|Math.floor(p)&255,0)}function Wx(g){return g.getComponents("rgb").reduce((u,p,b)=>{const P=Math.floor(b===3?p*255:p)&255;return u<<8|P},0)>>>0}function jx(g){return new vt([g>>16&255,g>>8&255,g&255],"rgb")}function qx(g){return new vt([g>>24&255,g>>16&255,g>>8&255,jt(g&255,0,255,0,1)],"rgb")}function Xx(g){return typeof g!="number"?vt.black():jx(g)}function $x(g){return typeof g!="number"?vt.black():qx(g)}function Kx(g){const u=b3(g);return u?(p,b)=>{Nl(p,u(b))}:null}function Yx(g){const u=g?Wx:Gx;return(p,b)=>{Nl(p,u(b))}}function Zx(g,u,p){const b=u.toRgbaObject(p);g.writeProperty("r",b.r),g.writeProperty("g",b.g),g.writeProperty("b",b.b),g.writeProperty("a",b.a)}function Qx(g,u,p){const b=u.toRgbaObject(p);g.writeProperty("r",b.r),g.writeProperty("g",b.g),g.writeProperty("b",b.b)}function Jx(g,u){return(p,b)=>{g?Zx(p,b,u):Qx(p,b,u)}}function T3(g){var u;return!!((g==null?void 0:g.alpha)||((u=g==null?void 0:g.color)===null||u===void 0?void 0:u.alpha))}function eb(g){return g?u=>x3(u,"0x"):u=>T5(u,"0x")}function tb(g){return"color"in g||"view"in g&&g.view==="color"}const nb={id:"input-color-number",type:"input",accept:(g,u)=>{if(typeof g!="number"||!tb(u))return null;const p=g3(u);return p?{initialValue:g,params:p}:null},binding:{reader:g=>T3(g.params)?$x:Xx,equals:vt.equals,writer:g=>Yx(T3(g.params))},controller:g=>{const u=T3(g.params),p="expanded"in g.params?g.params.expanded:void 0,b="picker"in g.params?g.params.picker:void 0;return new E3(g.document,{colorType:"int",expanded:p!=null?p:!1,formatter:eb(u),parser:v3("int"),pickerLayout:b!=null?b:"popup",supportsAlpha:u,value:g.value,viewProps:g.viewProps})}};function ib(g){return vt.isRgbaColorObject(g)}function rb(g){return u=>Hx(u,g)}function sb(g,u){return p=>g?P5(p,u):A5(p,u)}const ob={id:"input-color-object",type:"input",accept:(g,u)=>{if(!vt.isColorObject(g))return null;const p=g3(u);return p?{initialValue:g,params:p}:null},binding:{reader:g=>rb(Ro(g.params)),equals:vt.equals,writer:g=>Jx(ib(g.initialValue),Ro(g.params))},controller:g=>{var u;const p=vt.isRgbaColorObject(g.initialValue),b="expanded"in g.params?g.params.expanded:void 0,P="picker"in g.params?g.params.picker:void 0,Q=(u=Ro(g.params))!==null&&u!==void 0?u:"int";return new E3(g.document,{colorType:Q,expanded:b!=null?b:!1,formatter:sb(p,Q),parser:v3(Q),pickerLayout:P!=null?P:"popup",supportsAlpha:p,value:g.value,viewProps:g.viewProps})}},ab={id:"input-color-string",type:"input",accept:(g,u)=>{if(typeof g!="string"||"view"in u&&u.view==="text")return null;const p=_3(g,Ro(u));if(!p||!b3(p))return null;const P=g3(u);return P?{initialValue:g,params:P}:null},binding:{reader:g=>{var u;return bx((u=Ro(g.params))!==null&&u!==void 0?u:"int")},equals:vt.equals,writer:g=>{const u=_3(g.initialValue,Ro(g.params));if(!u)throw _.shouldNeverHappen();const p=Kx(u);if(!p)throw _.notBindable();return p}},controller:g=>{const u=_3(g.initialValue,Ro(g.params));if(!u)throw _.shouldNeverHappen();const p=b3(u);if(!p)throw _.shouldNeverHappen();const b="expanded"in g.params?g.params.expanded:void 0,P="picker"in g.params?g.params.picker:void 0;return new E3(g.document,{colorType:u.type,expanded:b!=null?b:!1,formatter:p,parser:v3(u.type),pickerLayout:P!=null?P:"popup",supportsAlpha:u.alpha,value:g.value,viewProps:g.viewProps})}};class ks{constructor(u){this.components=u.components,this.asm_=u.assembly}constrain(u){const p=this.asm_.toComponents(u).map((b,P)=>{var Q,he;return(he=(Q=this.components[P])===null||Q===void 0?void 0:Q.constrain(b))!==null&&he!==void 0?he:b});return this.asm_.fromComponents(p)}}const R5=w("pndtxt");class lb{constructor(u,p){this.textViews=p.textViews,this.element=u.createElement("div"),this.element.classList.add(R5()),this.textViews.forEach(b=>{const P=u.createElement("div");P.classList.add(R5("a")),P.appendChild(b.element),this.element.appendChild(P)})}}function cb(g,u,p){return new Fl(g,{arrayPosition:p===0?"fst":p===u.axes.length-1?"lst":"mid",baseStep:u.axes[p].baseStep,parser:u.parser,props:u.axes[p].textProps,value:W(0,{constraint:u.axes[p].constraint}),viewProps:u.viewProps})}class C3{constructor(u,p){this.value=p.value,this.viewProps=p.viewProps,this.acs_=p.axes.map((b,P)=>cb(u,p,P)),this.acs_.forEach((b,P)=>{kl({primary:this.value,secondary:b.value,forward:Q=>p.assembly.toComponents(Q.rawValue)[P],backward:(Q,he)=>{const Re=p.assembly.toComponents(Q.rawValue);return Re[P]=he.rawValue,p.assembly.fromComponents(Re)}})}),this.view=new lb(u,{textViews:this.acs_.map(b=>b.view)})}}function I5(g,u){return"step"in g&&!d(g.step)?new x0(g.step,u):null}function D5(g){return"max"in g&&!d(g.max)||"min"in g&&!d(g.min)?new Da({max:g.max,min:g.min}):null}function ub(g,u){const p=[],b=I5(g,u);b&&p.push(b);const P=D5(g);P&&p.push(P);const Q=p3(g.options);return Q&&p.push(Q),new Pl(p)}function hb(g){const u=g?Ir(g,Da):null;return u?[u.minValue,u.maxValue]:[void 0,void 0]}function db(g){const[u,p]=hb(g);return[u!=null?u:0,p!=null?p:100]}const fb={id:"input-number",type:"input",accept:(g,u)=>{if(typeof g!="number")return null;const p=pe,b=Ee(u,{format:p.optional.function,max:p.optional.number,min:p.optional.number,options:p.optional.custom(w0),step:p.optional.number});return b?{initialValue:g,params:b}:null},binding:{reader:g=>Q4,constraint:g=>ub(g.params,g.initialValue),writer:g=>Nl},controller:g=>{var u,p;const b=g.value,P=g.constraint;if(P&&Ir(P,Ll))return new Rl(g.document,{props:V.fromObject({options:(u=m3(P))!==null&&u!==void 0?u:[]}),value:b,viewProps:g.viewProps});const Q=(p="format"in g.params?g.params.format:void 0)!==null&&p!==void 0?p:Fn(S0(P,b.rawValue));if(P&&Ir(P,Da)){const[he,Re]=db(P);return new f3(g.document,{baseStep:ka(P),parser:ts,sliderProps:V.fromObject({maxValue:Re,minValue:he}),textProps:V.fromObject({draggingScale:Oa(P,b.rawValue),formatter:Q}),value:b,viewProps:g.viewProps})}return new Fl(g.document,{baseStep:ka(P),parser:ts,props:V.fromObject({draggingScale:Oa(P,b.rawValue),formatter:Q}),value:b,viewProps:g.viewProps})}};class Os{constructor(u=0,p=0){this.x=u,this.y=p}getComponents(){return[this.x,this.y]}static isObject(u){if(d(u))return!1;const p=u.x,b=u.y;return!(typeof p!="number"||typeof b!="number")}static equals(u,p){return u.x===p.x&&u.y===p.y}toObject(){return{x:this.x,y:this.y}}}const k5={toComponents:g=>g.getComponents(),fromComponents:g=>new Os(...g)},Na=w("p2d");class pb{constructor(u,p){this.element=u.createElement("div"),this.element.classList.add(Na()),p.viewProps.bindClassModifiers(this.element),A(p.expanded,L(this.element,Na(void 0,"expanded")));const b=u.createElement("div");b.classList.add(Na("h")),this.element.appendChild(b);const P=u.createElement("button");P.classList.add(Na("b")),P.appendChild(xe(u,"p2dpad")),p.viewProps.bindDisabled(P),b.appendChild(P),this.buttonElement=P;const Q=u.createElement("div");if(Q.classList.add(Na("t")),b.appendChild(Q),this.textElement=Q,p.pickerLayout==="inline"){const he=u.createElement("div");he.classList.add(Na("p")),this.element.appendChild(he),this.pickerElement=he}else this.pickerElement=null}}const Fs=w("p2dp");class mb{constructor(u,p){this.onFoldableChange_=this.onFoldableChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.invertsY_=p.invertsY,this.maxValue_=p.maxValue,this.element=u.createElement("div"),this.element.classList.add(Fs()),p.layout==="popup"&&this.element.classList.add(Fs(void 0,"p"));const b=u.createElement("div");b.classList.add(Fs("p")),p.viewProps.bindTabIndex(b),this.element.appendChild(b),this.padElement=b;const P=u.createElementNS(oe,"svg");P.classList.add(Fs("g")),this.padElement.appendChild(P),this.svgElem_=P;const Q=u.createElementNS(oe,"line");Q.classList.add(Fs("ax")),Q.setAttributeNS(null,"x1","0"),Q.setAttributeNS(null,"y1","50%"),Q.setAttributeNS(null,"x2","100%"),Q.setAttributeNS(null,"y2","50%"),this.svgElem_.appendChild(Q);const he=u.createElementNS(oe,"line");he.classList.add(Fs("ax")),he.setAttributeNS(null,"x1","50%"),he.setAttributeNS(null,"y1","0"),he.setAttributeNS(null,"x2","50%"),he.setAttributeNS(null,"y2","100%"),this.svgElem_.appendChild(he);const Re=u.createElementNS(oe,"line");Re.classList.add(Fs("l")),Re.setAttributeNS(null,"x1","50%"),Re.setAttributeNS(null,"y1","50%"),this.svgElem_.appendChild(Re),this.lineElem_=Re;const Ye=u.createElement("div");Ye.classList.add(Fs("m")),this.padElement.appendChild(Ye),this.markerElem_=Ye,p.value.emitter.on("change",this.onValueChange_),this.value=p.value,this.update_()}get allFocusableElements(){return[this.padElement]}update_(){const[u,p]=this.value.rawValue.getComponents(),b=this.maxValue_,P=jt(u,-b,+b,0,100),Q=jt(p,-b,+b,0,100),he=this.invertsY_?100-Q:Q;this.lineElem_.setAttributeNS(null,"x2",`${P}%`),this.lineElem_.setAttributeNS(null,"y2",`${he}%`),this.markerElem_.style.left=`${P}%`,this.markerElem_.style.top=`${he}%`}onValueChange_(){this.update_()}onFoldableChange_(){this.update_()}}function O5(g,u,p){return[di(u[0],ns(g)),di(u[1],Ol(g))*(p?1:-1)]}class gb{constructor(u,p){this.onPadKeyDown_=this.onPadKeyDown_.bind(this),this.onPadKeyUp_=this.onPadKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=p.value,this.viewProps=p.viewProps,this.baseSteps_=p.baseSteps,this.maxValue_=p.maxValue,this.invertsY_=p.invertsY,this.view=new mb(u,{invertsY:this.invertsY_,layout:p.layout,maxValue:this.maxValue_,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Co(this.view.padElement),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.padElement.addEventListener("keydown",this.onPadKeyDown_),this.view.padElement.addEventListener("keyup",this.onPadKeyUp_)}handlePointerEvent_(u,p){if(!u.point)return;const b=this.maxValue_,P=jt(u.point.x,0,u.bounds.width,-b,+b),Q=jt(this.invertsY_?u.bounds.height-u.point.y:u.point.y,0,u.bounds.height,-b,+b);this.value.setRawValue(new Os(P,Q),p)}onPointerDown_(u){this.handlePointerEvent_(u.data,{forceEmit:!1,last:!1})}onPointerMove_(u){this.handlePointerEvent_(u.data,{forceEmit:!1,last:!1})}onPointerUp_(u){this.handlePointerEvent_(u.data,{forceEmit:!0,last:!0})}onPadKeyDown_(u){t5(u.key)&&u.preventDefault();const[p,b]=O5(u,this.baseSteps_,this.invertsY_);p===0&&b===0||this.value.setRawValue(new Os(this.value.rawValue.x+p,this.value.rawValue.y+b),{forceEmit:!1,last:!1})}onPadKeyUp_(u){const[p,b]=O5(u,this.baseSteps_,this.invertsY_);p===0&&b===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class _b{constructor(u,p){var b,P;this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.onPadButtonBlur_=this.onPadButtonBlur_.bind(this),this.onPadButtonClick_=this.onPadButtonClick_.bind(this),this.value=p.value,this.viewProps=p.viewProps,this.foldable_=Le.create(p.expanded),this.popC_=p.pickerLayout==="popup"?new j4(u,{viewProps:this.viewProps}):null;const Q=new gb(u,{baseSteps:[p.axes[0].baseStep,p.axes[1].baseStep],invertsY:p.invertsY,layout:p.pickerLayout,maxValue:p.maxValue,value:this.value,viewProps:this.viewProps});Q.view.allFocusableElements.forEach(he=>{he.addEventListener("blur",this.onPopupChildBlur_),he.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=Q,this.textC_=new C3(u,{assembly:k5,axes:p.axes,parser:p.parser,value:this.value,viewProps:this.viewProps}),this.view=new pb(u,{expanded:this.foldable_.value("expanded"),pickerLayout:p.pickerLayout,viewProps:this.viewProps}),this.view.textElement.appendChild(this.textC_.view.element),(b=this.view.buttonElement)===null||b===void 0||b.addEventListener("blur",this.onPadButtonBlur_),(P=this.view.buttonElement)===null||P===void 0||P.addEventListener("click",this.onPadButtonClick_),this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(this.pickerC_.view.element),kl({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:he=>he.rawValue,backward:(he,Re)=>Re.rawValue})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),He(this.foldable_,this.view.pickerElement))}onPadButtonBlur_(u){if(!this.popC_)return;const p=this.view.element,b=u.relatedTarget;(!b||!p.contains(b))&&(this.popC_.shows.rawValue=!1)}onPadButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(u){if(!this.popC_)return;const p=this.popC_.view.element,b=D(u);b&&p.contains(b)||b&&b===this.view.buttonElement&&!I(p.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(u){this.popC_?u.key==="Escape"&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&u.key==="Escape"&&this.view.buttonElement.focus()}}function vb(g){return Os.isObject(g)?new Os(g.x,g.y):new Os}function xb(g,u){g.writeProperty("x",u.x),g.writeProperty("y",u.y)}function is(g,u){if(!g)return;const p=[],b=I5(g,u);b&&p.push(b);const P=D5(g);return P&&p.push(P),new Pl(p)}function bb(g,u){return new ks({assembly:k5,components:[is("x"in g?g.x:void 0,u.x),is("y"in g?g.y:void 0,u.y)]})}function F5(g,u){var p,b;const P=g&&Ir(g,Da);if(P)return Math.max(Math.abs((p=P.minValue)!==null&&p!==void 0?p:0),Math.abs((b=P.maxValue)!==null&&b!==void 0?b:0));const Q=ka(g);return Math.max(Math.abs(Q)*10,Math.abs(u)*10)}function yb(g,u){const p=u instanceof ks?u.components[0]:void 0,b=u instanceof ks?u.components[1]:void 0,P=F5(p,g.x),Q=F5(b,g.y);return Math.max(P,Q)}function N5(g,u){return{baseStep:ka(u),constraint:u,textProps:V.fromObject({draggingScale:Oa(u,g),formatter:Fn(S0(u,g))})}}function wb(g){if(!("y"in g))return!1;const u=g.y;return u&&"inverted"in u?!!u.inverted:!1}const Sb={id:"input-point2d",type:"input",accept:(g,u)=>{if(!Os.isObject(g))return null;const p=pe,b=Ee(u,{expanded:p.optional.boolean,picker:p.optional.custom(r5),x:p.optional.custom(Is),y:p.optional.object({inverted:p.optional.boolean,max:p.optional.number,min:p.optional.number,step:p.optional.number})});return b?{initialValue:g,params:b}:null},binding:{reader:g=>vb,constraint:g=>bb(g.params,g.initialValue),equals:Os.equals,writer:g=>xb},controller:g=>{const u=g.document,p=g.value,b=g.constraint;if(!(b instanceof ks))throw _.shouldNeverHappen();const P="expanded"in g.params?g.params.expanded:void 0,Q="picker"in g.params?g.params.picker:void 0;return new _b(u,{axes:[N5(p.rawValue.x,b.components[0]),N5(p.rawValue.y,b.components[1])],expanded:P!=null?P:!1,invertsY:wb(g.params),maxValue:yb(p.rawValue,b),parser:ts,pickerLayout:Q!=null?Q:"popup",value:p,viewProps:g.viewProps})}};class za{constructor(u=0,p=0,b=0){this.x=u,this.y=p,this.z=b}getComponents(){return[this.x,this.y,this.z]}static isObject(u){if(d(u))return!1;const p=u.x,b=u.y,P=u.z;return!(typeof p!="number"||typeof b!="number"||typeof P!="number")}static equals(u,p){return u.x===p.x&&u.y===p.y&&u.z===p.z}toObject(){return{x:this.x,y:this.y,z:this.z}}}const z5={toComponents:g=>g.getComponents(),fromComponents:g=>new za(...g)};function Mb(g){return za.isObject(g)?new za(g.x,g.y,g.z):new za}function Eb(g,u){g.writeProperty("x",u.x),g.writeProperty("y",u.y),g.writeProperty("z",u.z)}function Tb(g,u){return new ks({assembly:z5,components:[is("x"in g?g.x:void 0,u.x),is("y"in g?g.y:void 0,u.y),is("z"in g?g.z:void 0,u.z)]})}function A3(g,u){return{baseStep:ka(u),constraint:u,textProps:V.fromObject({draggingScale:Oa(u,g),formatter:Fn(S0(u,g))})}}const Cb={id:"input-point3d",type:"input",accept:(g,u)=>{if(!za.isObject(g))return null;const p=pe,b=Ee(u,{x:p.optional.custom(Is),y:p.optional.custom(Is),z:p.optional.custom(Is)});return b?{initialValue:g,params:b}:null},binding:{reader:g=>Mb,constraint:g=>Tb(g.params,g.initialValue),equals:za.equals,writer:g=>Eb},controller:g=>{const u=g.value,p=g.constraint;if(!(p instanceof ks))throw _.shouldNeverHappen();return new C3(g.document,{assembly:z5,axes:[A3(u.rawValue.x,p.components[0]),A3(u.rawValue.y,p.components[1]),A3(u.rawValue.z,p.components[2])],parser:ts,value:u,viewProps:g.viewProps})}};class Ba{constructor(u=0,p=0,b=0,P=0){this.x=u,this.y=p,this.z=b,this.w=P}getComponents(){return[this.x,this.y,this.z,this.w]}static isObject(u){if(d(u))return!1;const p=u.x,b=u.y,P=u.z,Q=u.w;return!(typeof p!="number"||typeof b!="number"||typeof P!="number"||typeof Q!="number")}static equals(u,p){return u.x===p.x&&u.y===p.y&&u.z===p.z&&u.w===p.w}toObject(){return{x:this.x,y:this.y,z:this.z,w:this.w}}}const B5={toComponents:g=>g.getComponents(),fromComponents:g=>new Ba(...g)};function Ab(g){return Ba.isObject(g)?new Ba(g.x,g.y,g.z,g.w):new Ba}function Pb(g,u){g.writeProperty("x",u.x),g.writeProperty("y",u.y),g.writeProperty("z",u.z),g.writeProperty("w",u.w)}function Lb(g,u){return new ks({assembly:B5,components:[is("x"in g?g.x:void 0,u.x),is("y"in g?g.y:void 0,u.y),is("z"in g?g.z:void 0,u.z),is("w"in g?g.w:void 0,u.w)]})}function Rb(g,u){return{baseStep:ka(u),constraint:u,textProps:V.fromObject({draggingScale:Oa(u,g),formatter:Fn(S0(u,g))})}}const Ib={id:"input-point4d",type:"input",accept:(g,u)=>{if(!Ba.isObject(g))return null;const p=pe,b=Ee(u,{x:p.optional.custom(Is),y:p.optional.custom(Is),z:p.optional.custom(Is),w:p.optional.custom(Is)});return b?{initialValue:g,params:b}:null},binding:{reader:g=>Ab,constraint:g=>Lb(g.params,g.initialValue),equals:Ba.equals,writer:g=>Pb},controller:g=>{const u=g.value,p=g.constraint;if(!(p instanceof ks))throw _.shouldNeverHappen();return new C3(g.document,{assembly:B5,axes:u.rawValue.getComponents().map((b,P)=>Rb(b,p.components[P])),parser:ts,value:u,viewProps:g.viewProps})}};function Db(g){const u=[],p=p3(g.options);return p&&u.push(p),new Pl(u)}const kb={id:"input-string",type:"input",accept:(g,u)=>{if(typeof g!="string")return null;const b=Ee(u,{options:pe.optional.custom(w0)});return b?{initialValue:g,params:b}:null},binding:{reader:g=>J4,constraint:g=>Db(g.params),writer:g=>Nl},controller:g=>{var u;const p=g.document,b=g.value,P=g.constraint;return P&&Ir(P,Ll)?new Rl(p,{props:V.fromObject({options:(u=m3(P))!==null&&u!==void 0?u:[]}),value:b,viewProps:g.viewProps}):new b0(p,{parser:Q=>Q,props:V.fromObject({formatter:c3}),value:b,viewProps:g.viewProps})}},Bl={monitor:{defaultInterval:200,defaultLineCount:3}},U5=w("mll");class Ob{constructor(u,p){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=p.formatter,this.element=u.createElement("div"),this.element.classList.add(U5()),p.viewProps.bindClassModifiers(this.element);const b=u.createElement("textarea");b.classList.add(U5("i")),b.style.height=`calc(var(--bld-us) * ${p.lineCount})`,b.readOnly=!0,p.viewProps.bindDisabled(b),this.element.appendChild(b),this.textareaElem_=b,p.value.emitter.on("change",this.onValueUpdate_),this.value=p.value,this.update_()}update_(){const u=this.textareaElem_,p=u.scrollTop===u.scrollHeight-u.clientHeight,b=[];this.value.rawValue.forEach(P=>{P!==void 0&&b.push(this.formatter_(P))}),u.textContent=b.join(`
`),p&&(u.scrollTop=u.scrollHeight)}onValueUpdate_(){this.update_()}}class P3{constructor(u,p){this.value=p.value,this.viewProps=p.viewProps,this.view=new Ob(u,{formatter:p.formatter,lineCount:p.lineCount,value:this.value,viewProps:this.viewProps})}}const V5=w("sgl");class Fb{constructor(u,p){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=p.formatter,this.element=u.createElement("div"),this.element.classList.add(V5()),p.viewProps.bindClassModifiers(this.element);const b=u.createElement("input");b.classList.add(V5("i")),b.readOnly=!0,b.type="text",p.viewProps.bindDisabled(b),this.element.appendChild(b),this.inputElement=b,p.value.emitter.on("change",this.onValueUpdate_),this.value=p.value,this.update_()}update_(){const u=this.value.rawValue,p=u[u.length-1];this.inputElement.value=p!==void 0?this.formatter_(p):""}onValueUpdate_(){this.update_()}}class L3{constructor(u,p){this.value=p.value,this.viewProps=p.viewProps,this.view=new Fb(u,{formatter:p.formatter,value:this.value,viewProps:this.viewProps})}}const Nb={id:"monitor-bool",type:"monitor",accept:(g,u)=>{if(typeof g!="boolean")return null;const b=Ee(u,{lineCount:pe.optional.number});return b?{initialValue:g,params:b}:null},binding:{reader:g=>X4},controller:g=>{var u;return g.value.rawValue.length===1?new L3(g.document,{formatter:$4,value:g.value,viewProps:g.viewProps}):new P3(g.document,{formatter:$4,lineCount:(u=g.params.lineCount)!==null&&u!==void 0?u:Bl.monitor.defaultLineCount,value:g.value,viewProps:g.viewProps})}},Ns=w("grl");class zb{constructor(u,p){this.onCursorChange_=this.onCursorChange_.bind(this),this.onValueUpdate_=this.onValueUpdate_.bind(this),this.element=u.createElement("div"),this.element.classList.add(Ns()),p.viewProps.bindClassModifiers(this.element),this.formatter_=p.formatter,this.props_=p.props,this.cursor_=p.cursor,this.cursor_.emitter.on("change",this.onCursorChange_);const b=u.createElementNS(oe,"svg");b.classList.add(Ns("g")),b.style.height=`calc(var(--bld-us) * ${p.lineCount})`,this.element.appendChild(b),this.svgElem_=b;const P=u.createElementNS(oe,"polyline");this.svgElem_.appendChild(P),this.lineElem_=P;const Q=u.createElement("div");Q.classList.add(Ns("t"),w("tt")()),this.element.appendChild(Q),this.tooltipElem_=Q,p.value.emitter.on("change",this.onValueUpdate_),this.value=p.value,this.update_()}get graphElement(){return this.svgElem_}update_(){const u=this.svgElem_.getBoundingClientRect(),p=this.value.rawValue.length-1,b=this.props_.get("minValue"),P=this.props_.get("maxValue"),Q=[];this.value.rawValue.forEach((Pt,Rt)=>{if(Pt===void 0)return;const rs=jt(Rt,0,p,0,u.width),Ul=jt(Pt,b,P,u.height,0);Q.push([rs,Ul].join(","))}),this.lineElem_.setAttributeNS(null,"points",Q.join(" "));const he=this.tooltipElem_,Re=this.value.rawValue[this.cursor_.rawValue];if(Re===void 0){he.classList.remove(Ns("t","a"));return}const Ye=jt(this.cursor_.rawValue,0,p,0,u.width),ot=jt(Re,b,P,u.height,0);he.style.left=`${Ye}px`,he.style.top=`${ot}px`,he.textContent=`${this.formatter_(Re)}`,he.classList.contains(Ns("t","a"))||(he.classList.add(Ns("t","a"),Ns("t","in")),ve(he),he.classList.remove(Ns("t","in")))}onValueUpdate_(){this.update_()}onCursorChange_(){this.update_()}}class Bb{constructor(u,p){if(this.onGraphMouseMove_=this.onGraphMouseMove_.bind(this),this.onGraphMouseLeave_=this.onGraphMouseLeave_.bind(this),this.onGraphPointerDown_=this.onGraphPointerDown_.bind(this),this.onGraphPointerMove_=this.onGraphPointerMove_.bind(this),this.onGraphPointerUp_=this.onGraphPointerUp_.bind(this),this.props_=p.props,this.value=p.value,this.viewProps=p.viewProps,this.cursor_=W(-1),this.view=new zb(u,{cursor:this.cursor_,formatter:p.formatter,lineCount:p.lineCount,props:this.props_,value:this.value,viewProps:this.viewProps}),!I(u))this.view.element.addEventListener("mousemove",this.onGraphMouseMove_),this.view.element.addEventListener("mouseleave",this.onGraphMouseLeave_);else{const b=new Co(this.view.element);b.emitter.on("down",this.onGraphPointerDown_),b.emitter.on("move",this.onGraphPointerMove_),b.emitter.on("up",this.onGraphPointerUp_)}}onGraphMouseLeave_(){this.cursor_.rawValue=-1}onGraphMouseMove_(u){const p=this.view.element.getBoundingClientRect();this.cursor_.rawValue=Math.floor(jt(u.offsetX,0,p.width,0,this.value.rawValue.length))}onGraphPointerDown_(u){this.onGraphPointerMove_(u)}onGraphPointerMove_(u){if(!u.data.point){this.cursor_.rawValue=-1;return}this.cursor_.rawValue=Math.floor(jt(u.data.point.x,0,u.data.bounds.width,0,this.value.rawValue.length))}onGraphPointerUp_(){this.cursor_.rawValue=-1}}function R3(g){return"format"in g&&!d(g.format)?g.format:Fn(2)}function Ub(g){var u;return g.value.rawValue.length===1?new L3(g.document,{formatter:R3(g.params),value:g.value,viewProps:g.viewProps}):new P3(g.document,{formatter:R3(g.params),lineCount:(u=g.params.lineCount)!==null&&u!==void 0?u:Bl.monitor.defaultLineCount,value:g.value,viewProps:g.viewProps})}function Vb(g){var u,p,b;return new Bb(g.document,{formatter:R3(g.params),lineCount:(u=g.params.lineCount)!==null&&u!==void 0?u:Bl.monitor.defaultLineCount,props:V.fromObject({maxValue:(p="max"in g.params?g.params.max:null)!==null&&p!==void 0?p:100,minValue:(b="min"in g.params?g.params.min:null)!==null&&b!==void 0?b:0}),value:g.value,viewProps:g.viewProps})}function H5(g){return"view"in g&&g.view==="graph"}const Hb={id:"monitor-number",type:"monitor",accept:(g,u)=>{if(typeof g!="number")return null;const p=pe,b=Ee(u,{format:p.optional.function,lineCount:p.optional.number,max:p.optional.number,min:p.optional.number,view:p.optional.string});return b?{initialValue:g,params:b}:null},binding:{defaultBufferSize:g=>H5(g)?64:1,reader:g=>Q4},controller:g=>H5(g.params)?Vb(g):Ub(g)},Gb={id:"monitor-string",type:"monitor",accept:(g,u)=>{if(typeof g!="string")return null;const p=pe,b=Ee(u,{lineCount:p.optional.number,multiline:p.optional.boolean});return b?{initialValue:g,params:b}:null},binding:{reader:g=>J4},controller:g=>{var u;const p=g.value;return p.rawValue.length>1||"multiline"in g.params&&g.params.multiline?new P3(g.document,{formatter:c3,lineCount:(u=g.params.lineCount)!==null&&u!==void 0?u:Bl.monitor.defaultLineCount,value:p,viewProps:g.viewProps}):new L3(g.document,{formatter:c3,value:p,viewProps:g.viewProps})}};class Wb{constructor(u){this.onValueChange_=this.onValueChange_.bind(this),this.reader=u.reader,this.writer=u.writer,this.emitter=new y,this.value=u.value,this.value.emitter.on("change",this.onValueChange_),this.target=u.target,this.read()}read(){const u=this.target.read();u!==void 0&&(this.value.rawValue=this.reader(u))}write_(u){this.writer(this.target,u)}onValueChange_(u){this.write_(u.rawValue),this.emitter.emit("change",{options:u.options,rawValue:u.rawValue,sender:this})}}function jb(g,u){const p=g.accept(u.target.read(),u.params);if(d(p))return null;const b=pe,P={target:u.target,initialValue:p.initialValue,params:p.params},Q=g.binding.reader(P),he=g.binding.constraint?g.binding.constraint(P):void 0,Re=W(Q(p.initialValue),{constraint:he,equals:g.binding.equals}),Ye=new Wb({reader:Q,target:u.target,value:Re,writer:g.binding.writer(P)}),ot=b.optional.boolean(u.params.disabled).value,Pt=b.optional.boolean(u.params.hidden).value,Rt=g.controller({constraint:he,document:u.document,initialValue:p.initialValue,params:p.params,value:Ye.value,viewProps:Ht.create({disabled:ot,hidden:Pt})}),rs=b.optional.string(u.params.label).value;return new ke(u.document,{binding:Ye,blade:ae(),props:V.fromObject({label:rs!=null?rs:u.target.key}),valueController:Rt})}class qb{constructor(u){this.onTick_=this.onTick_.bind(this),this.reader_=u.reader,this.target=u.target,this.emitter=new y,this.value=u.value,this.ticker=u.ticker,this.ticker.emitter.on("tick",this.onTick_),this.read()}dispose(){this.ticker.dispose()}read(){const u=this.target.read();if(u===void 0)return;const p=this.value.rawValue,b=this.reader_(u);this.value.rawValue=qv(p,b),this.emitter.emit("update",{rawValue:b,sender:this})}onTick_(u){this.read()}}function Xb(g,u){return u===0?new v0:new hv(g,u!=null?u:Bl.monitor.defaultInterval)}function $b(g,u){var p,b,P;const Q=pe,he=g.accept(u.target.read(),u.params);if(d(he))return null;const Re={target:u.target,initialValue:he.initialValue,params:he.params},Ye=g.binding.reader(Re),ot=(b=(p=Q.optional.number(u.params.bufferSize).value)!==null&&p!==void 0?p:g.binding.defaultBufferSize&&g.binding.defaultBufferSize(he.params))!==null&&b!==void 0?b:1,Pt=Q.optional.number(u.params.interval).value,Rt=new qb({reader:Ye,target:u.target,ticker:Xb(u.document,Pt),value:Wv(ot)}),rs=Q.optional.boolean(u.params.disabled).value,Ul=Q.optional.boolean(u.params.hidden).value,Vl=g.controller({document:u.document,params:he.params,value:Rt.value,viewProps:Ht.create({disabled:rs,hidden:Ul})}),Ua=(P=Q.optional.string(u.params.label).value)!==null&&P!==void 0?P:u.target.key;return new it(u.document,{binding:Rt,blade:ae(),props:V.fromObject({label:Ua}),valueController:Vl})}class Kb{constructor(){this.pluginsMap_={blades:[],inputs:[],monitors:[]}}getAll(){return[...this.pluginsMap_.blades,...this.pluginsMap_.inputs,...this.pluginsMap_.monitors]}register(u){u.type==="blade"?this.pluginsMap_.blades.unshift(u):u.type==="input"?this.pluginsMap_.inputs.unshift(u):u.type==="monitor"&&this.pluginsMap_.monitors.unshift(u)}createInput(u,p,b){const P=p.read();if(d(P))throw new _({context:{key:p.key},type:"nomatchingcontroller"});const Q=this.pluginsMap_.inputs.reduce((he,Re)=>he!=null?he:jb(Re,{document:u,target:p,params:b}),null);if(Q)return Q;throw new _({context:{key:p.key},type:"nomatchingcontroller"})}createMonitor(u,p,b){const P=this.pluginsMap_.monitors.reduce((Q,he)=>Q!=null?Q:$b(he,{document:u,params:b,target:p}),null);if(P)return P;throw new _({context:{key:p.key},type:"nomatchingcontroller"})}createBlade(u,p){const b=this.pluginsMap_.blades.reduce((P,Q)=>P!=null?P:s3(Q,{document:u,params:p}),null);if(!b)throw new _({type:"nomatchingview",context:{params:p}});return b}createBladeApi(u){if(u instanceof ke)return new Ae(u);if(u instanceof it)return new We(u);if(u instanceof ce)return new we(u,this);const p=this.pluginsMap_.blades.reduce((b,P)=>b!=null?b:P.api({controller:u,pool:this}),null);if(!p)throw _.shouldNeverHappen();return p}}function Yb(){const g=new Kb;return[Sb,Cb,Ib,kb,fb,ab,ob,nb,nx,Nb,Gb,Hb,Pe,qe,Ti,Ia].forEach(u=>{g.register(u)}),g}class G5 extends i{constructor(u){super(u),this.emitter_=new y,this.controller_.valueController.value.emitter.on("change",p=>{this.emitter_.emit("change",{event:new o(this,p.rawValue)})})}get label(){return this.controller_.props.get("label")}set label(u){this.controller_.props.set("label",u)}get options(){return this.controller_.valueController.props.get("options")}set options(u){this.controller_.valueController.props.set("options",u)}get value(){return this.controller_.valueController.value.rawValue}set value(u){this.controller_.valueController.value.rawValue=u}on(u,p){const b=p.bind(this);return this.emitter_.on(u,P=>{b(P.event)}),this}}class W5 extends i{constructor(u){super(u),this.emitter_=new y,this.controller_.valueController.value.emitter.on("change",p=>{this.emitter_.emit("change",{event:new o(this,p.rawValue)})})}get label(){return this.controller_.props.get("label")}set label(u){this.controller_.props.set("label",u)}get maxValue(){return this.controller_.valueController.sliderController.props.get("maxValue")}set maxValue(u){this.controller_.valueController.sliderController.props.set("maxValue",u)}get minValue(){return this.controller_.valueController.sliderController.props.get("minValue")}set minValue(u){this.controller_.valueController.sliderController.props.set("minValue",u)}get value(){return this.controller_.valueController.value.rawValue}set value(u){this.controller_.valueController.value.rawValue=u}on(u,p){const b=p.bind(this);return this.emitter_.on(u,P=>{b(P.event)}),this}}class j5 extends i{constructor(u){super(u),this.emitter_=new y,this.controller_.valueController.value.emitter.on("change",p=>{this.emitter_.emit("change",{event:new o(this,p.rawValue)})})}get label(){return this.controller_.props.get("label")}set label(u){this.controller_.props.set("label",u)}get formatter(){return this.controller_.valueController.props.get("formatter")}set formatter(u){this.controller_.valueController.props.set("formatter",u)}get value(){return this.controller_.valueController.value.rawValue}set value(u){this.controller_.valueController.value.rawValue=u}on(u,p){const b=p.bind(this);return this.emitter_.on(u,P=>{b(P.event)}),this}}const Zb=function(){return{id:"list",type:"blade",accept(g){const u=pe,p=Ee(g,{options:u.required.custom(w0),value:u.required.raw,view:u.required.constant("list"),label:u.optional.string});return p?{params:p}:null},controller(g){const u=new Rl(g.document,{props:V.fromObject({options:s5(g.params.options)}),value:W(g.params.value),viewProps:g.viewProps});return new Qe(g.document,{blade:g.blade,props:V.fromObject({label:g.params.label}),valueController:u})},api(g){return!(g.controller instanceof Qe)||!(g.controller.valueController instanceof Rl)?null:new G5(g.controller)}}}();function Qb(g){return g.reduce((u,p)=>Object.assign(u,{[p.presetKey]:p.read()}),{})}function Jb(g,u){g.forEach(p=>{const b=u[p.presetKey];b!==void 0&&p.write(b)})}class ey extends Ve{constructor(u,p){super(u,p)}get element(){return this.controller_.view.element}importPreset(u){const p=this.controller_.rackController.rack.find(ke).map(b=>b.binding.target);Jb(p,u),this.refresh()}exportPreset(){const u=this.controller_.rackController.rack.find(ke).map(p=>p.binding.target);return Qb(u)}refresh(){this.controller_.rackController.rack.find(ke).forEach(u=>{u.binding.read()}),this.controller_.rackController.rack.find(it).forEach(u=>{u.binding.read()})}}class ty extends Ge{constructor(u,p){super(u,{expanded:p.expanded,blade:p.blade,props:p.props,root:!0,viewProps:p.viewProps})}}const ny={id:"slider",type:"blade",accept(g){const u=pe,p=Ee(g,{max:u.required.number,min:u.required.number,view:u.required.constant("slider"),format:u.optional.function,label:u.optional.string,value:u.optional.number});return p?{params:p}:null},controller(g){var u,p;const b=(u=g.params.value)!==null&&u!==void 0?u:0,P=new f3(g.document,{baseStep:1,parser:ts,sliderProps:V.fromObject({maxValue:g.params.max,minValue:g.params.min}),textProps:V.fromObject({draggingScale:Oa(void 0,b),formatter:(p=g.params.format)!==null&&p!==void 0?p:Hv}),value:W(b),viewProps:g.viewProps});return new Qe(g.document,{blade:g.blade,props:V.fromObject({label:g.params.label}),valueController:P})},api(g){return!(g.controller instanceof Qe)||!(g.controller.valueController instanceof f3)?null:new W5(g.controller)}},iy=function(){return{id:"text",type:"blade",accept(g){const u=pe,p=Ee(g,{parse:u.required.function,value:u.required.raw,view:u.required.constant("text"),format:u.optional.function,label:u.optional.string});return p?{params:p}:null},controller(g){var u;const p=new b0(g.document,{parser:g.params.parse,props:V.fromObject({formatter:(u=g.params.format)!==null&&u!==void 0?u:b=>String(b)}),value:W(g.params.value),viewProps:g.viewProps});return new Qe(g.document,{blade:g.blade,props:V.fromObject({label:g.params.label}),valueController:p})},api(g){return!(g.controller instanceof Qe)||!(g.controller.valueController instanceof b0)?null:new j5(g.controller)}}}();function ry(g){const u=g.createElement("div");return u.classList.add(w("dfw")()),g.body&&g.body.appendChild(u),u}function q5(g,u,p){if(g.querySelector(`style[data-tp-style=${u}]`))return;const b=g.createElement("style");b.dataset.tpStyle=u,b.textContent=p,g.head.appendChild(b)}class sy extends ey{constructor(u){var p,b;const P=u!=null?u:{},Q=(p=P.document)!==null&&p!==void 0?p:ee(),he=Yb(),Re=new ty(Q,{expanded:P.expanded,blade:ae(),props:V.fromObject({title:P.title}),viewProps:Ht.create()});super(Re,he),this.pool_=he,this.containerElem_=(b=P.container)!==null&&b!==void 0?b:ry(Q),this.containerElem_.appendChild(this.element),this.doc_=Q,this.usesDefaultWrapper_=!P.container,this.setUpDefaultPlugins_()}get document(){if(!this.doc_)throw _.alreadyDisposed();return this.doc_}dispose(){const u=this.containerElem_;if(!u)throw _.alreadyDisposed();if(this.usesDefaultWrapper_){const p=u.parentElement;p&&p.removeChild(u)}this.containerElem_=null,this.doc_=null,super.dispose()}registerPlugin(u){("plugin"in u?[u.plugin]:"plugins"in u?u.plugins:[]).forEach(b=>{this.pool_.register(b),this.embedPluginStyle_(b)})}embedPluginStyle_(u){u.css&&q5(this.document,`plugin-${u.id}`,u.css)}setUpDefaultPlugins_(){q5(this.document,"default",'.tp-tbiv_b,.tp-coltxtv_ms,.tp-ckbv_i,.tp-rotv_b,.tp-fldv_b,.tp-mllv_i,.tp-sglv_i,.tp-grlv_g,.tp-txtv_i,.tp-p2dpv_p,.tp-colswv_sw,.tp-p2dv_b,.tp-btnv_b,.tp-lstv_s{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:rgba(0,0,0,0);border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0}.tp-p2dv_b,.tp-btnv_b,.tp-lstv_s{background-color:var(--btn-bg);border-radius:var(--elm-br);color:var(--btn-fg);cursor:pointer;display:block;font-weight:bold;height:var(--bld-us);line-height:var(--bld-us);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tp-p2dv_b:hover,.tp-btnv_b:hover,.tp-lstv_s:hover{background-color:var(--btn-bg-h)}.tp-p2dv_b:focus,.tp-btnv_b:focus,.tp-lstv_s:focus{background-color:var(--btn-bg-f)}.tp-p2dv_b:active,.tp-btnv_b:active,.tp-lstv_s:active{background-color:var(--btn-bg-a)}.tp-p2dv_b:disabled,.tp-btnv_b:disabled,.tp-lstv_s:disabled{opacity:.5}.tp-txtv_i,.tp-p2dpv_p,.tp-colswv_sw{background-color:var(--in-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--in-fg);font-family:inherit;height:var(--bld-us);line-height:var(--bld-us);min-width:0;width:100%}.tp-txtv_i:hover,.tp-p2dpv_p:hover,.tp-colswv_sw:hover{background-color:var(--in-bg-h)}.tp-txtv_i:focus,.tp-p2dpv_p:focus,.tp-colswv_sw:focus{background-color:var(--in-bg-f)}.tp-txtv_i:active,.tp-p2dpv_p:active,.tp-colswv_sw:active{background-color:var(--in-bg-a)}.tp-txtv_i:disabled,.tp-p2dpv_p:disabled,.tp-colswv_sw:disabled{opacity:.5}.tp-mllv_i,.tp-sglv_i,.tp-grlv_g{background-color:var(--mo-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--mo-fg);height:var(--bld-us);scrollbar-color:currentColor rgba(0,0,0,0);scrollbar-width:thin;width:100%}.tp-mllv_i::-webkit-scrollbar,.tp-sglv_i::-webkit-scrollbar,.tp-grlv_g::-webkit-scrollbar{height:8px;width:8px}.tp-mllv_i::-webkit-scrollbar-corner,.tp-sglv_i::-webkit-scrollbar-corner,.tp-grlv_g::-webkit-scrollbar-corner{background-color:rgba(0,0,0,0)}.tp-mllv_i::-webkit-scrollbar-thumb,.tp-sglv_i::-webkit-scrollbar-thumb,.tp-grlv_g::-webkit-scrollbar-thumb{background-clip:padding-box;background-color:currentColor;border:rgba(0,0,0,0) solid 2px;border-radius:4px}.tp-rotv{--font-family: var(--tp-font-family, Roboto Mono, Source Code Pro, Menlo, Courier, monospace);--bs-br: var(--tp-base-border-radius, 6px);--cnt-h-p: var(--tp-container-horizontal-padding, 4px);--cnt-v-p: var(--tp-container-vertical-padding, 4px);--elm-br: var(--tp-element-border-radius, 2px);--bld-s: var(--tp-blade-spacing, 4px);--bld-us: var(--tp-blade-unit-size, 20px);--bs-bg: var(--tp-base-background-color, hsl(230deg, 7%, 17%));--bs-sh: var(--tp-base-shadow-color, rgba(0, 0, 0, 0.2));--btn-bg: var(--tp-button-background-color, hsl(230deg, 7%, 70%));--btn-bg-a: var(--tp-button-background-color-active, #d6d7db);--btn-bg-f: var(--tp-button-background-color-focus, #c8cad0);--btn-bg-h: var(--tp-button-background-color-hover, #bbbcc4);--btn-fg: var(--tp-button-foreground-color, hsl(230deg, 7%, 17%));--cnt-bg: var(--tp-container-background-color, rgba(187, 188, 196, 0.1));--cnt-bg-a: var(--tp-container-background-color-active, rgba(187, 188, 196, 0.25));--cnt-bg-f: var(--tp-container-background-color-focus, rgba(187, 188, 196, 0.2));--cnt-bg-h: var(--tp-container-background-color-hover, rgba(187, 188, 196, 0.15));--cnt-fg: var(--tp-container-foreground-color, hsl(230deg, 7%, 75%));--in-bg: var(--tp-input-background-color, rgba(187, 188, 196, 0.1));--in-bg-a: var(--tp-input-background-color-active, rgba(187, 188, 196, 0.25));--in-bg-f: var(--tp-input-background-color-focus, rgba(187, 188, 196, 0.2));--in-bg-h: var(--tp-input-background-color-hover, rgba(187, 188, 196, 0.15));--in-fg: var(--tp-input-foreground-color, hsl(230deg, 7%, 75%));--lbl-fg: var(--tp-label-foreground-color, rgba(187, 188, 196, 0.7));--mo-bg: var(--tp-monitor-background-color, rgba(0, 0, 0, 0.2));--mo-fg: var(--tp-monitor-foreground-color, rgba(187, 188, 196, 0.7));--grv-fg: var(--tp-groove-foreground-color, rgba(187, 188, 196, 0.1))}.tp-rotv_c>.tp-cntv.tp-v-lst,.tp-tabv_c .tp-brkv>.tp-cntv.tp-v-lst,.tp-fldv_c>.tp-cntv.tp-v-lst{margin-bottom:calc(-1*var(--cnt-v-p))}.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-tabv_c .tp-brkv>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_c{border-bottom-left-radius:0}.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-tabv_c .tp-brkv>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_b{border-bottom-left-radius:0}.tp-rotv_c>*:not(.tp-v-fst),.tp-tabv_c .tp-brkv>*:not(.tp-v-fst),.tp-fldv_c>*:not(.tp-v-fst){margin-top:var(--bld-s)}.tp-rotv_c>.tp-sprv:not(.tp-v-fst),.tp-tabv_c .tp-brkv>.tp-sprv:not(.tp-v-fst),.tp-fldv_c>.tp-sprv:not(.tp-v-fst),.tp-rotv_c>.tp-cntv:not(.tp-v-fst),.tp-tabv_c .tp-brkv>.tp-cntv:not(.tp-v-fst),.tp-fldv_c>.tp-cntv:not(.tp-v-fst){margin-top:var(--cnt-v-p)}.tp-rotv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-tabv_c .tp-brkv>.tp-sprv+*:not(.tp-v-hidden),.tp-fldv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-rotv_c>.tp-cntv+*:not(.tp-v-hidden),.tp-tabv_c .tp-brkv>.tp-cntv+*:not(.tp-v-hidden),.tp-fldv_c>.tp-cntv+*:not(.tp-v-hidden){margin-top:var(--cnt-v-p)}.tp-rotv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-tabv_c .tp-brkv>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-fldv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-rotv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-tabv_c .tp-brkv>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-fldv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv{margin-top:0}.tp-tabv_c .tp-brkv>.tp-cntv,.tp-fldv_c>.tp-cntv{margin-left:4px}.tp-tabv_c .tp-brkv>.tp-fldv>.tp-fldv_b,.tp-fldv_c>.tp-fldv>.tp-fldv_b{border-top-left-radius:var(--elm-br);border-bottom-left-radius:var(--elm-br)}.tp-tabv_c .tp-brkv>.tp-fldv.tp-fldv-expanded>.tp-fldv_b,.tp-fldv_c>.tp-fldv.tp-fldv-expanded>.tp-fldv_b{border-bottom-left-radius:0}.tp-tabv_c .tp-brkv .tp-fldv>.tp-fldv_c,.tp-fldv_c .tp-fldv>.tp-fldv_c{border-bottom-left-radius:var(--elm-br)}.tp-tabv_c .tp-brkv>.tp-tabv>.tp-tabv_i,.tp-fldv_c>.tp-tabv>.tp-tabv_i{border-top-left-radius:var(--elm-br)}.tp-tabv_c .tp-brkv .tp-tabv>.tp-tabv_c,.tp-fldv_c .tp-tabv>.tp-tabv_c{border-bottom-left-radius:var(--elm-br)}.tp-rotv_b,.tp-fldv_b{background-color:var(--cnt-bg);color:var(--cnt-fg);cursor:pointer;display:block;height:calc(var(--bld-us) + 4px);line-height:calc(var(--bld-us) + 4px);overflow:hidden;padding-left:var(--cnt-h-p);padding-right:calc(4px + var(--bld-us) + var(--cnt-h-p));position:relative;text-align:left;text-overflow:ellipsis;white-space:nowrap;width:100%;transition:border-radius .2s ease-in-out .2s}.tp-rotv_b:hover,.tp-fldv_b:hover{background-color:var(--cnt-bg-h)}.tp-rotv_b:focus,.tp-fldv_b:focus{background-color:var(--cnt-bg-f)}.tp-rotv_b:active,.tp-fldv_b:active{background-color:var(--cnt-bg-a)}.tp-rotv_b:disabled,.tp-fldv_b:disabled{opacity:.5}.tp-rotv_m,.tp-fldv_m{background:linear-gradient(to left, var(--cnt-fg), var(--cnt-fg) 2px, transparent 2px, transparent 4px, var(--cnt-fg) 4px);border-radius:2px;bottom:0;content:"";display:block;height:6px;right:calc(var(--cnt-h-p) + (var(--bld-us) + 4px - 6px)/2 - 2px);margin:auto;opacity:.5;position:absolute;top:0;transform:rotate(90deg);transition:transform .2s ease-in-out;width:6px}.tp-rotv.tp-rotv-expanded .tp-rotv_m,.tp-fldv.tp-fldv-expanded>.tp-fldv_b>.tp-fldv_m{transform:none}.tp-rotv_c,.tp-fldv_c{box-sizing:border-box;height:0;opacity:0;overflow:hidden;padding-bottom:0;padding-top:0;position:relative;transition:height .2s ease-in-out,opacity .2s linear,padding .2s ease-in-out}.tp-rotv.tp-rotv-cpl:not(.tp-rotv-expanded) .tp-rotv_c,.tp-fldv.tp-fldv-cpl:not(.tp-fldv-expanded)>.tp-fldv_c{display:none}.tp-rotv.tp-rotv-expanded .tp-rotv_c,.tp-fldv.tp-fldv-expanded>.tp-fldv_c{opacity:1;padding-bottom:var(--cnt-v-p);padding-top:var(--cnt-v-p);transform:none;overflow:visible;transition:height .2s ease-in-out,opacity .2s linear .2s,padding .2s ease-in-out}.tp-lstv,.tp-coltxtv_m{position:relative}.tp-lstv_s{padding:0 20px 0 4px;width:100%}.tp-lstv_m,.tp-coltxtv_mm{bottom:0;margin:auto;pointer-events:none;position:absolute;right:2px;top:0}.tp-lstv_m svg,.tp-coltxtv_mm svg{bottom:0;height:16px;margin:auto;position:absolute;right:0;top:0;width:16px}.tp-lstv_m svg path,.tp-coltxtv_mm svg path{fill:currentColor}.tp-pndtxtv,.tp-coltxtv_w{display:flex}.tp-pndtxtv_a,.tp-coltxtv_c{width:100%}.tp-pndtxtv_a+.tp-pndtxtv_a,.tp-coltxtv_c+.tp-pndtxtv_a,.tp-pndtxtv_a+.tp-coltxtv_c,.tp-coltxtv_c+.tp-coltxtv_c{margin-left:2px}.tp-btnv_b{width:100%}.tp-btnv_t{text-align:center}.tp-ckbv_l{display:block;position:relative}.tp-ckbv_i{left:0;opacity:0;position:absolute;top:0}.tp-ckbv_w{background-color:var(--in-bg);border-radius:var(--elm-br);cursor:pointer;display:block;height:var(--bld-us);position:relative;width:var(--bld-us)}.tp-ckbv_w svg{bottom:0;display:block;height:16px;left:0;margin:auto;opacity:0;position:absolute;right:0;top:0;width:16px}.tp-ckbv_w svg path{fill:none;stroke:var(--in-fg);stroke-width:2}.tp-ckbv_i:hover+.tp-ckbv_w{background-color:var(--in-bg-h)}.tp-ckbv_i:focus+.tp-ckbv_w{background-color:var(--in-bg-f)}.tp-ckbv_i:active+.tp-ckbv_w{background-color:var(--in-bg-a)}.tp-ckbv_i:checked+.tp-ckbv_w svg{opacity:1}.tp-ckbv.tp-v-disabled .tp-ckbv_w{opacity:.5}.tp-colv{position:relative}.tp-colv_h{display:flex}.tp-colv_s{flex-grow:0;flex-shrink:0;width:var(--bld-us)}.tp-colv_t{flex:1;margin-left:4px}.tp-colv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-colv.tp-colv-cpl .tp-colv_p{overflow:visible}.tp-colv.tp-colv-expanded .tp-colv_p{margin-top:var(--bld-s);opacity:1}.tp-colv .tp-popv{left:calc(-1*var(--cnt-h-p));right:calc(-1*var(--cnt-h-p));top:var(--bld-us)}.tp-colpv_h,.tp-colpv_ap{margin-left:6px;margin-right:6px}.tp-colpv_h{margin-top:var(--bld-s)}.tp-colpv_rgb{display:flex;margin-top:var(--bld-s);width:100%}.tp-colpv_a{display:flex;margin-top:var(--cnt-v-p);padding-top:calc(var(--cnt-v-p) + 2px);position:relative}.tp-colpv_a:before{background-color:var(--grv-fg);content:"";height:2px;left:calc(-1*var(--cnt-h-p));position:absolute;right:calc(-1*var(--cnt-h-p));top:0}.tp-colpv_ap{align-items:center;display:flex;flex:3}.tp-colpv_at{flex:1;margin-left:4px}.tp-svpv{border-radius:var(--elm-br);outline:none;overflow:hidden;position:relative}.tp-svpv_c{cursor:crosshair;display:block;height:calc(var(--bld-us)*4);width:100%}.tp-svpv_m{border-radius:100%;border:rgba(255,255,255,.75) solid 2px;box-sizing:border-box;filter:drop-shadow(0 0 1px rgba(0, 0, 0, 0.3));height:12px;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;width:12px}.tp-svpv:focus .tp-svpv_m{border-color:#fff}.tp-hplv{cursor:pointer;height:var(--bld-us);outline:none;position:relative}.tp-hplv_c{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAABCAYAAABubagXAAAAQ0lEQVQoU2P8z8Dwn0GCgQEDi2OK/RBgYHjBgIpfovFh8j8YBIgzFGQxuqEgPhaDOT5gOhPkdCxOZeBg+IDFZZiGAgCaSSMYtcRHLgAAAABJRU5ErkJggg==);background-position:left top;background-repeat:no-repeat;background-size:100% 100%;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;position:absolute;top:50%;width:100%}.tp-hplv_m{border-radius:var(--elm-br);border:rgba(255,255,255,.75) solid 2px;box-shadow:0 0 2px rgba(0,0,0,.1);box-sizing:border-box;height:12px;left:50%;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;top:50%;width:12px}.tp-hplv:focus .tp-hplv_m{border-color:#fff}.tp-aplv{cursor:pointer;height:var(--bld-us);outline:none;position:relative;width:100%}.tp-aplv_b{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:4px 4px;background-position:0 0,2px 2px;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;overflow:hidden;position:absolute;top:50%;width:100%}.tp-aplv_c{bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv_m{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:12px 12px;background-position:0 0,6px 6px;border-radius:var(--elm-br);box-shadow:0 0 2px rgba(0,0,0,.1);height:12px;left:50%;margin-left:-6px;margin-top:-6px;overflow:hidden;pointer-events:none;position:absolute;top:50%;width:12px}.tp-aplv_p{border-radius:var(--elm-br);border:rgba(255,255,255,.75) solid 2px;box-sizing:border-box;bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv:focus .tp-aplv_p{border-color:#fff}.tp-colswv{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:10px 10px;background-position:0 0,5px 5px;border-radius:var(--elm-br);overflow:hidden}.tp-colswv.tp-v-disabled{opacity:.5}.tp-colswv_sw{border-radius:0}.tp-colswv_b{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:rgba(0,0,0,0);border-width:0;cursor:pointer;display:block;height:var(--bld-us);left:0;margin:0;outline:none;padding:0;position:absolute;top:0;width:var(--bld-us)}.tp-colswv_b:focus::after{border:rgba(255,255,255,.75) solid 2px;border-radius:var(--elm-br);bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}.tp-coltxtv{display:flex;width:100%}.tp-coltxtv_m{margin-right:4px}.tp-coltxtv_ms{border-radius:var(--elm-br);color:var(--lbl-fg);cursor:pointer;height:var(--bld-us);line-height:var(--bld-us);padding:0 18px 0 4px}.tp-coltxtv_ms:hover{background-color:var(--in-bg-h)}.tp-coltxtv_ms:focus{background-color:var(--in-bg-f)}.tp-coltxtv_ms:active{background-color:var(--in-bg-a)}.tp-coltxtv_mm{color:var(--lbl-fg)}.tp-coltxtv_w{flex:1}.tp-dfwv{position:absolute;top:8px;right:8px;width:256px}.tp-fldv.tp-fldv-not .tp-fldv_b{display:none}.tp-fldv_t{padding-left:4px}.tp-fldv_c{border-left:var(--cnt-bg) solid 4px}.tp-fldv_b:hover+.tp-fldv_c{border-left-color:var(--cnt-bg-h)}.tp-fldv_b:focus+.tp-fldv_c{border-left-color:var(--cnt-bg-f)}.tp-fldv_b:active+.tp-fldv_c{border-left-color:var(--cnt-bg-a)}.tp-grlv{position:relative}.tp-grlv_g{display:block;height:calc(var(--bld-us)*3)}.tp-grlv_g polyline{fill:none;stroke:var(--mo-fg);stroke-linejoin:round}.tp-grlv_t{margin-top:-4px;transition:left .05s,top .05s;visibility:hidden}.tp-grlv_t.tp-grlv_t-a{visibility:visible}.tp-grlv_t.tp-grlv_t-in{transition:none}.tp-grlv.tp-v-disabled .tp-grlv_g{opacity:.5}.tp-grlv .tp-ttv{background-color:var(--mo-fg)}.tp-grlv .tp-ttv::before{border-top-color:var(--mo-fg)}.tp-lblv{align-items:center;display:flex;line-height:1.3;padding-left:var(--cnt-h-p);padding-right:var(--cnt-h-p)}.tp-lblv.tp-lblv-nol{display:block}.tp-lblv_l{color:var(--lbl-fg);flex:1;-webkit-hyphens:auto;hyphens:auto;overflow:hidden;padding-left:4px;padding-right:16px}.tp-lblv.tp-v-disabled .tp-lblv_l{opacity:.5}.tp-lblv.tp-lblv-nol .tp-lblv_l{display:none}.tp-lblv_v{align-self:flex-start;flex-grow:0;flex-shrink:0;width:160px}.tp-lblv.tp-lblv-nol .tp-lblv_v{width:100%}.tp-lstv_s{padding:0 20px 0 4px;width:100%}.tp-lstv_m{color:var(--btn-fg)}.tp-sglv_i{padding:0 4px}.tp-sglv.tp-v-disabled .tp-sglv_i{opacity:.5}.tp-mllv_i{display:block;height:calc(var(--bld-us)*3);line-height:var(--bld-us);padding:0 4px;resize:none;white-space:pre}.tp-mllv.tp-v-disabled .tp-mllv_i{opacity:.5}.tp-p2dv{position:relative}.tp-p2dv_h{display:flex}.tp-p2dv_b{height:var(--bld-us);margin-right:4px;position:relative;width:var(--bld-us)}.tp-p2dv_b svg{display:block;height:16px;left:50%;margin-left:-8px;margin-top:-8px;position:absolute;top:50%;width:16px}.tp-p2dv_b svg path{stroke:currentColor;stroke-width:2}.tp-p2dv_b svg circle{fill:currentColor}.tp-p2dv_t{flex:1}.tp-p2dv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-p2dv.tp-p2dv-expanded .tp-p2dv_p{margin-top:var(--bld-s);opacity:1}.tp-p2dv .tp-popv{left:calc(-1*var(--cnt-h-p));right:calc(-1*var(--cnt-h-p));top:var(--bld-us)}.tp-p2dpv{padding-left:calc(var(--bld-us) + 4px)}.tp-p2dpv_p{cursor:crosshair;height:0;overflow:hidden;padding-bottom:100%;position:relative}.tp-p2dpv_g{display:block;height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.tp-p2dpv_ax{opacity:.1;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_l{opacity:.5;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_m{border:var(--in-fg) solid 1px;border-radius:50%;box-sizing:border-box;height:4px;margin-left:-2px;margin-top:-2px;position:absolute;width:4px}.tp-p2dpv_p:focus .tp-p2dpv_m{background-color:var(--in-fg);border-width:0}.tp-popv{background-color:var(--bs-bg);border-radius:6px;box-shadow:0 2px 4px var(--bs-sh);display:none;max-width:168px;padding:var(--cnt-v-p) var(--cnt-h-p);position:absolute;visibility:hidden;z-index:1000}.tp-popv.tp-popv-v{display:block;visibility:visible}.tp-sprv_r{background-color:var(--grv-fg);border-width:0;display:block;height:2px;margin:0;width:100%}.tp-sldv.tp-v-disabled{opacity:.5}.tp-sldv_t{box-sizing:border-box;cursor:pointer;height:var(--bld-us);margin:0 6px;outline:none;position:relative}.tp-sldv_t::before{background-color:var(--in-bg);border-radius:1px;bottom:0;content:"";display:block;height:2px;left:0;margin:auto;position:absolute;right:0;top:0}.tp-sldv_k{height:100%;left:0;position:absolute;top:0}.tp-sldv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:"";display:block;height:2px;left:0;margin-bottom:auto;margin-top:auto;position:absolute;right:0;top:0}.tp-sldv_k::after{background-color:var(--btn-bg);border-radius:var(--elm-br);bottom:0;content:"";display:block;height:12px;margin-bottom:auto;margin-top:auto;position:absolute;right:-6px;top:0;width:12px}.tp-sldv_t:hover .tp-sldv_k::after{background-color:var(--btn-bg-h)}.tp-sldv_t:focus .tp-sldv_k::after{background-color:var(--btn-bg-f)}.tp-sldv_t:active .tp-sldv_k::after{background-color:var(--btn-bg-a)}.tp-sldtxtv{display:flex}.tp-sldtxtv_s{flex:2}.tp-sldtxtv_t{flex:1;margin-left:4px}.tp-tabv.tp-v-disabled{opacity:.5}.tp-tabv_i{align-items:flex-end;display:flex;overflow:hidden}.tp-tabv.tp-tabv-nop .tp-tabv_i{height:calc(var(--bld-us) + 4px);position:relative}.tp-tabv.tp-tabv-nop .tp-tabv_i::before{background-color:var(--cnt-bg);bottom:0;content:"";height:2px;left:0;position:absolute;right:0}.tp-tabv_c{border-left:var(--cnt-bg) solid 4px;padding-bottom:var(--cnt-v-p);padding-top:var(--cnt-v-p)}.tp-tbiv{flex:1;min-width:0;position:relative}.tp-tbiv+.tp-tbiv{margin-left:2px}.tp-tbiv+.tp-tbiv::before{background-color:var(--cnt-bg);bottom:0;content:"";height:2px;left:-2px;position:absolute;width:2px}.tp-tbiv_b{background-color:var(--cnt-bg);display:block;padding-left:calc(var(--cnt-h-p) + 4px);padding-right:calc(var(--cnt-h-p) + 4px);width:100%}.tp-tbiv_b:hover{background-color:var(--cnt-bg-h)}.tp-tbiv_b:focus{background-color:var(--cnt-bg-f)}.tp-tbiv_b:active{background-color:var(--cnt-bg-a)}.tp-tbiv_b:disabled{opacity:.5}.tp-tbiv_t{color:var(--cnt-fg);height:calc(var(--bld-us) + 4px);line-height:calc(var(--bld-us) + 4px);opacity:.5;overflow:hidden;text-overflow:ellipsis}.tp-tbiv.tp-tbiv-sel .tp-tbiv_t{opacity:1}.tp-txtv{position:relative}.tp-txtv_i{padding:0 4px}.tp-txtv.tp-txtv-fst .tp-txtv_i{border-bottom-right-radius:0;border-top-right-radius:0}.tp-txtv.tp-txtv-mid .tp-txtv_i{border-radius:0}.tp-txtv.tp-txtv-lst .tp-txtv_i{border-bottom-left-radius:0;border-top-left-radius:0}.tp-txtv.tp-txtv-num .tp-txtv_i{text-align:right}.tp-txtv.tp-txtv-drg .tp-txtv_i{opacity:.3}.tp-txtv_k{cursor:pointer;height:100%;left:-3px;position:absolute;top:0;width:12px}.tp-txtv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:"";height:calc(var(--bld-us) - 4px);left:50%;margin-bottom:auto;margin-left:-1px;margin-top:auto;opacity:.1;position:absolute;top:0;transition:border-radius .1s,height .1s,transform .1s,width .1s;width:2px}.tp-txtv_k:hover::before,.tp-txtv.tp-txtv-drg .tp-txtv_k::before{opacity:1}.tp-txtv.tp-txtv-drg .tp-txtv_k::before{border-radius:50%;height:4px;transform:translateX(-1px);width:4px}.tp-txtv_g{bottom:0;display:block;height:8px;left:50%;margin:auto;overflow:visible;pointer-events:none;position:absolute;top:0;visibility:hidden;width:100%}.tp-txtv.tp-txtv-drg .tp-txtv_g{visibility:visible}.tp-txtv_gb{fill:none;stroke:var(--in-fg);stroke-dasharray:1}.tp-txtv_gh{fill:none;stroke:var(--in-fg)}.tp-txtv .tp-ttv{margin-left:6px;visibility:hidden}.tp-txtv.tp-txtv-drg .tp-ttv{visibility:visible}.tp-ttv{background-color:var(--in-fg);border-radius:var(--elm-br);color:var(--bs-bg);padding:2px 4px;pointer-events:none;position:absolute;transform:translate(-50%, -100%)}.tp-ttv::before{border-color:var(--in-fg) rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0);border-style:solid;border-width:2px;box-sizing:border-box;content:"";font-size:.9em;height:4px;left:50%;margin-left:-2px;position:absolute;top:100%;width:4px}.tp-rotv{background-color:var(--bs-bg);border-radius:var(--bs-br);box-shadow:0 2px 4px var(--bs-sh);font-family:var(--font-family);font-size:11px;font-weight:500;line-height:1;text-align:left}.tp-rotv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br);border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br);padding-left:calc(4px + var(--bld-us) + var(--cnt-h-p));text-align:center}.tp-rotv.tp-rotv-expanded .tp-rotv_b{border-bottom-left-radius:0;border-bottom-right-radius:0}.tp-rotv.tp-rotv-not .tp-rotv_b{display:none}.tp-rotv_c>.tp-fldv.tp-v-lst>.tp-fldv_c,.tp-rotv_c>.tp-tabv.tp-v-lst>.tp-tabv_c{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c>.tp-fldv.tp-v-lst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c .tp-fldv.tp-v-vlst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-right-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst{margin-top:calc(-1*var(--cnt-v-p))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst>.tp-fldv_b{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst{margin-top:calc(-1*var(--cnt-v-p))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst>.tp-tabv_i{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv.tp-v-disabled,.tp-rotv .tp-v-disabled{pointer-events:none}.tp-rotv.tp-v-hidden,.tp-rotv .tp-v-hidden{display:none}'),this.pool_.getAll().forEach(u=>{this.embedPluginStyle_(u)}),this.registerPlugin({plugins:[ny,Zb,Ia,iy]})}}const oy=new n("3.1.1");t.BladeApi=i,t.ButtonApi=x,t.FolderApi=Ve,t.InputBindingApi=Ae,t.ListApi=G5,t.MonitorBindingApi=We,t.Pane=sy,t.SeparatorApi=ut,t.SliderApi=W5,t.TabApi=Rs,t.TabPageApi=mr,t.TextApi=j5,t.TpChangeEvent=o,t.VERSION=oy,Object.defineProperty(t,"__esModule",{value:!0})})})(Gd,Gd.exports);const Fg=new Gd.exports.Pane;class oO{constructor(e){et(this,"canvas");et(this,"size");et(this,"scene");et(this,"camera");et(this,"renderer");et(this,"sunLight");et(this,"ambientLight");this.canvas=e,this.size=this.setSize(),this.scene=new ml,this.camera=this.setCamera(),this.renderer=this.setRenderer(),this.sunLight=this.setSunLight(),this.ambientLight=this.setAmbientLight(),this.init()}init(){this.scene.add(this.camera),this.scene.add(this.sunLight),this.scene.add(this.ambientLight),this.buildPane(),this.buildHelper()}updateSize(){this.size=this.setSize(),this.camera.left=-this.size.aspect*this.size.frustum/2,this.camera.right=this.size.aspect*this.size.frustum/2,this.camera.top=this.size.frustum/2,this.camera.bottom=-this.size.frustum/2,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.size.width,this.size.height),this.renderer.setPixelRatio(this.size.pixelRatio)}render(){this.camera.updateMatrixWorld(),this.renderer.render(this.scene,this.camera)}buildPane(){const e=Fg.addFolder({title:"camera"}),t=e.addFolder({title:"position",expanded:!1});t.addInput(this.camera.position,"x",{min:-10,max:20,step:.01}),t.addInput(this.camera.position,"y",{min:-10,max:20,step:.01}),t.addInput(this.camera.position,"z",{min:-10,max:20,step:.01});const n=e.addFolder({title:"rotation",expanded:!1});n.addInput(this.camera.rotation,"x",{min:-1,max:1,step:.01}),n.addInput(this.camera.rotation,"y",{min:-1,max:1,step:.01}),n.addInput(this.camera.rotation,"z",{min:-1,max:1,step:.01})}buildHelper(){const e=new r4(30);this.scene.add(e);const t=new i4(100,30,2894892,8947848);this.scene.add(t)}setSize(){const e=window.innerWidth,t=window.innerHeight;return{width:e,height:t,aspect:e/t,pixelRatio:Math.min(window.devicePixelRatio,2),frustum:5}}setCamera(){const e=new Ta(-this.size.aspect*this.size.frustum/2,this.size.aspect*this.size.frustum/2,this.size.frustum/2,-this.size.frustum/2,-50,50);return e.position.y=7.1,e.position.z=10,e.rotation.x=-Math.PI/5,e}setRenderer(){const e=new Ca({antialias:!0,canvas:this.canvas});return e.physicallyCorrectLights=!0,e.outputEncoding=pt,e.toneMapping=K7,e.toneMappingExposure=1.75,e.shadowMap.enabled=!0,e.shadowMap.type=Bf,e.setSize(this.size.width,this.size.height),e.setPixelRatio(this.size.pixelRatio),e}setSunLight(){const e=new xl("#ffffff",3);return e.castShadow=!0,e.shadow.camera.far=20,e.shadow.mapSize.set(2048,2048),e.shadow.normalBias=.05,e.position.set(-1.5,7,3),e}setAmbientLight(){return new $1("#ffffff",1)}}class aO{constructor(e){et(this,"body");et(this,"children");et(this,"mixer");this.children={},this.body=this.setBody(e),this.mixer=this.setMixer(e),this.init()}init(){this.onMousemove(),this.buildPane(),Km.on(l4.Tick,e=>{const t=e.getDelta();this.mixer.update(t)})}setBody(e){const n=e.modelRoom.scene;return n.scale.set(.11,.11,.11),n.children.forEach(i=>{if(i.castShadow=!0,i.receiveShadow=!0,i instanceof Tr&&i.children.forEach(o=>{o.castShadow=!0,o.receiveShadow=!0}),i.name==="Aquarium"){const o=i.children[0];if(o instanceof $t){const a=new Mo;a.roughness=0,a.color.set(5545426),a.ior=3,a.transmission=1,a.opacity=1,o.material=a}}if(i.name==="Computer"){const o=i.children[1];o instanceof $t&&(o.material=new Wr({map:e.textureKda}))}i.name==="Mini_Floor"&&(i.position.x=-.289521,i.position.z=8.83572),i.name==="Cube"&&(i.position.set(0,-1,0),i.rotation.y=Math.PI/4);const s=i.name.toLowerCase();this.children[s]=i,i.scale.set(0,0,0)}),n}setMixer(e){const t=new vI(this.body);return t.clipAction(e.modelRoom.animations[0]).play(),t}buildPane(){const e=Fg.addFolder({title:"room"}),t=e.addFolder({title:"position",expanded:!1});t.addInput(this.body.position,"x",{min:-10,max:20,step:.01}),t.addInput(this.body.position,"y",{min:-10,max:20,step:.01}),t.addInput(this.body.position,"z",{min:-10,max:20,step:.01});const n=e.addFolder({title:"rotation",expanded:!1});n.addInput(this.body.rotation,"x",{min:-1,max:1,step:.01}),n.addInput(this.body.rotation,"y",{min:-1,max:1,step:.01}),n.addInput(this.body.rotation,"z",{min:-1,max:1,step:.01})}onMousemove(){window.addEventListener("mousemove",e=>{const n=(e.clientX-window.innerWidth/2)*2/window.innerWidth*.05;this.body.rotation.y=n})}}class lO{constructor(){et(this,"body");et(this,"background");et(this,"circlePink");et(this,"circleBlue");et(this,"circleGreen");this.body=new Tr,this.background=this.setBackground(),this.circlePink=this.setCircle(15049130,new Z(0,-.29,0)),this.circleBlue=this.setCircle(8623565,new Z(2,-.28,0)),this.circleGreen=this.setCircle(8048812,new Z(0,-.27,0)),this.body.add(this.background),this.body.add(this.circlePink),this.body.add(this.circleBlue),this.body.add(this.circleGreen)}setBackground(){const e=new ga(100,100),t=new W1({color:16770722,side:Bi}),n=new $t(e,t);return n.rotation.x=Math.PI/2,n.position.y=-.3,n.receiveShadow=!0,n}setCircle(e,t){const n=new Zf(5,64),i=new W1({color:e}),s=new $t(n,i);return s.position.set(t.x,t.y,t.z),s.scale.set(0,0,0),s.rotation.x=-Math.PI/2,s.receiveShadow=!0,s}}function ps(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Ng(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e}/*!
 * GSAP 3.11.3
 * https://greensock.com
 *
 * @license Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Ui={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},J1={duration:.5,overwrite:!1,delay:0},w4,wi,_n,nr=1e8,Nt=1/nr,Wd=Math.PI*2,cO=Wd/4,uO=0,zg=Math.sqrt,hO=Math.cos,dO=Math.sin,kn=function(e){return typeof e=="string"},sn=function(e){return typeof e=="function"},Cs=function(e){return typeof e=="number"},S4=function(e){return typeof e>"u"},Qr=function(e){return typeof e=="object"},Si=function(e){return e!==!1},Bg=function(){return typeof window<"u"},f2=function(e){return sn(e)||kn(e)},Ug=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Jn=Array.isArray,jd=/(?:-?\.?\d|\.)+/gi,Vg=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,x1=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Dh=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,Hg=/[+-]=-?[.\d]+/,Gg=/[^,'"\[\]\s]+/gi,fO=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Jt,Qi,qd,M4,Hi={},xu={},Wg,jg=function(e){return(xu=va(e,Hi))&&Gi},E4=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},bu=function(e,t){return!t&&console.warn(e)},qg=function(e,t){return e&&(Hi[e]=t)&&xu&&(xu[e]=t)||Hi},n0=function(){return 0},pO={suppressEvents:!0,isStart:!0,kill:!1},B2={suppressEvents:!0,kill:!1},mO={suppressEvents:!0},T4={},ho=[],Xd={},Xg,Ii={},kh={},Y6=30,U2=[],C4="",A4=function(e){var t=e[0],n,i;if(Qr(t)||sn(t)||(e=[e]),!(n=(t._gsap||{}).harness)){for(i=U2.length;i--&&!U2[i].targetTest(t););n=U2[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new m_(e[i],n)))||e.splice(i,1);return e},oa=function(e){return e._gsap||A4(ir(e))[0]._gsap},$g=function(e,t,n){return(n=e[t])&&sn(n)?e[t]():S4(n)&&e.getAttribute&&e.getAttribute(t)||n},Mi=function(e,t){return(e=e.split(",")).forEach(t)||e},ln=function(e){return Math.round(e*1e5)/1e5||0},Hn=function(e){return Math.round(e*1e7)/1e7||0},L1=function(e,t){var n=t.charAt(0),i=parseFloat(t.substr(2));return e=parseFloat(e),n==="+"?e+i:n==="-"?e-i:n==="*"?e*i:e/i},gO=function(e,t){for(var n=t.length,i=0;e.indexOf(t[i])<0&&++i<n;);return i<n},yu=function(){var e=ho.length,t=ho.slice(0),n,i;for(Xd={},ho.length=0,n=0;n<e;n++)i=t[n],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},Kg=function(e,t,n,i){ho.length&&yu(),e.render(t,n,i||wi&&t<0&&(e._initted||e._startAt)),ho.length&&yu()},Yg=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(Gg).length<2?t:kn(e)?e.trim():e},Zg=function(e){return e},fr=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},_O=function(e){return function(t,n){for(var i in n)i in t||i==="duration"&&e||i==="ease"||(t[i]=n[i])}},va=function(e,t){for(var n in t)e[n]=t[n];return e},Z6=function r(e,t){for(var n in t)n!=="__proto__"&&n!=="constructor"&&n!=="prototype"&&(e[n]=Qr(t[n])?r(e[n]||(e[n]={}),t[n]):t[n]);return e},wu=function(e,t){var n={},i;for(i in e)i in t||(n[i]=e[i]);return n},bc=function(e){var t=e.parent||Jt,n=e.keyframes?_O(Jn(e.keyframes)):fr;if(Si(e.inherit))for(;t;)n(e,t.vars.defaults),t=t.parent||t._dp;return e},vO=function(e,t){for(var n=e.length,i=n===t.length;i&&n--&&e[n]===t[n];);return n<0},Qg=function(e,t,n,i,s){n===void 0&&(n="_first"),i===void 0&&(i="_last");var o=e[i],a;if(s)for(a=t[s];o&&o[s]>a;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[n],e[n]=t),t._next?t._next._prev=t:e[i]=t,t._prev=o,t.parent=t._dp=e,t},t3=function(e,t,n,i){n===void 0&&(n="_first"),i===void 0&&(i="_last");var s=t._prev,o=t._next;s?s._next=o:e[n]===t&&(e[n]=o),o?o._prev=s:e[i]===t&&(e[i]=s),t._next=t._prev=t.parent=null},xo=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove(e),e._act=0},aa=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},xO=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},$d=function(e,t,n,i){return e._startAt&&(wi?e._startAt.revert(B2):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,i))},bO=function r(e){return!e||e._ts&&r(e.parent)},Q6=function(e){return e._repeat?el(e._tTime,e=e.duration()+e._rDelay)*e:0},el=function(e,t){var n=Math.floor(e/=t);return e&&n===e?n-1:n},Su=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},n3=function(e){return e._end=Hn(e._start+(e._tDur/Math.abs(e._ts||e._rts||Nt)||0))},i3=function(e,t){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=Hn(n._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),n3(e),n._dirty||aa(n,e)),e},Jg=function(e,t){var n;if((t._time||t._initted&&!t._dur)&&(n=Su(e.rawTime(),t),(!t._dur||_0(0,t.totalDuration(),n)-t._tTime>Nt)&&t.render(n,!0)),aa(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-Nt}},Vr=function(e,t,n,i){return t.parent&&xo(t),t._start=Hn((Cs(n)?n:n||e!==Jt?Yi(e,n,t):e._time)+t._delay),t._end=Hn(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),Qg(e,t,"_first","_last",e._sort?"_start":0),Kd(t)||(e._recent=t),i||Jg(e,t),e._ts<0&&i3(e,e._tTime),e},e_=function(e,t){return(Hi.ScrollTrigger||E4("scrollTrigger",t))&&Hi.ScrollTrigger.create(t,e)},t_=function(e,t,n,i,s){if(L4(e,t,s),!e._initted)return 1;if(!n&&e._pt&&!wi&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&Xg!==Oi.frame)return ho.push(e),e._lazy=[s,i],1},yO=function r(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||r(t))},Kd=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},wO=function(e,t,n,i){var s=e.ratio,o=t<0||!t&&(!e._start&&yO(e)&&!(!e._initted&&Kd(e))||(e._ts<0||e._dp._ts<0)&&!Kd(e))?0:1,a=e._rDelay,l=0,c,h,d;if(a&&e._repeat&&(l=_0(0,e._tDur,t),h=el(l,a),e._yoyo&&h&1&&(o=1-o),h!==el(e._tTime,a)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||wi||i||e._zTime===Nt||!t&&e._zTime){if(!e._initted&&t_(e,t,i,n,l))return;for(d=e._zTime,e._zTime=t||(n?Nt:0),n||(n=t&&!d),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=l,c=e._pt;c;)c.r(o,c.d),c=c._next;t<0&&$d(e,t,n,!0),e._onUpdate&&!n&&rr(e,"onUpdate"),l&&e._repeat&&!n&&e.parent&&rr(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===o&&(o&&xo(e,1),!n&&!wi&&(rr(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},SO=function(e,t,n){var i;if(n>t)for(i=e._first;i&&i._start<=n;){if(i.data==="isPause"&&i._start>t)return i;i=i._next}else for(i=e._last;i&&i._start>=n;){if(i.data==="isPause"&&i._start<t)return i;i=i._prev}},tl=function(e,t,n,i){var s=e._repeat,o=Hn(t)||0,a=e._tTime/e._tDur;return a&&!i&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:Hn(o*(s+1)+e._rDelay*s):o,a>0&&!i&&i3(e,e._tTime=e._tDur*a),e.parent&&n3(e),n||aa(e.parent,e),e},J6=function(e){return e instanceof xi?aa(e):tl(e,e._dur)},MO={_start:0,endTime:n0,totalDuration:n0},Yi=function r(e,t,n){var i=e.labels,s=e._recent||MO,o=e.duration()>=nr?s.endTime(!1):e._dur,a,l,c;return kn(t)&&(isNaN(t)||t in i)?(l=t.charAt(0),c=t.substr(-1)==="%",a=t.indexOf("="),l==="<"||l===">"?(a>=0&&(t=t.replace(/=/,"")),(l==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(t.substr(1))||0)*(c?(a<0?s:n).totalDuration()/100:1)):a<0?(t in i||(i[t]=o),i[t]):(l=parseFloat(t.charAt(a-1)+t.substr(a+1)),c&&n&&(l=l/100*(Jn(n)?n[0]:n).totalDuration()),a>1?r(e,t.substr(0,a-1),n)+l:o+l)):t==null?o:+t},yc=function(e,t,n){var i=Cs(t[1]),s=(i?2:1)+(e<2?0:1),o=t[s],a,l;if(i&&(o.duration=t[1]),o.parent=n,e){for(a=o,l=n;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=Si(l.vars.inherit)&&l.parent;o.immediateRender=Si(a.immediateRender),e<2?o.runBackwards=1:o.startAt=t[s-1]}return new wn(t[0],o,t[s+1])},To=function(e,t){return e||e===0?t(e):t},_0=function(e,t,n){return n<e?e:n>t?t:n},Yn=function(e,t){return!kn(e)||!(t=fO.exec(e))?"":t[1]},EO=function(e,t,n){return To(n,function(i){return _0(e,t,i)})},Yd=[].slice,n_=function(e,t){return e&&Qr(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&Qr(e[0]))&&!e.nodeType&&e!==Qi},TO=function(e,t,n){return n===void 0&&(n=[]),e.forEach(function(i){var s;return kn(i)&&!t||n_(i,1)?(s=n).push.apply(s,ir(i)):n.push(i)})||n},ir=function(e,t,n){return _n&&!t&&_n.selector?_n.selector(e):kn(e)&&!n&&(qd||!nl())?Yd.call((t||M4).querySelectorAll(e),0):Jn(e)?TO(e,n):n_(e)?Yd.call(e,0):e?[e]:[]},Zd=function(e){return e=ir(e)[0]||bu("Invalid scope")||{},function(t){var n=e.current||e.nativeElement||e;return ir(t,n.querySelectorAll?n:n===e?bu("Invalid scope")||M4.createElement("div"):e)}},i_=function(e){return e.sort(function(){return .5-Math.random()})},r_=function(e){if(sn(e))return e;var t=Qr(e)?e:{each:e},n=la(t.ease),i=t.from||0,s=parseFloat(t.base)||0,o={},a=i>0&&i<1,l=isNaN(i)||a,c=t.axis,h=i,d=i;return kn(i)?h=d={center:.5,edges:.5,end:1}[i]||0:!a&&l&&(h=i[0],d=i[1]),function(f,m,_){var v=(_||t).length,x=o[v],y,M,w,S,T,A,R,E,L;if(!x){if(L=t.grid==="auto"?0:(t.grid||[1,nr])[1],!L){for(R=-nr;R<(R=_[L++].getBoundingClientRect().left)&&L<v;);L--}for(x=o[v]=[],y=l?Math.min(L,v)*h-.5:i%L,M=L===nr?0:l?v*d/L-.5:i/L|0,R=0,E=nr,A=0;A<v;A++)w=A%L-y,S=M-(A/L|0),x[A]=T=c?Math.abs(c==="y"?S:w):zg(w*w+S*S),T>R&&(R=T),T<E&&(E=T);i==="random"&&i_(x),x.max=R-E,x.min=E,x.v=v=(parseFloat(t.amount)||parseFloat(t.each)*(L>v?v-1:c?c==="y"?v/L:L:Math.max(L,v/L))||0)*(i==="edges"?-1:1),x.b=v<0?s-v:s,x.u=Yn(t.amount||t.each)||0,n=n&&v<0?d_(n):n}return v=(x[f]-x.min)/x.max||0,Hn(x.b+(n?n(v):v)*x.v)+x.u}},Qd=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var i=Hn(Math.round(parseFloat(n)/e)*e*t);return(i-i%1)/t+(Cs(n)?0:Yn(n))}},s_=function(e,t){var n=Jn(e),i,s;return!n&&Qr(e)&&(i=n=e.radius||nr,e.values?(e=ir(e.values),(s=!Cs(e[0]))&&(i*=i)):e=Qd(e.increment)),To(t,n?sn(e)?function(o){return s=e(o),Math.abs(s-o)<=i?s:o}:function(o){for(var a=parseFloat(s?o.x:o),l=parseFloat(s?o.y:0),c=nr,h=0,d=e.length,f,m;d--;)s?(f=e[d].x-a,m=e[d].y-l,f=f*f+m*m):f=Math.abs(e[d]-a),f<c&&(c=f,h=d);return h=!i||c<=i?e[h]:o,s||h===o||Cs(o)?h:h+Yn(o)}:Qd(e))},o_=function(e,t,n,i){return To(Jn(e)?!t:n===!0?!!(n=0):!i,function(){return Jn(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(i=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(t-e+n*.99))/n)*n*i)/i})},CO=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(i){return t.reduce(function(s,o){return o(s)},i)}},AO=function(e,t){return function(n){return e(parseFloat(n))+(t||Yn(n))}},PO=function(e,t,n){return l_(e,t,0,1,n)},a_=function(e,t,n){return To(n,function(i){return e[~~t(i)]})},LO=function r(e,t,n){var i=t-e;return Jn(e)?a_(e,r(0,e.length),t):To(n,function(s){return(i+(s-e)%i)%i+e})},RO=function r(e,t,n){var i=t-e,s=i*2;return Jn(e)?a_(e,r(0,e.length-1),t):To(n,function(o){return o=(s+(o-e)%s)%s||0,e+(o>i?s-o:o)})},i0=function(e){for(var t=0,n="",i,s,o,a;~(i=e.indexOf("random(",t));)o=e.indexOf(")",i),a=e.charAt(i+7)==="[",s=e.substr(i+7,o-i-7).match(a?Gg:jd),n+=e.substr(t,i-t)+o_(a?s:+s[0],a?0:+s[1],+s[2]||1e-5),t=o+1;return n+e.substr(t,e.length-t)},l_=function(e,t,n,i,s){var o=t-e,a=i-n;return To(s,function(l){return n+((l-e)/o*a||0)})},IO=function r(e,t,n,i){var s=isNaN(e+t)?0:function(m){return(1-m)*e+m*t};if(!s){var o=kn(e),a={},l,c,h,d,f;if(n===!0&&(i=1)&&(n=null),o)e={p:e},t={p:t};else if(Jn(e)&&!Jn(t)){for(h=[],d=e.length,f=d-2,c=1;c<d;c++)h.push(r(e[c-1],e[c]));d--,s=function(_){_*=d;var v=Math.min(f,~~_);return h[v](_-v)},n=t}else i||(e=va(Jn(e)?[]:{},e));if(!h){for(l in t)P4.call(a,e,l,"get",t[l]);s=function(_){return D4(_,a)||(o?e.p:e)}}}return To(n,s)},e8=function(e,t,n){var i=e.labels,s=nr,o,a,l;for(o in i)a=i[o]-t,a<0==!!n&&a&&s>(a=Math.abs(a))&&(l=o,s=a);return l},rr=function(e,t,n){var i=e.vars,s=i[t],o=_n,a=e._ctx,l,c,h;if(!!s)return l=i[t+"Params"],c=i.callbackScope||e,n&&ho.length&&yu(),a&&(_n=a),h=l?s.apply(c,l):s.call(c),_n=o,h},oc=function(e){return xo(e),e.scrollTrigger&&e.scrollTrigger.kill(!!wi),e.progress()<1&&rr(e,"onInterrupt"),e},b1,DO=function(e){e=!e.name&&e.default||e;var t=e.name,n=sn(e),i=t&&!n&&e.init?function(){this._props=[]}:e,s={init:n0,render:D4,add:P4,kill:KO,modifier:$O,rawVars:0},o={targetTest:0,get:0,getSetter:I4,aliases:{},register:0};if(nl(),e!==i){if(Ii[t])return;fr(i,fr(wu(e,s),o)),va(i.prototype,va(s,wu(e,o))),Ii[i.prop=t]=i,e.targetTest&&(U2.push(i),T4[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}qg(t,i),e.register&&e.register(Gi,i,Ei)},zt=255,ac={aqua:[0,zt,zt],lime:[0,zt,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,zt],navy:[0,0,128],white:[zt,zt,zt],olive:[128,128,0],yellow:[zt,zt,0],orange:[zt,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[zt,0,0],pink:[zt,192,203],cyan:[0,zt,zt],transparent:[zt,zt,zt,0]},Oh=function(e,t,n){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(n-t)*e*6:e<.5?n:e*3<2?t+(n-t)*(2/3-e)*6:t)*zt+.5|0},c_=function(e,t,n){var i=e?Cs(e)?[e>>16,e>>8&zt,e&zt]:0:ac.black,s,o,a,l,c,h,d,f,m,_;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),ac[e])i=ac[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+s+s+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&zt,i&zt,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&zt,e&zt]}else if(e.substr(0,3)==="hsl"){if(i=_=e.match(jd),!t)l=+i[0]%360/360,c=+i[1]/100,h=+i[2]/100,o=h<=.5?h*(c+1):h+c-h*c,s=h*2-o,i.length>3&&(i[3]*=1),i[0]=Oh(l+1/3,s,o),i[1]=Oh(l,s,o),i[2]=Oh(l-1/3,s,o);else if(~e.indexOf("="))return i=e.match(Vg),n&&i.length<4&&(i[3]=1),i}else i=e.match(jd)||ac.transparent;i=i.map(Number)}return t&&!_&&(s=i[0]/zt,o=i[1]/zt,a=i[2]/zt,d=Math.max(s,o,a),f=Math.min(s,o,a),h=(d+f)/2,d===f?l=c=0:(m=d-f,c=h>.5?m/(2-d-f):m/(d+f),l=d===s?(o-a)/m+(o<a?6:0):d===o?(a-s)/m+2:(s-o)/m+4,l*=60),i[0]=~~(l+.5),i[1]=~~(c*100+.5),i[2]=~~(h*100+.5)),n&&i.length<4&&(i[3]=1),i},u_=function(e){var t=[],n=[],i=-1;return e.split(fo).forEach(function(s){var o=s.match(x1)||[];t.push.apply(t,o),n.push(i+=o.length+1)}),t.c=n,t},t8=function(e,t,n){var i="",s=(e+i).match(fo),o=t?"hsla(":"rgba(",a=0,l,c,h,d;if(!s)return e;if(s=s.map(function(f){return(f=c_(f,t,1))&&o+(t?f[0]+","+f[1]+"%,"+f[2]+"%,"+f[3]:f.join(","))+")"}),n&&(h=u_(e),l=n.c,l.join(i)!==h.c.join(i)))for(c=e.replace(fo,"1").split(x1),d=c.length-1;a<d;a++)i+=c[a]+(~l.indexOf(a)?s.shift()||o+"0,0,0,0)":(h.length?h:s.length?s:n).shift());if(!c)for(c=e.split(fo),d=c.length-1;a<d;a++)i+=c[a]+s[a];return i+c[d]},fo=function(){var r="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in ac)r+="|"+e+"\\b";return new RegExp(r+")","gi")}(),kO=/hsl[a]?\(/,h_=function(e){var t=e.join(" "),n;if(fo.lastIndex=0,fo.test(t))return n=kO.test(t),e[1]=t8(e[1],n),e[0]=t8(e[0],n,u_(e[1])),!0},r0,Oi=function(){var r=Date.now,e=500,t=33,n=r(),i=n,s=1e3/240,o=s,a=[],l,c,h,d,f,m,_=function v(x){var y=r()-i,M=x===!0,w,S,T,A;if(y>e&&(n+=y-t),i+=y,T=i-n,w=T-o,(w>0||M)&&(A=++d.frame,f=T-d.time*1e3,d.time=T=T/1e3,o+=w+(w>=s?4:s-w),S=1),M||(l=c(v)),S)for(m=0;m<a.length;m++)a[m](T,f,A,x)};return d={time:0,frame:0,tick:function(){_(!0)},deltaRatio:function(x){return f/(1e3/(x||60))},wake:function(){Wg&&(!qd&&Bg()&&(Qi=qd=window,M4=Qi.document||{},Hi.gsap=Gi,(Qi.gsapVersions||(Qi.gsapVersions=[])).push(Gi.version),jg(xu||Qi.GreenSockGlobals||!Qi.gsap&&Qi||{}),h=Qi.requestAnimationFrame),l&&d.sleep(),c=h||function(x){return setTimeout(x,o-d.time*1e3+1|0)},r0=1,_(2))},sleep:function(){(h?Qi.cancelAnimationFrame:clearTimeout)(l),r0=0,c=n0},lagSmoothing:function(x,y){e=x||1/Nt,t=Math.min(y,e,0)},fps:function(x){s=1e3/(x||240),o=d.time*1e3+s},add:function(x,y,M){var w=y?function(S,T,A,R){x(S,T,A,R),d.remove(w)}:x;return d.remove(x),a[M?"unshift":"push"](w),nl(),w},remove:function(x,y){~(y=a.indexOf(x))&&a.splice(y,1)&&m>=y&&m--},_listeners:a},d}(),nl=function(){return!r0&&Oi.wake()},Tt={},OO=/^[\d.\-M][\d.\-,\s]/,FO=/["']/g,NO=function(e){for(var t={},n=e.substr(1,e.length-3).split(":"),i=n[0],s=1,o=n.length,a,l,c;s<o;s++)l=n[s],a=s!==o-1?l.lastIndexOf(","):l.length,c=l.substr(0,a),t[i]=isNaN(c)?c.replace(FO,"").trim():+c,i=l.substr(a+1).trim();return t},zO=function(e){var t=e.indexOf("(")+1,n=e.indexOf(")"),i=e.indexOf("(",t);return e.substring(t,~i&&i<n?e.indexOf(")",n+1):n)},BO=function(e){var t=(e+"").split("("),n=Tt[t[0]];return n&&t.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[NO(t[1])]:zO(e).split(",").map(Yg)):Tt._CE&&OO.test(e)?Tt._CE("",e):n},d_=function(e){return function(t){return 1-e(1-t)}},f_=function r(e,t){for(var n=e._first,i;n;)n instanceof xi?r(n,t):n.vars.yoyoEase&&(!n._yoyo||!n._repeat)&&n._yoyo!==t&&(n.timeline?r(n.timeline,t):(i=n._ease,n._ease=n._yEase,n._yEase=i,n._yoyo=t)),n=n._next},la=function(e,t){return e&&(sn(e)?e:Tt[e]||BO(e))||t},La=function(e,t,n,i){n===void 0&&(n=function(l){return 1-t(1-l)}),i===void 0&&(i=function(l){return l<.5?t(l*2)/2:1-t((1-l)*2)/2});var s={easeIn:t,easeOut:n,easeInOut:i},o;return Mi(e,function(a){Tt[a]=Hi[a]=s,Tt[o=a.toLowerCase()]=n;for(var l in s)Tt[o+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=Tt[a+"."+l]=s[l]}),s},p_=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},Fh=function r(e,t,n){var i=t>=1?t:1,s=(n||(e?.3:.45))/(t<1?t:1),o=s/Wd*(Math.asin(1/i)||0),a=function(h){return h===1?1:i*Math.pow(2,-10*h)*dO((h-o)*s)+1},l=e==="out"?a:e==="in"?function(c){return 1-a(1-c)}:p_(a);return s=Wd/s,l.config=function(c,h){return r(e,c,h)},l},Nh=function r(e,t){t===void 0&&(t=1.70158);var n=function(o){return o?--o*o*((t+1)*o+t)+1:0},i=e==="out"?n:e==="in"?function(s){return 1-n(1-s)}:p_(n);return i.config=function(s){return r(e,s)},i};Mi("Linear,Quad,Cubic,Quart,Quint,Strong",function(r,e){var t=e<5?e+1:e;La(r+",Power"+(t-1),e?function(n){return Math.pow(n,t)}:function(n){return n},function(n){return 1-Math.pow(1-n,t)},function(n){return n<.5?Math.pow(n*2,t)/2:1-Math.pow((1-n)*2,t)/2})});Tt.Linear.easeNone=Tt.none=Tt.Linear.easeIn;La("Elastic",Fh("in"),Fh("out"),Fh());(function(r,e){var t=1/e,n=2*t,i=2.5*t,s=function(a){return a<t?r*a*a:a<n?r*Math.pow(a-1.5/e,2)+.75:a<i?r*(a-=2.25/e)*a+.9375:r*Math.pow(a-2.625/e,2)+.984375};La("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);La("Expo",function(r){return r?Math.pow(2,10*(r-1)):0});La("Circ",function(r){return-(zg(1-r*r)-1)});La("Sine",function(r){return r===1?1:-hO(r*cO)+1});La("Back",Nh("in"),Nh("out"),Nh());Tt.SteppedEase=Tt.steps=Hi.SteppedEase={config:function(e,t){e===void 0&&(e=1);var n=1/e,i=e+(t?0:1),s=t?1:0,o=1-Nt;return function(a){return((i*_0(0,o,a)|0)+s)*n}}};J1.ease=Tt["quad.out"];Mi("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(r){return C4+=r+","+r+"Params,"});var m_=function(e,t){this.id=uO++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:$g,this.set=t?t.getSetter:I4},il=function(){function r(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,tl(this,+t.duration,1,1),this.data=t.data,_n&&(this._ctx=_n,_n.data.push(this)),r0||Oi.wake()}var e=r.prototype;return e.delay=function(n){return n||n===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+n-this._delay),this._delay=n,this):this._delay},e.duration=function(n){return arguments.length?this.totalDuration(this._repeat>0?n+(n+this._rDelay)*this._repeat:n):this.totalDuration()&&this._dur},e.totalDuration=function(n){return arguments.length?(this._dirty=0,tl(this,this._repeat<0?n:(n-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(n,i){if(nl(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(i3(this,n),!s._dp||s.parent||Jg(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&n<this._tDur||this._ts<0&&n>0||!this._tDur&&!n)&&Vr(this._dp,this,this._start-this._delay)}return(this._tTime!==n||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===Nt||!n&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=n),Kg(this,n,i)),this},e.time=function(n,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),n+Q6(this))%(this._dur+this._rDelay)||(n?this._dur:0),i):this._time},e.totalProgress=function(n,i){return arguments.length?this.totalTime(this.totalDuration()*n,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},e.progress=function(n,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-n:n)+Q6(this),i):this.duration()?Math.min(1,this._time/this._dur):this.ratio},e.iteration=function(n,i){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(n-1)*s,i):this._repeat?el(this._tTime,s)+1:1},e.timeScale=function(n){if(!arguments.length)return this._rts===-Nt?0:this._rts;if(this._rts===n)return this;var i=this.parent&&this._ts?Su(this.parent._time,this):this._tTime;return this._rts=+n||0,this._ts=this._ps||n===-Nt?0:this._rts,this.totalTime(_0(-this._delay,this._tDur,i),!0),n3(this),xO(this)},e.paused=function(n){return arguments.length?(this._ps!==n&&(this._ps=n,n?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(nl(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Nt&&(this._tTime-=Nt)))),this):this._ps},e.startTime=function(n){if(arguments.length){this._start=n;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&Vr(i,this,n-this._delay),this}return this._start},e.endTime=function(n){return this._start+(Si(n)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(n){var i=this.parent||this._dp;return i?n&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Su(i.rawTime(n),this):this._tTime:this._tTime},e.revert=function(n){n===void 0&&(n=mO);var i=wi;return wi=n,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(n),this.totalTime(-.01,n.suppressEvents)),this.data!=="nested"&&n.kill!==!1&&this.kill(),wi=i,this},e.globalTime=function(n){for(var i=this,s=arguments.length?n:i.rawTime();i;)s=i._start+s/(i._ts||1),i=i._dp;return!this.parent&&this.vars.immediateRender?-1:s},e.repeat=function(n){return arguments.length?(this._repeat=n===1/0?-2:n,J6(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(n){if(arguments.length){var i=this._time;return this._rDelay=n,J6(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(n){return arguments.length?(this._yoyo=n,this):this._yoyo},e.seek=function(n,i){return this.totalTime(Yi(this,n),Si(i))},e.restart=function(n,i){return this.play().totalTime(n?-this._delay:0,Si(i))},e.play=function(n,i){return n!=null&&this.seek(n,i),this.reversed(!1).paused(!1)},e.reverse=function(n,i){return n!=null&&this.seek(n||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(n,i){return n!=null&&this.seek(n,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(n){return arguments.length?(!!n!==this.reversed()&&this.timeScale(-this._rts||(n?-Nt:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-Nt,this},e.isActive=function(){var n=this.parent||this._dp,i=this._start,s;return!!(!n||this._ts&&this._initted&&n.isActive()&&(s=n.rawTime(!0))>=i&&s<this.endTime(!0)-Nt)},e.eventCallback=function(n,i,s){var o=this.vars;return arguments.length>1?(i?(o[n]=i,s&&(o[n+"Params"]=s),n==="onUpdate"&&(this._onUpdate=i)):delete o[n],this):o[n]},e.then=function(n){var i=this;return new Promise(function(s){var o=sn(n)?n:Zg,a=function(){var c=i.then;i.then=null,sn(o)&&(o=o(i))&&(o.then||o===i)&&(i.then=c),s(o),i.then=c};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?a():i._prom=a})},e.kill=function(){oc(this)},r}();fr(il.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Nt,_prom:0,_ps:!1,_rts:1});var xi=function(r){Ng(e,r);function e(n,i){var s;return n===void 0&&(n={}),s=r.call(this,n)||this,s.labels={},s.smoothChildTiming=!!n.smoothChildTiming,s.autoRemoveChildren=!!n.autoRemoveChildren,s._sort=Si(n.sortChildren),Jt&&Vr(n.parent||Jt,ps(s),i),n.reversed&&s.reverse(),n.paused&&s.paused(!0),n.scrollTrigger&&e_(ps(s),n.scrollTrigger),s}var t=e.prototype;return t.to=function(i,s,o){return yc(0,arguments,this),this},t.from=function(i,s,o){return yc(1,arguments,this),this},t.fromTo=function(i,s,o,a){return yc(2,arguments,this),this},t.set=function(i,s,o){return s.duration=0,s.parent=this,bc(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new wn(i,s,Yi(this,o),1),this},t.call=function(i,s,o){return Vr(this,wn.delayedCall(0,i,s),o)},t.staggerTo=function(i,s,o,a,l,c,h){return o.duration=s,o.stagger=o.stagger||a,o.onComplete=c,o.onCompleteParams=h,o.parent=this,new wn(i,o,Yi(this,l)),this},t.staggerFrom=function(i,s,o,a,l,c,h){return o.runBackwards=1,bc(o).immediateRender=Si(o.immediateRender),this.staggerTo(i,s,o,a,l,c,h)},t.staggerFromTo=function(i,s,o,a,l,c,h,d){return a.startAt=o,bc(a).immediateRender=Si(a.immediateRender),this.staggerTo(i,s,a,l,c,h,d)},t.render=function(i,s,o){var a=this._time,l=this._dirty?this.totalDuration():this._tDur,c=this._dur,h=i<=0?0:Hn(i),d=this._zTime<0!=i<0&&(this._initted||!c),f,m,_,v,x,y,M,w,S,T,A,R;if(this!==Jt&&h>l&&i>=0&&(h=l),h!==this._tTime||o||d){if(a!==this._time&&c&&(h+=this._time-a,i+=this._time-a),f=h,S=this._start,w=this._ts,y=!w,d&&(c||(a=this._zTime),(i||!s)&&(this._zTime=i)),this._repeat){if(A=this._yoyo,x=c+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(x*100+i,s,o);if(f=Hn(h%x),h===l?(v=this._repeat,f=c):(v=~~(h/x),v&&v===h/x&&(f=c,v--),f>c&&(f=c)),T=el(this._tTime,x),!a&&this._tTime&&T!==v&&(T=v),A&&v&1&&(f=c-f,R=1),v!==T&&!this._lock){var E=A&&T&1,L=E===(A&&v&1);if(v<T&&(E=!E),a=E?0:c,this._lock=1,this.render(a||(R?0:Hn(v*x)),s,!c)._lock=0,this._tTime=h,!s&&this.parent&&rr(this,"onRepeat"),this.vars.repeatRefresh&&!R&&(this.invalidate()._lock=1),a&&a!==this._time||y!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(c=this._dur,l=this._tDur,L&&(this._lock=2,a=E?c:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!R&&this.invalidate()),this._lock=0,!this._ts&&!y)return this;f_(this,R)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(M=SO(this,Hn(a),Hn(f)),M&&(h-=f-(f=M._start))),this._tTime=h,this._time=f,this._act=!w,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,a=0),!a&&f&&!s&&(rr(this,"onStart"),this._tTime!==h))return this;if(f>=a&&i>=0)for(m=this._first;m;){if(_=m._next,(m._act||f>=m._start)&&m._ts&&M!==m){if(m.parent!==this)return this.render(i,s,o);if(m.render(m._ts>0?(f-m._start)*m._ts:(m._dirty?m.totalDuration():m._tDur)+(f-m._start)*m._ts,s,o),f!==this._time||!this._ts&&!y){M=0,_&&(h+=this._zTime=-Nt);break}}m=_}else{m=this._last;for(var k=i<0?i:f;m;){if(_=m._prev,(m._act||k<=m._end)&&m._ts&&M!==m){if(m.parent!==this)return this.render(i,s,o);if(m.render(m._ts>0?(k-m._start)*m._ts:(m._dirty?m.totalDuration():m._tDur)+(k-m._start)*m._ts,s,o||wi&&(m._initted||m._startAt)),f!==this._time||!this._ts&&!y){M=0,_&&(h+=this._zTime=k?-Nt:Nt);break}}m=_}}if(M&&!s&&(this.pause(),M.render(f>=a?0:-Nt)._zTime=f>=a?1:-1,this._ts))return this._start=S,n3(this),this.render(i,s,o);this._onUpdate&&!s&&rr(this,"onUpdate",!0),(h===l&&this._tTime>=this.totalDuration()||!h&&a)&&(S===this._start||Math.abs(w)!==Math.abs(this._ts))&&(this._lock||((i||!c)&&(h===l&&this._ts>0||!h&&this._ts<0)&&xo(this,1),!s&&!(i<0&&!a)&&(h||a||!l)&&(rr(this,h===l&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(h<l&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(i,s){var o=this;if(Cs(s)||(s=Yi(this,s,i)),!(i instanceof il)){if(Jn(i))return i.forEach(function(a){return o.add(a,s)}),this;if(kn(i))return this.addLabel(i,s);if(sn(i))i=wn.delayedCall(0,i);else return this}return this!==i?Vr(this,i,s):this},t.getChildren=function(i,s,o,a){i===void 0&&(i=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),a===void 0&&(a=-nr);for(var l=[],c=this._first;c;)c._start>=a&&(c instanceof wn?s&&l.push(c):(o&&l.push(c),i&&l.push.apply(l,c.getChildren(!0,s,o)))),c=c._next;return l},t.getById=function(i){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===i)return s[o]},t.remove=function(i){return kn(i)?this.removeLabel(i):sn(i)?this.killTweensOf(i):(t3(this,i),i===this._recent&&(this._recent=this._last),aa(this))},t.totalTime=function(i,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Hn(Oi.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),r.prototype.totalTime.call(this,i,s),this._forcing=0,this):this._tTime},t.addLabel=function(i,s){return this.labels[i]=Yi(this,s),this},t.removeLabel=function(i){return delete this.labels[i],this},t.addPause=function(i,s,o){var a=wn.delayedCall(0,s||n0,o);return a.data="isPause",this._hasPause=1,Vr(this,a,Yi(this,i))},t.removePause=function(i){var s=this._first;for(i=Yi(this,i);s;)s._start===i&&s.data==="isPause"&&xo(s),s=s._next},t.killTweensOf=function(i,s,o){for(var a=this.getTweensOf(i,o),l=a.length;l--;)eo!==a[l]&&a[l].kill(i,s);return this},t.getTweensOf=function(i,s){for(var o=[],a=ir(i),l=this._first,c=Cs(s),h;l;)l instanceof wn?gO(l._targets,a)&&(c?(!eo||l._initted&&l._ts)&&l.globalTime(0)<=s&&l.globalTime(l.totalDuration())>s:!s||l.isActive())&&o.push(l):(h=l.getTweensOf(a,s)).length&&o.push.apply(o,h),l=l._next;return o},t.tweenTo=function(i,s){s=s||{};var o=this,a=Yi(o,i),l=s,c=l.startAt,h=l.onStart,d=l.onStartParams,f=l.immediateRender,m,_=wn.to(o,fr({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale())||Nt,onStart:function(){if(o.pause(),!m){var x=s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale());_._dur!==x&&tl(_,x,0,1).render(_._time,!0,!0),m=1}h&&h.apply(_,d||[])}},s));return f?_.render(0):_},t.tweenFromTo=function(i,s,o){return this.tweenTo(s,fr({startAt:{time:Yi(this,i)}},o))},t.recent=function(){return this._recent},t.nextLabel=function(i){return i===void 0&&(i=this._time),e8(this,Yi(this,i))},t.previousLabel=function(i){return i===void 0&&(i=this._time),e8(this,Yi(this,i),1)},t.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+Nt)},t.shiftChildren=function(i,s,o){o===void 0&&(o=0);for(var a=this._first,l=this.labels,c;a;)a._start>=o&&(a._start+=i,a._end+=i),a=a._next;if(s)for(c in l)l[c]>=o&&(l[c]+=i);return aa(this)},t.invalidate=function(i){var s=this._first;for(this._lock=0;s;)s.invalidate(i),s=s._next;return r.prototype.invalidate.call(this,i)},t.clear=function(i){i===void 0&&(i=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),aa(this)},t.totalDuration=function(i){var s=0,o=this,a=o._last,l=nr,c,h,d;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-i:i));if(o._dirty){for(d=o.parent;a;)c=a._prev,a._dirty&&a.totalDuration(),h=a._start,h>l&&o._sort&&a._ts&&!o._lock?(o._lock=1,Vr(o,a,h-a._delay,1)._lock=0):l=h,h<0&&a._ts&&(s-=h,(!d&&!o._dp||d&&d.smoothChildTiming)&&(o._start+=h/o._ts,o._time-=h,o._tTime-=h),o.shiftChildren(-h,!1,-1/0),l=0),a._end>s&&a._ts&&(s=a._end),a=c;tl(o,o===Jt&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(i){if(Jt._ts&&(Kg(Jt,Su(i,Jt)),Xg=Oi.frame),Oi.frame>=Y6){Y6+=Ui.autoSleep||120;var s=Jt._first;if((!s||!s._ts)&&Ui.autoSleep&&Oi._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||Oi.sleep()}}},e}(il);fr(xi.prototype,{_lock:0,_hasPause:0,_forcing:0});var UO=function(e,t,n,i,s,o,a){var l=new Ei(this._pt,e,t,0,1,y_,null,s),c=0,h=0,d,f,m,_,v,x,y,M;for(l.b=n,l.e=i,n+="",i+="",(y=~i.indexOf("random("))&&(i=i0(i)),o&&(M=[n,i],o(M,e,t),n=M[0],i=M[1]),f=n.match(Dh)||[];d=Dh.exec(i);)_=d[0],v=i.substring(c,d.index),m?m=(m+1)%5:v.substr(-5)==="rgba("&&(m=1),_!==f[h++]&&(x=parseFloat(f[h-1])||0,l._pt={_next:l._pt,p:v||h===1?v:",",s:x,c:_.charAt(1)==="="?L1(x,_)-x:parseFloat(_)-x,m:m&&m<4?Math.round:0},c=Dh.lastIndex);return l.c=c<i.length?i.substring(c,i.length):"",l.fp=a,(Hg.test(i)||y)&&(l.e=0),this._pt=l,l},P4=function(e,t,n,i,s,o,a,l,c,h){sn(i)&&(i=i(s||0,e,o));var d=e[t],f=n!=="get"?n:sn(d)?c?e[t.indexOf("set")||!sn(e["get"+t.substr(3)])?t:"get"+t.substr(3)](c):e[t]():d,m=sn(d)?c?jO:x_:R4,_;if(kn(i)&&(~i.indexOf("random(")&&(i=i0(i)),i.charAt(1)==="="&&(_=L1(f,i)+(Yn(f)||0),(_||_===0)&&(i=_))),!h||f!==i||Jd)return!isNaN(f*i)&&i!==""?(_=new Ei(this._pt,e,t,+f||0,i-(f||0),typeof d=="boolean"?XO:b_,0,m),c&&(_.fp=c),a&&_.modifier(a,this,e),this._pt=_):(!d&&!(t in e)&&E4(t,i),UO.call(this,e,t,f,i,m,l||Ui.stringFilter,c))},VO=function(e,t,n,i,s){if(sn(e)&&(e=wc(e,s,t,n,i)),!Qr(e)||e.style&&e.nodeType||Jn(e)||Ug(e))return kn(e)?wc(e,s,t,n,i):e;var o={},a;for(a in e)o[a]=wc(e[a],s,t,n,i);return o},g_=function(e,t,n,i,s,o){var a,l,c,h;if(Ii[e]&&(a=new Ii[e]).init(s,a.rawVars?t[e]:VO(t[e],i,s,o,n),n,i,o)!==!1&&(n._pt=l=new Ei(n._pt,s,e,0,1,a.render,a,0,a.priority),n!==b1))for(c=n._ptLookup[n._targets.indexOf(s)],h=a._props.length;h--;)c[a._props[h]]=l;return a},eo,Jd,L4=function r(e,t,n){var i=e.vars,s=i.ease,o=i.startAt,a=i.immediateRender,l=i.lazy,c=i.onUpdate,h=i.onUpdateParams,d=i.callbackScope,f=i.runBackwards,m=i.yoyoEase,_=i.keyframes,v=i.autoRevert,x=e._dur,y=e._startAt,M=e._targets,w=e.parent,S=w&&w.data==="nested"?w.vars.targets:M,T=e._overwrite==="auto"&&!w4,A=e.timeline,R,E,L,k,H,te,q,B,N,W,V,Y,X;if(A&&(!_||!s)&&(s="none"),e._ease=la(s,J1.ease),e._yEase=m?d_(la(m===!0?s:m,J1.ease)):0,m&&e._yoyo&&!e._repeat&&(m=e._yEase,e._yEase=e._ease,e._ease=m),e._from=!A&&!!i.runBackwards,!A||_&&!i.stagger){if(B=M[0]?oa(M[0]).harness:0,Y=B&&i[B.prop],R=wu(i,T4),y&&(y._zTime<0&&y.progress(1),t<0&&f&&a&&!v?y.render(-1,!0):y.revert(f&&x?B2:pO),y._lazy=0),o){if(xo(e._startAt=wn.set(M,fr({data:"isStart",overwrite:!1,parent:w,immediateRender:!0,lazy:Si(l),startAt:null,delay:0,onUpdate:c,onUpdateParams:h,callbackScope:d,stagger:0},o))),e._startAt._dp=0,t<0&&(wi||!a&&!v)&&e._startAt.revert(B2),a&&x&&t<=0&&n<=0){t&&(e._zTime=t);return}}else if(f&&x&&!y){if(t&&(a=!1),L=fr({overwrite:!1,data:"isFromStart",lazy:a&&Si(l),immediateRender:a,stagger:0,parent:w},R),Y&&(L[B.prop]=Y),xo(e._startAt=wn.set(M,L)),e._startAt._dp=0,t<0&&(wi?e._startAt.revert(B2):e._startAt.render(-1,!0)),e._zTime=t,!a)r(e._startAt,Nt,Nt);else if(!t)return}for(e._pt=e._ptCache=0,l=x&&Si(l)||l&&!x,E=0;E<M.length;E++){if(H=M[E],q=H._gsap||A4(M)[E]._gsap,e._ptLookup[E]=W={},Xd[q.id]&&ho.length&&yu(),V=S===M?E:S.indexOf(H),B&&(N=new B).init(H,Y||R,e,V,S)!==!1&&(e._pt=k=new Ei(e._pt,H,N.name,0,1,N.render,N,0,N.priority),N._props.forEach(function(O){W[O]=k}),N.priority&&(te=1)),!B||Y)for(L in R)Ii[L]&&(N=g_(L,R,e,V,H,S))?N.priority&&(te=1):W[L]=k=P4.call(e,H,L,"get",R[L],V,S,0,i.stringFilter);e._op&&e._op[E]&&e.kill(H,e._op[E]),T&&e._pt&&(eo=e,Jt.killTweensOf(H,W,e.globalTime(t)),X=!e.parent,eo=0),e._pt&&l&&(Xd[q.id]=1)}te&&w_(e),e._onInit&&e._onInit(e)}e._onUpdate=c,e._initted=(!e._op||e._pt)&&!X,_&&t<=0&&A.render(nr,!0,!0)},HO=function(e,t,n,i,s,o,a){var l=(e._pt&&e._ptCache||(e._ptCache={}))[t],c,h,d,f;if(!l)for(l=e._ptCache[t]=[],d=e._ptLookup,f=e._targets.length;f--;){if(c=d[f][t],c&&c.d&&c.d._pt)for(c=c.d._pt;c&&c.p!==t&&c.fp!==t;)c=c._next;if(!c)return Jd=1,e.vars[t]="+=0",L4(e,a),Jd=0,1;l.push(c)}for(f=l.length;f--;)h=l[f],c=h._pt||h,c.s=(i||i===0)&&!s?i:c.s+(i||0)+o*c.c,c.c=n-c.s,h.e&&(h.e=ln(n)+Yn(h.e)),h.b&&(h.b=c.s+Yn(h.b))},GO=function(e,t){var n=e[0]?oa(e[0]).harness:0,i=n&&n.aliases,s,o,a,l;if(!i)return t;s=va({},t);for(o in i)if(o in s)for(l=i[o].split(","),a=l.length;a--;)s[l[a]]=s[o];return s},WO=function(e,t,n,i){var s=t.ease||i||"power1.inOut",o,a;if(Jn(t))a=n[e]||(n[e]=[]),t.forEach(function(l,c){return a.push({t:c/(t.length-1)*100,v:l,e:s})});else for(o in t)a=n[o]||(n[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:t[o],e:s})},wc=function(e,t,n,i,s){return sn(e)?e.call(t,n,i,s):kn(e)&&~e.indexOf("random(")?i0(e):e},__=C4+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",v_={};Mi(__+",id,stagger,delay,duration,paused,scrollTrigger",function(r){return v_[r]=1});var wn=function(r){Ng(e,r);function e(n,i,s,o){var a;typeof i=="number"&&(s.duration=i,i=s,s=null),a=r.call(this,o?i:bc(i))||this;var l=a.vars,c=l.duration,h=l.delay,d=l.immediateRender,f=l.stagger,m=l.overwrite,_=l.keyframes,v=l.defaults,x=l.scrollTrigger,y=l.yoyoEase,M=i.parent||Jt,w=(Jn(n)||Ug(n)?Cs(n[0]):"length"in i)?[n]:ir(n),S,T,A,R,E,L,k,H;if(a._targets=w.length?A4(w):bu("GSAP target "+n+" not found. https://greensock.com",!Ui.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=m,_||f||f2(c)||f2(h)){if(i=a.vars,S=a.timeline=new xi({data:"nested",defaults:v||{},targets:M&&M.data==="nested"?M.vars.targets:w}),S.kill(),S.parent=S._dp=ps(a),S._start=0,f||f2(c)||f2(h)){if(R=w.length,k=f&&r_(f),Qr(f))for(E in f)~__.indexOf(E)&&(H||(H={}),H[E]=f[E]);for(T=0;T<R;T++)A=wu(i,v_),A.stagger=0,y&&(A.yoyoEase=y),H&&va(A,H),L=w[T],A.duration=+wc(c,ps(a),T,L,w),A.delay=(+wc(h,ps(a),T,L,w)||0)-a._delay,!f&&R===1&&A.delay&&(a._delay=h=A.delay,a._start+=h,A.delay=0),S.to(L,A,k?k(T,L,w):0),S._ease=Tt.none;S.duration()?c=h=0:a.timeline=0}else if(_){bc(fr(S.vars.defaults,{ease:"none"})),S._ease=la(_.ease||i.ease||"none");var te=0,q,B,N;if(Jn(_))_.forEach(function(W){return S.to(w,W,">")}),S.duration();else{A={};for(E in _)E==="ease"||E==="easeEach"||WO(E,_[E],A,_.easeEach);for(E in A)for(q=A[E].sort(function(W,V){return W.t-V.t}),te=0,T=0;T<q.length;T++)B=q[T],N={ease:B.e,duration:(B.t-(T?q[T-1].t:0))/100*c},N[E]=B.v,S.to(w,N,te),te+=N.duration;S.duration()<c&&S.to({},{duration:c-S.duration()})}}c||a.duration(c=S.duration())}else a.timeline=0;return m===!0&&!w4&&(eo=ps(a),Jt.killTweensOf(w),eo=0),Vr(M,ps(a),s),i.reversed&&a.reverse(),i.paused&&a.paused(!0),(d||!c&&!_&&a._start===Hn(M._time)&&Si(d)&&bO(ps(a))&&M.data!=="nested")&&(a._tTime=-Nt,a.render(Math.max(0,-h)||0)),x&&e_(ps(a),x),a}var t=e.prototype;return t.render=function(i,s,o){var a=this._time,l=this._tDur,c=this._dur,h=i<0,d=i>l-Nt&&!h?l:i<Nt?0:i,f,m,_,v,x,y,M,w,S;if(!c)wO(this,i,s,o);else if(d!==this._tTime||!i||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==h){if(f=d,w=this.timeline,this._repeat){if(v=c+this._rDelay,this._repeat<-1&&h)return this.totalTime(v*100+i,s,o);if(f=Hn(d%v),d===l?(_=this._repeat,f=c):(_=~~(d/v),_&&_===d/v&&(f=c,_--),f>c&&(f=c)),y=this._yoyo&&_&1,y&&(S=this._yEase,f=c-f),x=el(this._tTime,v),f===a&&!o&&this._initted)return this._tTime=d,this;_!==x&&(w&&this._yEase&&f_(w,y),this.vars.repeatRefresh&&!y&&!this._lock&&(this._lock=o=1,this.render(Hn(v*_),!0).invalidate()._lock=0))}if(!this._initted){if(t_(this,h?i:f,o,s,d))return this._tTime=0,this;if(a!==this._time)return this;if(c!==this._dur)return this.render(i,s,o)}if(this._tTime=d,this._time=f,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=M=(S||this._ease)(f/c),this._from&&(this.ratio=M=1-M),f&&!a&&!s&&(rr(this,"onStart"),this._tTime!==d))return this;for(m=this._pt;m;)m.r(M,m.d),m=m._next;w&&w.render(i<0?i:!f&&y?-Nt:w._dur*w._ease(f/this._dur),s,o)||this._startAt&&(this._zTime=i),this._onUpdate&&!s&&(h&&$d(this,i,s,o),rr(this,"onUpdate")),this._repeat&&_!==x&&this.vars.onRepeat&&!s&&this.parent&&rr(this,"onRepeat"),(d===this._tDur||!d)&&this._tTime===d&&(h&&!this._onUpdate&&$d(this,i,!0,!0),(i||!c)&&(d===this._tDur&&this._ts>0||!d&&this._ts<0)&&xo(this,1),!s&&!(h&&!a)&&(d||a||y)&&(rr(this,d===l?"onComplete":"onReverseComplete",!0),this._prom&&!(d<l&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),r.prototype.invalidate.call(this,i)},t.resetTo=function(i,s,o,a){r0||Oi.wake(),this._ts||this.play();var l=Math.min(this._dur,(this._dp._time-this._start)*this._ts),c;return this._initted||L4(this,l),c=this._ease(l/this._dur),HO(this,i,s,o,a,c,l)?this.resetTo(i,s,o,a):(i3(this,0),this.parent||Qg(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(i,s){if(s===void 0&&(s="all"),!i&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?oc(this):this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(i,s,eo&&eo.vars.overwrite!==!0)._first||oc(this),this.parent&&o!==this.timeline.totalDuration()&&tl(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,l=i?ir(i):a,c=this._ptLookup,h=this._pt,d,f,m,_,v,x,y;if((!s||s==="all")&&vO(a,l))return s==="all"&&(this._pt=0),oc(this);for(d=this._op=this._op||[],s!=="all"&&(kn(s)&&(v={},Mi(s,function(M){return v[M]=1}),s=v),s=GO(a,s)),y=a.length;y--;)if(~l.indexOf(a[y])){f=c[y],s==="all"?(d[y]=s,_=f,m={}):(m=d[y]=d[y]||{},_=s);for(v in _)x=f&&f[v],x&&((!("kill"in x.d)||x.d.kill(v)===!0)&&t3(this,x,"_pt"),delete f[v]),m!=="all"&&(m[v]=1)}return this._initted&&!this._pt&&h&&oc(this),this},e.to=function(i,s){return new e(i,s,arguments[2])},e.from=function(i,s){return yc(1,arguments)},e.delayedCall=function(i,s,o,a){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(i,s,o){return yc(2,arguments)},e.set=function(i,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(i,s)},e.killTweensOf=function(i,s,o){return Jt.killTweensOf(i,s,o)},e}(il);fr(wn.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Mi("staggerTo,staggerFrom,staggerFromTo",function(r){wn[r]=function(){var e=new xi,t=Yd.call(arguments,0);return t.splice(r==="staggerFromTo"?5:4,0,0),e[r].apply(e,t)}});var R4=function(e,t,n){return e[t]=n},x_=function(e,t,n){return e[t](n)},jO=function(e,t,n,i){return e[t](i.fp,n)},qO=function(e,t,n){return e.setAttribute(t,n)},I4=function(e,t){return sn(e[t])?x_:S4(e[t])&&e.setAttribute?qO:R4},b_=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},XO=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},y_=function(e,t){var n=t._pt,i="";if(!e&&t.b)i=t.b;else if(e===1&&t.e)i=t.e;else{for(;n;)i=n.p+(n.m?n.m(n.s+n.c*e):Math.round((n.s+n.c*e)*1e4)/1e4)+i,n=n._next;i+=t.c}t.set(t.t,t.p,i,t)},D4=function(e,t){for(var n=t._pt;n;)n.r(e,n.d),n=n._next},$O=function(e,t,n,i){for(var s=this._pt,o;s;)o=s._next,s.p===i&&s.modifier(e,t,n),s=o},KO=function(e){for(var t=this._pt,n,i;t;)i=t._next,t.p===e&&!t.op||t.op===e?t3(this,t,"_pt"):t.dep||(n=1),t=i;return!n},YO=function(e,t,n,i){i.mSet(e,t,i.m.call(i.tween,n,i.mt),i)},w_=function(e){for(var t=e._pt,n,i,s,o;t;){for(n=t._next,i=s;i&&i.pr>t.pr;)i=i._next;(t._prev=i?i._prev:o)?t._prev._next=t:s=t,(t._next=i)?i._prev=t:o=t,t=n}e._pt=s},Ei=function(){function r(t,n,i,s,o,a,l,c,h){this.t=n,this.s=s,this.c=o,this.p=i,this.r=a||b_,this.d=l||this,this.set=c||R4,this.pr=h||0,this._next=t,t&&(t._prev=this)}var e=r.prototype;return e.modifier=function(n,i,s){this.mSet=this.mSet||this.set,this.set=YO,this.m=n,this.mt=s,this.tween=i},r}();Mi(C4+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(r){return T4[r]=1});Hi.TweenMax=Hi.TweenLite=wn;Hi.TimelineLite=Hi.TimelineMax=xi;Jt=new xi({sortChildren:!1,defaults:J1,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Ui.stringFilter=h_;var rl=[],V2={},ZO=[],n8=0,zh=function(e){return(V2[e]||ZO).map(function(t){return t()})},ef=function(){var e=Date.now(),t=[];e-n8>2&&(zh("matchMediaInit"),rl.forEach(function(n){var i=n.queries,s=n.conditions,o,a,l,c;for(a in i)o=Qi.matchMedia(i[a]).matches,o&&(l=1),o!==s[a]&&(s[a]=o,c=1);c&&(n.revert(),l&&t.push(n))}),zh("matchMediaRevert"),t.forEach(function(n){return n.onMatch(n)}),n8=e,zh("matchMedia"))},S_=function(){function r(t,n){this.selector=n&&Zd(n),this.data=[],this._r=[],this.isReverted=!1,t&&this.add(t)}var e=r.prototype;return e.add=function(n,i,s){sn(n)&&(s=i,i=n,n=sn);var o=this,a=function(){var c=_n,h=o.selector,d;return c&&c!==o&&c.data.push(o),s&&(o.selector=Zd(s)),_n=o,d=i.apply(o,arguments),sn(d)&&o._r.push(d),_n=c,o.selector=h,o.isReverted=!1,d};return o.last=a,n===sn?a(o):n?o[n]=a:a},e.ignore=function(n){var i=_n;_n=null,n(this),_n=i},e.getTweens=function(){var n=[];return this.data.forEach(function(i){return i instanceof r?n.push.apply(n,i.getTweens()):i instanceof wn&&!(i.parent&&i.parent.data==="nested")&&n.push(i)}),n},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(n,i){var s=this;if(n){var o=this.getTweens();this.data.forEach(function(l){l.data==="isFlip"&&(l.revert(),l.getChildren(!0,!0,!1).forEach(function(c){return o.splice(o.indexOf(c),1)}))}),o.map(function(l){return{g:l.globalTime(0),t:l}}).sort(function(l,c){return c.g-l.g||-1}).forEach(function(l){return l.t.revert(n)}),this.data.forEach(function(l){return!(l instanceof il)&&l.revert&&l.revert(n)}),this._r.forEach(function(l){return l(n,s)}),this.isReverted=!0}else this.data.forEach(function(l){return l.kill&&l.kill()});if(this.clear(),i){var a=rl.indexOf(this);~a&&rl.splice(a,1)}},e.revert=function(n){this.kill(n||{})},r}(),QO=function(){function r(t){this.contexts=[],this.scope=t}var e=r.prototype;return e.add=function(n,i,s){Qr(n)||(n={matches:n});var o=new S_(0,s||this.scope),a=o.conditions={},l,c,h;this.contexts.push(o),i=o.add("onMatch",i),o.queries=n;for(c in n)c==="all"?h=1:(l=Qi.matchMedia(n[c]),l&&(rl.indexOf(o)<0&&rl.push(o),(a[c]=l.matches)&&(h=1),l.addListener?l.addListener(ef):l.addEventListener("change",ef)));return h&&i(o),this},e.revert=function(n){this.kill(n||{})},e.kill=function(n){this.contexts.forEach(function(i){return i.kill(n,!0)})},r}(),Mu={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(function(i){return DO(i)})},timeline:function(e){return new xi(e)},getTweensOf:function(e,t){return Jt.getTweensOf(e,t)},getProperty:function(e,t,n,i){kn(e)&&(e=ir(e)[0]);var s=oa(e||{}).get,o=n?Zg:Yg;return n==="native"&&(n=""),e&&(t?o((Ii[t]&&Ii[t].get||s)(e,t,n,i)):function(a,l,c){return o((Ii[a]&&Ii[a].get||s)(e,a,l,c))})},quickSetter:function(e,t,n){if(e=ir(e),e.length>1){var i=e.map(function(h){return Gi.quickSetter(h,t,n)}),s=i.length;return function(h){for(var d=s;d--;)i[d](h)}}e=e[0]||{};var o=Ii[t],a=oa(e),l=a.harness&&(a.harness.aliases||{})[t]||t,c=o?function(h){var d=new o;b1._pt=0,d.init(e,n?h+n:h,b1,0,[e]),d.render(1,d),b1._pt&&D4(1,b1)}:a.set(e,l);return o?c:function(h){return c(e,l,n?h+n:h,a,1)}},quickTo:function(e,t,n){var i,s=Gi.to(e,va((i={},i[t]="+=0.1",i.paused=!0,i),n||{})),o=function(l,c,h){return s.resetTo(t,l,c,h)};return o.tween=s,o},isTweening:function(e){return Jt.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=la(e.ease,J1.ease)),Z6(J1,e||{})},config:function(e){return Z6(Ui,e||{})},registerEffect:function(e){var t=e.name,n=e.effect,i=e.plugins,s=e.defaults,o=e.extendTimeline;(i||"").split(",").forEach(function(a){return a&&!Ii[a]&&!Hi[a]&&bu(t+" effect requires "+a+" plugin.")}),kh[t]=function(a,l,c){return n(ir(a),fr(l||{},s),c)},o&&(xi.prototype[t]=function(a,l,c){return this.add(kh[t](a,Qr(l)?l:(c=l)&&{},this),c)})},registerEase:function(e,t){Tt[e]=la(t)},parseEase:function(e,t){return arguments.length?la(e,t):Tt},getById:function(e){return Jt.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var n=new xi(e),i,s;for(n.smoothChildTiming=Si(e.smoothChildTiming),Jt.remove(n),n._dp=0,n._time=n._tTime=Jt._time,i=Jt._first;i;)s=i._next,(t||!(!i._dur&&i instanceof wn&&i.vars.onComplete===i._targets[0]))&&Vr(n,i,i._start-i._delay),i=s;return Vr(Jt,n,0),n},context:function(e,t){return e?new S_(e,t):_n},matchMedia:function(e){return new QO(e)},matchMediaRefresh:function(){return rl.forEach(function(e){var t=e.conditions,n,i;for(i in t)t[i]&&(t[i]=!1,n=1);n&&e.revert()})||ef()},addEventListener:function(e,t){var n=V2[e]||(V2[e]=[]);~n.indexOf(t)||n.push(t)},removeEventListener:function(e,t){var n=V2[e],i=n&&n.indexOf(t);i>=0&&n.splice(i,1)},utils:{wrap:LO,wrapYoyo:RO,distribute:r_,random:o_,snap:s_,normalize:PO,getUnit:Yn,clamp:EO,splitColor:c_,toArray:ir,selector:Zd,mapRange:l_,pipe:CO,unitize:AO,interpolate:IO,shuffle:i_},install:jg,effects:kh,ticker:Oi,updateRoot:xi.updateRoot,plugins:Ii,globalTimeline:Jt,core:{PropTween:Ei,globals:qg,Tween:wn,Timeline:xi,Animation:il,getCache:oa,_removeLinkedListItem:t3,reverting:function(){return wi},context:function(e){return e&&_n&&(_n.data.push(e),e._ctx=_n),_n},suppressOverwrites:function(e){return w4=e}}};Mi("to,from,fromTo,delayedCall,set,killTweensOf",function(r){return Mu[r]=wn[r]});Oi.add(xi.updateRoot);b1=Mu.to({},{duration:0});var JO=function(e,t){for(var n=e._pt;n&&n.p!==t&&n.op!==t&&n.fp!==t;)n=n._next;return n},eF=function(e,t){var n=e._targets,i,s,o;for(i in t)for(s=n.length;s--;)o=e._ptLookup[s][i],o&&(o=o.d)&&(o._pt&&(o=JO(o,i)),o&&o.modifier&&o.modifier(t[i],e,n[s],i))},Bh=function(e,t){return{name:e,rawVars:1,init:function(i,s,o){o._onInit=function(a){var l,c;if(kn(s)&&(l={},Mi(s,function(h){return l[h]=1}),s=l),t){l={};for(c in s)l[c]=t(s[c]);s=l}eF(a,s)}}}},Gi=Mu.registerPlugin({name:"attr",init:function(e,t,n,i,s){var o,a,l;this.tween=n;for(o in t)l=e.getAttribute(o)||"",a=this.add(e,"setAttribute",(l||0)+"",t[o],i,s,0,0,o),a.op=o,a.b=l,this._props.push(o)},render:function(e,t){for(var n=t._pt;n;)wi?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",init:function(e,t){for(var n=t.length;n--;)this.add(e,n,e[n]||0,t[n],0,0,0,0,0,1)}},Bh("roundProps",Qd),Bh("modifiers"),Bh("snap",s_))||Mu;wn.version=xi.version=Gi.version="3.11.3";Wg=1;Bg()&&nl();Tt.Power0;Tt.Power1;Tt.Power2;Tt.Power3;Tt.Power4;Tt.Linear;Tt.Quad;Tt.Cubic;Tt.Quart;Tt.Quint;Tt.Strong;Tt.Elastic;Tt.Back;Tt.SteppedEase;Tt.Bounce;Tt.Sine;Tt.Expo;Tt.Circ;/*!
 * CSSPlugin 3.11.3
 * https://greensock.com
 *
 * Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var i8,to,R1,k4,Jo,r8,O4,tF=function(){return typeof window<"u"},As={},Wo=180/Math.PI,I1=Math.PI/180,s1=Math.atan2,s8=1e8,F4=/([A-Z])/g,nF=/(left|right|width|margin|padding|x)/i,iF=/[\s,\(]\S/,bs={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},tf=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},rF=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},sF=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},oF=function(e,t){var n=t.s+t.c*e;t.set(t.t,t.p,~~(n+(n<0?-.5:.5))+t.u,t)},M_=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},E_=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},aF=function(e,t,n){return e.style[t]=n},lF=function(e,t,n){return e.style.setProperty(t,n)},cF=function(e,t,n){return e._gsap[t]=n},uF=function(e,t,n){return e._gsap.scaleX=e._gsap.scaleY=n},hF=function(e,t,n,i,s){var o=e._gsap;o.scaleX=o.scaleY=n,o.renderTransform(s,o)},dF=function(e,t,n,i,s){var o=e._gsap;o[t]=n,o.renderTransform(s,o)},tn="transform",Pr=tn+"Origin",fF=function(e,t){var n=this,i=this.target,s=i.style;if(e in As){if(this.tfm=this.tfm||{},e!=="transform"&&(e=bs[e]||e,~e.indexOf(",")?e.split(",").forEach(function(o){return n.tfm[o]=ms(i,o)}):this.tfm[e]=i._gsap.x?i._gsap[e]:ms(i,e)),this.props.indexOf(tn)>=0)return;i._gsap.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(Pr,t,"")),e=tn}(s||t)&&this.props.push(e,t,s[e])},T_=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},pF=function(){var e=this.props,t=this.target,n=t.style,i=t._gsap,s,o;for(s=0;s<e.length;s+=3)e[s+1]?t[e[s]]=e[s+2]:e[s+2]?n[e[s]]=e[s+2]:n.removeProperty(e[s].replace(F4,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)i[o]=this.tfm[o];i.svg&&(i.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),s=O4(),s&&!s.isStart&&!n[tn]&&(T_(n),i.uncache=1)}},C_=function(e,t){var n={target:e,props:[],revert:pF,save:fF};return t&&t.split(",").forEach(function(i){return n.save(i)}),n},A_,nf=function(e,t){var n=to.createElementNS?to.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):to.createElement(e);return n.style?n:to.createElement(e)},qr=function r(e,t,n){var i=getComputedStyle(e);return i[t]||i.getPropertyValue(t.replace(F4,"-$1").toLowerCase())||i.getPropertyValue(t)||!n&&r(e,sl(t)||t,1)||""},o8="O,Moz,ms,Ms,Webkit".split(","),sl=function(e,t,n){var i=t||Jo,s=i.style,o=5;if(e in s&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(o8[o]+e in s););return o<0?null:(o===3?"ms":o>=0?o8[o]:"")+e},rf=function(){tF()&&window.document&&(i8=window,to=i8.document,R1=to.documentElement,Jo=nf("div")||{style:{}},nf("div"),tn=sl(tn),Pr=tn+"Origin",Jo.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",A_=!!sl("perspective"),O4=Gi.core.reverting,k4=1)},Uh=function r(e){var t=nf("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),n=this.parentNode,i=this.nextSibling,s=this.style.cssText,o;if(R1.appendChild(t),t.appendChild(this),this.style.display="block",e)try{o=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=r}catch{}else this._gsapBBox&&(o=this._gsapBBox());return n&&(i?n.insertBefore(this,i):n.appendChild(this)),R1.removeChild(t),this.style.cssText=s,o},a8=function(e,t){for(var n=t.length;n--;)if(e.hasAttribute(t[n]))return e.getAttribute(t[n])},P_=function(e){var t;try{t=e.getBBox()}catch{t=Uh.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===Uh||(t=Uh.call(e,!0)),t&&!t.width&&!t.x&&!t.y?{x:+a8(e,["x","cx","x1"])||0,y:+a8(e,["y","cy","y1"])||0,width:0,height:0}:t},L_=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&P_(e))},s0=function(e,t){if(t){var n=e.style;t in As&&t!==Pr&&(t=tn),n.removeProperty?((t.substr(0,2)==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),n.removeProperty(t.replace(F4,"-$1").toLowerCase())):n.removeAttribute(t)}},no=function(e,t,n,i,s,o){var a=new Ei(e._pt,t,n,0,1,o?E_:M_);return e._pt=a,a.b=i,a.e=s,e._props.push(n),a},l8={deg:1,rad:1,turn:1},mF={grid:1,flex:1},bo=function r(e,t,n,i){var s=parseFloat(n)||0,o=(n+"").trim().substr((s+"").length)||"px",a=Jo.style,l=nF.test(t),c=e.tagName.toLowerCase()==="svg",h=(c?"client":"offset")+(l?"Width":"Height"),d=100,f=i==="px",m=i==="%",_,v,x,y;return i===o||!s||l8[i]||l8[o]?s:(o!=="px"&&!f&&(s=r(e,t,n,"px")),y=e.getCTM&&L_(e),(m||o==="%")&&(As[t]||~t.indexOf("adius"))?(_=y?e.getBBox()[l?"width":"height"]:e[h],ln(m?s/_*d:s/100*_)):(a[l?"width":"height"]=d+(f?o:i),v=~t.indexOf("adius")||i==="em"&&e.appendChild&&!c?e:e.parentNode,y&&(v=(e.ownerSVGElement||{}).parentNode),(!v||v===to||!v.appendChild)&&(v=to.body),x=v._gsap,x&&m&&x.width&&l&&x.time===Oi.time&&!x.uncache?ln(s/x.width*d):((m||o==="%")&&!mF[qr(v,"display")]&&(a.position=qr(e,"position")),v===e&&(a.position="static"),v.appendChild(Jo),_=Jo[h],v.removeChild(Jo),a.position="absolute",l&&m&&(x=oa(v),x.time=Oi.time,x.width=v[h]),ln(f?_*s/d:_&&s?d/_*s:0))))},ms=function(e,t,n,i){var s;return k4||rf(),t in bs&&t!=="transform"&&(t=bs[t],~t.indexOf(",")&&(t=t.split(",")[0])),As[t]&&t!=="transform"?(s=a0(e,i),s=t!=="transformOrigin"?s[t]:s.svg?s.origin:Tu(qr(e,Pr))+" "+s.zOrigin+"px"):(s=e.style[t],(!s||s==="auto"||i||~(s+"").indexOf("calc("))&&(s=Eu[t]&&Eu[t](e,t,n)||qr(e,t)||$g(e,t)||(t==="opacity"?1:0))),n&&!~(s+"").trim().indexOf(" ")?bo(e,t,s,n)+n:s},gF=function(e,t,n,i){if(!n||n==="none"){var s=sl(t,e,1),o=s&&qr(e,s,1);o&&o!==n?(t=s,n=o):t==="borderColor"&&(n=qr(e,"borderTopColor"))}var a=new Ei(this._pt,e.style,t,0,1,y_),l=0,c=0,h,d,f,m,_,v,x,y,M,w,S,T;if(a.b=n,a.e=i,n+="",i+="",i==="auto"&&(e.style[t]=i,i=qr(e,t)||i,e.style[t]=n),h=[n,i],h_(h),n=h[0],i=h[1],f=n.match(x1)||[],T=i.match(x1)||[],T.length){for(;d=x1.exec(i);)x=d[0],M=i.substring(l,d.index),_?_=(_+1)%5:(M.substr(-5)==="rgba("||M.substr(-5)==="hsla(")&&(_=1),x!==(v=f[c++]||"")&&(m=parseFloat(v)||0,S=v.substr((m+"").length),x.charAt(1)==="="&&(x=L1(m,x)+S),y=parseFloat(x),w=x.substr((y+"").length),l=x1.lastIndex-w.length,w||(w=w||Ui.units[t]||S,l===i.length&&(i+=w,a.e+=w)),S!==w&&(m=bo(e,t,v,w)||0),a._pt={_next:a._pt,p:M||c===1?M:",",s:m,c:y-m,m:_&&_<4||t==="zIndex"?Math.round:0});a.c=l<i.length?i.substring(l,i.length):""}else a.r=t==="display"&&i==="none"?E_:M_;return Hg.test(i)&&(a.e=0),this._pt=a,a},c8={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},_F=function(e){var t=e.split(" "),n=t[0],i=t[1]||"50%";return(n==="top"||n==="bottom"||i==="left"||i==="right")&&(e=n,n=i,i=e),t[0]=c8[n]||n,t[1]=c8[i]||i,t.join(" ")},vF=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var n=t.t,i=n.style,s=t.u,o=n._gsap,a,l,c;if(s==="all"||s===!0)i.cssText="",l=1;else for(s=s.split(","),c=s.length;--c>-1;)a=s[c],As[a]&&(l=1,a=a==="transformOrigin"?Pr:tn),s0(n,a);l&&(s0(n,tn),o&&(o.svg&&n.removeAttribute("transform"),a0(n,1),o.uncache=1,T_(i)))}},Eu={clearProps:function(e,t,n,i,s){if(s.data!=="isFromStart"){var o=e._pt=new Ei(e._pt,t,n,0,0,vF);return o.u=i,o.pr=-10,o.tween=s,e._props.push(n),1}}},o0=[1,0,0,1,0,0],R_={},I_=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},u8=function(e){var t=qr(e,tn);return I_(t)?o0:t.substr(7).match(Vg).map(ln)},N4=function(e,t){var n=e._gsap||oa(e),i=e.style,s=u8(e),o,a,l,c;return n.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,s=[l.a,l.b,l.c,l.d,l.e,l.f],s.join(",")==="1,0,0,1,0,0"?o0:s):(s===o0&&!e.offsetParent&&e!==R1&&!n.svg&&(l=i.display,i.display="block",o=e.parentNode,(!o||!e.offsetParent)&&(c=1,a=e.nextElementSibling,R1.appendChild(e)),s=u8(e),l?i.display=l:s0(e,"display"),c&&(a?o.insertBefore(e,a):o?o.appendChild(e):R1.removeChild(e))),t&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},sf=function(e,t,n,i,s,o){var a=e._gsap,l=s||N4(e,!0),c=a.xOrigin||0,h=a.yOrigin||0,d=a.xOffset||0,f=a.yOffset||0,m=l[0],_=l[1],v=l[2],x=l[3],y=l[4],M=l[5],w=t.split(" "),S=parseFloat(w[0])||0,T=parseFloat(w[1])||0,A,R,E,L;n?l!==o0&&(R=m*x-_*v)&&(E=S*(x/R)+T*(-v/R)+(v*M-x*y)/R,L=S*(-_/R)+T*(m/R)-(m*M-_*y)/R,S=E,T=L):(A=P_(e),S=A.x+(~w[0].indexOf("%")?S/100*A.width:S),T=A.y+(~(w[1]||w[0]).indexOf("%")?T/100*A.height:T)),i||i!==!1&&a.smooth?(y=S-c,M=T-h,a.xOffset=d+(y*m+M*v)-y,a.yOffset=f+(y*_+M*x)-M):a.xOffset=a.yOffset=0,a.xOrigin=S,a.yOrigin=T,a.smooth=!!i,a.origin=t,a.originIsAbsolute=!!n,e.style[Pr]="0px 0px",o&&(no(o,a,"xOrigin",c,S),no(o,a,"yOrigin",h,T),no(o,a,"xOffset",d,a.xOffset),no(o,a,"yOffset",f,a.yOffset)),e.setAttribute("data-svg-origin",S+" "+T)},a0=function(e,t){var n=e._gsap||new m_(e);if("x"in n&&!t&&!n.uncache)return n;var i=e.style,s=n.scaleX<0,o="px",a="deg",l=getComputedStyle(e),c=qr(e,Pr)||"0",h,d,f,m,_,v,x,y,M,w,S,T,A,R,E,L,k,H,te,q,B,N,W,V,Y,X,O,de,_e,pe,Ee,se;return h=d=f=v=x=y=M=w=S=0,m=_=1,n.svg=!!(e.getCTM&&L_(e)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(i[tn]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[tn]!=="none"?l[tn]:"")),i.scale=i.rotate=i.translate="none"),R=N4(e,n.svg),n.svg&&(n.uncache?(Y=e.getBBox(),c=n.xOrigin-Y.x+"px "+(n.yOrigin-Y.y)+"px",V=""):V=!t&&e.getAttribute("data-svg-origin"),sf(e,V||c,!!V||n.originIsAbsolute,n.smooth!==!1,R)),T=n.xOrigin||0,A=n.yOrigin||0,R!==o0&&(H=R[0],te=R[1],q=R[2],B=R[3],h=N=R[4],d=W=R[5],R.length===6?(m=Math.sqrt(H*H+te*te),_=Math.sqrt(B*B+q*q),v=H||te?s1(te,H)*Wo:0,M=q||B?s1(q,B)*Wo+v:0,M&&(_*=Math.abs(Math.cos(M*I1))),n.svg&&(h-=T-(T*H+A*q),d-=A-(T*te+A*B))):(se=R[6],pe=R[7],O=R[8],de=R[9],_e=R[10],Ee=R[11],h=R[12],d=R[13],f=R[14],E=s1(se,_e),x=E*Wo,E&&(L=Math.cos(-E),k=Math.sin(-E),V=N*L+O*k,Y=W*L+de*k,X=se*L+_e*k,O=N*-k+O*L,de=W*-k+de*L,_e=se*-k+_e*L,Ee=pe*-k+Ee*L,N=V,W=Y,se=X),E=s1(-q,_e),y=E*Wo,E&&(L=Math.cos(-E),k=Math.sin(-E),V=H*L-O*k,Y=te*L-de*k,X=q*L-_e*k,Ee=B*k+Ee*L,H=V,te=Y,q=X),E=s1(te,H),v=E*Wo,E&&(L=Math.cos(E),k=Math.sin(E),V=H*L+te*k,Y=N*L+W*k,te=te*L-H*k,W=W*L-N*k,H=V,N=Y),x&&Math.abs(x)+Math.abs(v)>359.9&&(x=v=0,y=180-y),m=ln(Math.sqrt(H*H+te*te+q*q)),_=ln(Math.sqrt(W*W+se*se)),E=s1(N,W),M=Math.abs(E)>2e-4?E*Wo:0,S=Ee?1/(Ee<0?-Ee:Ee):0),n.svg&&(V=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!I_(qr(e,tn)),V&&e.setAttribute("transform",V))),Math.abs(M)>90&&Math.abs(M)<270&&(s?(m*=-1,M+=v<=0?180:-180,v+=v<=0?180:-180):(_*=-1,M+=M<=0?180:-180)),t=t||n.uncache,n.x=h-((n.xPercent=h&&(!t&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-h)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+o,n.y=d-((n.yPercent=d&&(!t&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-d)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+o,n.z=f+o,n.scaleX=ln(m),n.scaleY=ln(_),n.rotation=ln(v)+a,n.rotationX=ln(x)+a,n.rotationY=ln(y)+a,n.skewX=M+a,n.skewY=w+a,n.transformPerspective=S+o,(n.zOrigin=parseFloat(c.split(" ")[2])||0)&&(i[Pr]=Tu(c)),n.xOffset=n.yOffset=0,n.force3D=Ui.force3D,n.renderTransform=n.svg?bF:A_?D_:xF,n.uncache=0,n},Tu=function(e){return(e=e.split(" "))[0]+" "+e[1]},Vh=function(e,t,n){var i=Yn(t);return ln(parseFloat(t)+parseFloat(bo(e,"x",n+"px",i)))+i},xF=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,D_(e,t)},zo="0deg",Zl="0px",Bo=") ",D_=function(e,t){var n=t||this,i=n.xPercent,s=n.yPercent,o=n.x,a=n.y,l=n.z,c=n.rotation,h=n.rotationY,d=n.rotationX,f=n.skewX,m=n.skewY,_=n.scaleX,v=n.scaleY,x=n.transformPerspective,y=n.force3D,M=n.target,w=n.zOrigin,S="",T=y==="auto"&&e&&e!==1||y===!0;if(w&&(d!==zo||h!==zo)){var A=parseFloat(h)*I1,R=Math.sin(A),E=Math.cos(A),L;A=parseFloat(d)*I1,L=Math.cos(A),o=Vh(M,o,R*L*-w),a=Vh(M,a,-Math.sin(A)*-w),l=Vh(M,l,E*L*-w+w)}x!==Zl&&(S+="perspective("+x+Bo),(i||s)&&(S+="translate("+i+"%, "+s+"%) "),(T||o!==Zl||a!==Zl||l!==Zl)&&(S+=l!==Zl||T?"translate3d("+o+", "+a+", "+l+") ":"translate("+o+", "+a+Bo),c!==zo&&(S+="rotate("+c+Bo),h!==zo&&(S+="rotateY("+h+Bo),d!==zo&&(S+="rotateX("+d+Bo),(f!==zo||m!==zo)&&(S+="skew("+f+", "+m+Bo),(_!==1||v!==1)&&(S+="scale("+_+", "+v+Bo),M.style[tn]=S||"translate(0, 0)"},bF=function(e,t){var n=t||this,i=n.xPercent,s=n.yPercent,o=n.x,a=n.y,l=n.rotation,c=n.skewX,h=n.skewY,d=n.scaleX,f=n.scaleY,m=n.target,_=n.xOrigin,v=n.yOrigin,x=n.xOffset,y=n.yOffset,M=n.forceCSS,w=parseFloat(o),S=parseFloat(a),T,A,R,E,L;l=parseFloat(l),c=parseFloat(c),h=parseFloat(h),h&&(h=parseFloat(h),c+=h,l+=h),l||c?(l*=I1,c*=I1,T=Math.cos(l)*d,A=Math.sin(l)*d,R=Math.sin(l-c)*-f,E=Math.cos(l-c)*f,c&&(h*=I1,L=Math.tan(c-h),L=Math.sqrt(1+L*L),R*=L,E*=L,h&&(L=Math.tan(h),L=Math.sqrt(1+L*L),T*=L,A*=L)),T=ln(T),A=ln(A),R=ln(R),E=ln(E)):(T=d,E=f,A=R=0),(w&&!~(o+"").indexOf("px")||S&&!~(a+"").indexOf("px"))&&(w=bo(m,"x",o,"px"),S=bo(m,"y",a,"px")),(_||v||x||y)&&(w=ln(w+_-(_*T+v*R)+x),S=ln(S+v-(_*A+v*E)+y)),(i||s)&&(L=m.getBBox(),w=ln(w+i/100*L.width),S=ln(S+s/100*L.height)),L="matrix("+T+","+A+","+R+","+E+","+w+","+S+")",m.setAttribute("transform",L),M&&(m.style[tn]=L)},yF=function(e,t,n,i,s){var o=360,a=kn(s),l=parseFloat(s)*(a&&~s.indexOf("rad")?Wo:1),c=l-i,h=i+c+"deg",d,f;return a&&(d=s.split("_")[1],d==="short"&&(c%=o,c!==c%(o/2)&&(c+=c<0?o:-o)),d==="cw"&&c<0?c=(c+o*s8)%o-~~(c/o)*o:d==="ccw"&&c>0&&(c=(c-o*s8)%o-~~(c/o)*o)),e._pt=f=new Ei(e._pt,t,n,i,c,rF),f.e=h,f.u="deg",e._props.push(n),f},h8=function(e,t){for(var n in t)e[n]=t[n];return e},wF=function(e,t,n){var i=h8({},n._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=n.style,a,l,c,h,d,f,m,_;i.svg?(c=n.getAttribute("transform"),n.setAttribute("transform",""),o[tn]=t,a=a0(n,1),s0(n,tn),n.setAttribute("transform",c)):(c=getComputedStyle(n)[tn],o[tn]=t,a=a0(n,1),o[tn]=c);for(l in As)c=i[l],h=a[l],c!==h&&s.indexOf(l)<0&&(m=Yn(c),_=Yn(h),d=m!==_?bo(n,l,c,_):parseFloat(c),f=parseFloat(h),e._pt=new Ei(e._pt,a,l,d,f-d,tf),e._pt.u=_||0,e._props.push(l));h8(a,i)};Mi("padding,margin,Width,Radius",function(r,e){var t="Top",n="Right",i="Bottom",s="Left",o=(e<3?[t,n,i,s]:[t+s,t+n,i+n,i+s]).map(function(a){return e<2?r+a:"border"+a+r});Eu[e>1?"border"+r:r]=function(a,l,c,h,d){var f,m;if(arguments.length<4)return f=o.map(function(_){return ms(a,_,c)}),m=f.join(" "),m.split(f[0]).length===5?f[0]:m;f=(h+"").split(" "),m={},o.forEach(function(_,v){return m[_]=f[v]=f[v]||f[(v-1)/2|0]}),a.init(l,m,d)}});var k_={name:"css",register:rf,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,n,i,s){var o=this._props,a=e.style,l=n.vars.startAt,c,h,d,f,m,_,v,x,y,M,w,S,T,A,R,E;k4||rf(),this.styles=this.styles||C_(e),E=this.styles.props,this.tween=n;for(v in t)if(v!=="autoRound"&&(h=t[v],!(Ii[v]&&g_(v,t,n,i,e,s)))){if(m=typeof h,_=Eu[v],m==="function"&&(h=h.call(n,i,e,s),m=typeof h),m==="string"&&~h.indexOf("random(")&&(h=i0(h)),_)_(this,e,v,h,n)&&(R=1);else if(v.substr(0,2)==="--")c=(getComputedStyle(e).getPropertyValue(v)+"").trim(),h+="",fo.lastIndex=0,fo.test(c)||(x=Yn(c),y=Yn(h)),y?x!==y&&(c=bo(e,v,c,y)+y):x&&(h+=x),this.add(a,"setProperty",c,h,i,s,0,0,v),o.push(v),E.push(v,0,a[v]);else if(m!=="undefined"){if(l&&v in l?(c=typeof l[v]=="function"?l[v].call(n,i,e,s):l[v],kn(c)&&~c.indexOf("random(")&&(c=i0(c)),Yn(c+"")||(c+=Ui.units[v]||Yn(ms(e,v))||""),(c+"").charAt(1)==="="&&(c=ms(e,v))):c=ms(e,v),f=parseFloat(c),M=m==="string"&&h.charAt(1)==="="&&h.substr(0,2),M&&(h=h.substr(2)),d=parseFloat(h),v in bs&&(v==="autoAlpha"&&(f===1&&ms(e,"visibility")==="hidden"&&d&&(f=0),E.push("visibility",0,a.visibility),no(this,a,"visibility",f?"inherit":"hidden",d?"inherit":"hidden",!d)),v!=="scale"&&v!=="transform"&&(v=bs[v],~v.indexOf(",")&&(v=v.split(",")[0]))),w=v in As,w){if(this.styles.save(v),S||(T=e._gsap,T.renderTransform&&!t.parseTransform||a0(e,t.parseTransform),A=t.smoothOrigin!==!1&&T.smooth,S=this._pt=new Ei(this._pt,a,tn,0,1,T.renderTransform,T,0,-1),S.dep=1),v==="scale")this._pt=new Ei(this._pt,T,"scaleY",f,(M?L1(f,M+d):d)-f||0,tf),this._pt.u=0,o.push("scaleY",v),v+="X";else if(v==="transformOrigin"){E.push(Pr,0,a[Pr]),h=_F(h),T.svg?sf(e,h,0,A,0,this):(y=parseFloat(h.split(" ")[2])||0,y!==T.zOrigin&&no(this,T,"zOrigin",T.zOrigin,y),no(this,a,v,Tu(c),Tu(h)));continue}else if(v==="svgOrigin"){sf(e,h,1,A,0,this);continue}else if(v in R_){yF(this,T,v,f,M?L1(f,M+h):h);continue}else if(v==="smoothOrigin"){no(this,T,"smooth",T.smooth,h);continue}else if(v==="force3D"){T[v]=h;continue}else if(v==="transform"){wF(this,h,e);continue}}else v in a||(v=sl(v)||v);if(w||(d||d===0)&&(f||f===0)&&!iF.test(h)&&v in a)x=(c+"").substr((f+"").length),d||(d=0),y=Yn(h)||(v in Ui.units?Ui.units[v]:x),x!==y&&(f=bo(e,v,c,y)),this._pt=new Ei(this._pt,w?T:a,v,f,(M?L1(f,M+d):d)-f,!w&&(y==="px"||v==="zIndex")&&t.autoRound!==!1?oF:tf),this._pt.u=y||0,x!==y&&y!=="%"&&(this._pt.b=c,this._pt.r=sF);else if(v in a)gF.call(this,e,v,c,M?M+h:h);else if(v in e)this.add(e,v,c||e[v],M?M+h:h,i,s);else{E4(v,h);continue}w||(v in a?E.push(v,0,a[v]):E.push(v,1,c||e[v])),o.push(v)}}R&&w_(this)},render:function(e,t){if(t.tween._time||!O4())for(var n=t._pt;n;)n.r(e,n.d),n=n._next;else t.styles.revert()},get:ms,aliases:bs,getSetter:function(e,t,n){var i=bs[t];return i&&i.indexOf(",")<0&&(t=i),t in As&&t!==Pr&&(e._gsap.x||ms(e,"x"))?n&&r8===n?t==="scale"?uF:cF:(r8=n||{})&&(t==="scale"?hF:dF):e.style&&!S4(e.style[t])?aF:~t.indexOf("-")?lF:I4(e,t)},core:{_removeProperty:s0,_getMatrix:N4}};Gi.utils.checkPrefix=sl;Gi.core.getStyleSaver=C_;(function(r,e,t,n){var i=Mi(r+","+e+","+t,function(s){As[s]=1});Mi(e,function(s){Ui.units[s]="deg",R_[s]=1}),bs[i[13]]=r+","+e,Mi(n,function(s){var o=s.split(":");bs[o[1]]=i[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Mi("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(r){Ui.units[r]="px"});Gi.registerPlugin(k_);var Ji=Gi.registerPlugin(k_)||Gi;Ji.core.Tween;function d8(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function SF(r,e,t){return e&&d8(r.prototype,e),t&&d8(r,t),r}/*!
 * Observer 3.11.3
 * https://greensock.com
 *
 * @license Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Qn,of,Fi,io,ro,D1,O_,jo,Sc,F_,ys,br,N_=function(){return Qn||typeof window<"u"&&(Qn=window.gsap)&&Qn.registerPlugin&&Qn},z_=1,y1=[],Mt=[],Xr=[],Mc=Date.now,af=function(e,t){return t},MF=function(){var e=Sc.core,t=e.bridge||{},n=e._scrollers,i=e._proxies;n.push.apply(n,Mt),i.push.apply(i,Xr),Mt=n,Xr=i,af=function(o,a){return t[o](a)}},po=function(e,t){return~Xr.indexOf(e)&&Xr[Xr.indexOf(e)+1][t]},Ec=function(e){return!!~F_.indexOf(e)},fi=function(e,t,n,i,s){return e.addEventListener(t,n,{passive:!i,capture:!!s})},ri=function(e,t,n,i){return e.removeEventListener(t,n,!!i)},p2="scrollLeft",m2="scrollTop",lf=function(){return ys&&ys.isPressed||Mt.cache++},Cu=function(e,t){var n=function i(s){if(s||s===0){z_&&(Fi.history.scrollRestoration="manual");var o=ys&&ys.isPressed;s=i.v=Math.round(s)||(ys&&ys.iOS?1:0),e(s),i.cacheID=Mt.cache,o&&af("ss",s)}else(t||Mt.cache!==i.cacheID||af("ref"))&&(i.cacheID=Mt.cache,i.v=e());return i.v+i.offset};return n.offset=0,e&&n},ui={s:p2,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:Cu(function(r){return arguments.length?Fi.scrollTo(r,Sn.sc()):Fi.pageXOffset||io[p2]||ro[p2]||D1[p2]||0})},Sn={s:m2,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:ui,sc:Cu(function(r){return arguments.length?Fi.scrollTo(ui.sc(),r):Fi.pageYOffset||io[m2]||ro[m2]||D1[m2]||0})},gi=function(e){return Qn.utils.toArray(e)[0]||(typeof e=="string"&&Qn.config().nullTargetWarn!==!1?console.warn("Element not found:",e):null)},yo=function(e,t){var n=t.s,i=t.sc;Ec(e)&&(e=io.scrollingElement||ro);var s=Mt.indexOf(e),o=i===Sn.sc?1:2;!~s&&(s=Mt.push(e)-1),Mt[s+o]||e.addEventListener("scroll",lf);var a=Mt[s+o],l=a||(Mt[s+o]=Cu(po(e,n),!0)||(Ec(e)?i:Cu(function(c){return arguments.length?e[n]=c:e[n]})));return l.target=e,a||(l.smooth=Qn.getProperty(e,"scrollBehavior")==="smooth"),l},cf=function(e,t,n){var i=e,s=e,o=Mc(),a=o,l=t||50,c=Math.max(500,l*3),h=function(_,v){var x=Mc();v||x-o>l?(s=i,i=_,a=o,o=x):n?i+=_:i=s+(_-s)/(x-a)*(o-a)},d=function(){s=i=n?0:i,a=o=0},f=function(_){var v=a,x=s,y=Mc();return(_||_===0)&&_!==i&&h(_),o===a||y-a>c?0:(i+(n?x:-x))/((n?y:o)-v)*1e3};return{update:h,reset:d,getVelocity:f}},Ql=function(e,t){return t&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},f8=function(e){var t=Math.max.apply(Math,e),n=Math.min.apply(Math,e);return Math.abs(t)>=Math.abs(n)?t:n},B_=function(){Sc=Qn.core.globals().ScrollTrigger,Sc&&Sc.core&&MF()},U_=function(e){return Qn=e||N_(),Qn&&typeof document<"u"&&document.body&&(Fi=window,io=document,ro=io.documentElement,D1=io.body,F_=[Fi,io,ro,D1],Qn.utils.clamp,jo="onpointerenter"in D1?"pointer":"mouse",O_=xn.isTouch=Fi.matchMedia&&Fi.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in Fi||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,br=xn.eventTypes=("ontouchstart"in ro?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in ro?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return z_=0},500),B_(),of=1),of};ui.op=Sn;Mt.cache=0;var xn=function(){function r(t){this.init(t)}var e=r.prototype;return e.init=function(n){of||U_(Qn)||console.warn("Please gsap.registerPlugin(Observer)"),Sc||B_();var i=n.tolerance,s=n.dragMinimum,o=n.type,a=n.target,l=n.lineHeight,c=n.debounce,h=n.preventDefault,d=n.onStop,f=n.onStopDelay,m=n.ignore,_=n.wheelSpeed,v=n.event,x=n.onDragStart,y=n.onDragEnd,M=n.onDrag,w=n.onPress,S=n.onRelease,T=n.onRight,A=n.onLeft,R=n.onUp,E=n.onDown,L=n.onChangeX,k=n.onChangeY,H=n.onChange,te=n.onToggleX,q=n.onToggleY,B=n.onHover,N=n.onHoverEnd,W=n.onMove,V=n.ignoreCheck,Y=n.isNormalizer,X=n.onGestureStart,O=n.onGestureEnd,de=n.onWheel,_e=n.onEnable,pe=n.onDisable,Ee=n.onClick,se=n.scrollSpeed,ie=n.capture,J=n.allowClicks,z=n.lockAxis,$=n.onLockAxis;this.target=a=gi(a)||ro,this.vars=n,m&&(m=Qn.utils.toArray(m)),i=i||1e-9,s=s||0,_=_||1,se=se||1,o=o||"wheel,touch,pointer",c=c!==!1,l||(l=parseFloat(Fi.getComputedStyle(D1).lineHeight)||22);var oe,ve,C,I,j,ee,ne,G=this,xe=0,ue=0,Me=yo(a,ui),ye=yo(a,Sn),F=Me(),D=ye(),re=~o.indexOf("touch")&&!~o.indexOf("pointer")&&br[0]==="pointerdown",fe=Ec(a),me=a.ownerDocument||io,Ce=[0,0,0],Pe=[0,0,0],K=0,ae=function(){return K=Mc()},Le=function(we,Ve){return(G.event=we)&&m&&~m.indexOf(we.target)||Ve&&re&&we.pointerType!=="touch"||V&&V(we,Ve)},ze=function(){G._vx.reset(),G._vy.reset(),ve.pause(),d&&d(G)},De=function(){var we=G.deltaX=f8(Ce),Ve=G.deltaY=f8(Pe),Ue=Math.abs(we)>=i,nt=Math.abs(Ve)>=i;H&&(Ue||nt)&&H(G,we,Ve,Ce,Pe),Ue&&(T&&G.deltaX>0&&T(G),A&&G.deltaX<0&&A(G),L&&L(G),te&&G.deltaX<0!=xe<0&&te(G),xe=G.deltaX,Ce[0]=Ce[1]=Ce[2]=0),nt&&(E&&G.deltaY>0&&E(G),R&&G.deltaY<0&&R(G),k&&k(G),q&&G.deltaY<0!=ue<0&&q(G),ue=G.deltaY,Pe[0]=Pe[1]=Pe[2]=0),(I||C)&&(W&&W(G),C&&(M(G),C=!1),I=!1),ee&&!(ee=!1)&&$&&$(G),j&&(de(G),j=!1),oe=0},He=function(we,Ve,Ue){Ce[Ue]+=we,Pe[Ue]+=Ve,G._vx.update(we),G._vy.update(Ve),c?oe||(oe=requestAnimationFrame(De)):De()},Oe=function(we,Ve){z&&!ne&&(G.axis=ne=Math.abs(we)>Math.abs(Ve)?"x":"y",ee=!0),ne!=="y"&&(Ce[2]+=we,G._vx.update(we,!0)),ne!=="x"&&(Pe[2]+=Ve,G._vy.update(Ve,!0)),c?oe||(oe=requestAnimationFrame(De)):De()},Fe=function(we){if(!Le(we,1)){we=Ql(we,h);var Ve=we.clientX,Ue=we.clientY,nt=Ve-G.x,Yt=Ue-G.y,st=G.isDragging;G.x=Ve,G.y=Ue,(st||Math.abs(G.startX-Ve)>=s||Math.abs(G.startY-Ue)>=s)&&(M&&(C=!0),st||(G.isDragging=!0),Oe(nt,Yt),st||x&&x(G))}},rt=G.onPress=function(lt){Le(lt,1)||(G.axis=ne=null,ve.pause(),G.isPressed=!0,lt=Ql(lt),xe=ue=0,G.startX=G.x=lt.clientX,G.startY=G.y=lt.clientY,G._vx.reset(),G._vy.reset(),fi(Y?a:me,br[1],Fe,h,!0),G.deltaX=G.deltaY=0,w&&w(G))},at=function(we){if(!Le(we,1)){ri(Y?a:me,br[1],Fe,!0);var Ve=G.isDragging&&(Math.abs(G.x-G.startX)>3||Math.abs(G.y-G.startY)>3),Ue=Ql(we);Ve||(G._vx.reset(),G._vy.reset(),h&&J&&Qn.delayedCall(.08,function(){if(Mc()-K>300&&!we.defaultPrevented){if(we.target.click)we.target.click();else if(me.createEvent){var nt=me.createEvent("MouseEvents");nt.initMouseEvent("click",!0,!0,Fi,1,Ue.screenX,Ue.screenY,Ue.clientX,Ue.clientY,!1,!1,!1,!1,0,null),we.target.dispatchEvent(nt)}}})),G.isDragging=G.isGesturing=G.isPressed=!1,d&&!Y&&ve.restart(!0),y&&Ve&&y(G),S&&S(G,Ve)}},le=function(we){return we.touches&&we.touches.length>1&&(G.isGesturing=!0)&&X(we,G.isDragging)},Se=function(){return(G.isGesturing=!1)||O(G)},Ae=function(we){if(!Le(we)){var Ve=Me(),Ue=ye();He((Ve-F)*se,(Ue-D)*se,1),F=Ve,D=Ue,d&&ve.restart(!0)}},ke=function(we){if(!Le(we)){we=Ql(we,h),de&&(j=!0);var Ve=(we.deltaMode===1?l:we.deltaMode===2?Fi.innerHeight:1)*_;He(we.deltaX*Ve,we.deltaY*Ve,0),d&&!Y&&ve.restart(!0)}},We=function(we){if(!Le(we)){var Ve=we.clientX,Ue=we.clientY,nt=Ve-G.x,Yt=Ue-G.y;G.x=Ve,G.y=Ue,I=!0,(nt||Yt)&&Oe(nt,Yt)}},it=function(we){G.event=we,B(G)},Ut=function(we){G.event=we,N(G)},Ft=function(we){return Le(we)||Ql(we,h)&&Ee(G)};ve=G._dc=Qn.delayedCall(f||.25,ze).pause(),G.deltaX=G.deltaY=0,G._vx=cf(0,50,!0),G._vy=cf(0,50,!0),G.scrollX=Me,G.scrollY=ye,G.isDragging=G.isGesturing=G.isPressed=!1,G.enable=function(lt){return G.isEnabled||(fi(fe?me:a,"scroll",lf),o.indexOf("scroll")>=0&&fi(fe?me:a,"scroll",Ae,h,ie),o.indexOf("wheel")>=0&&fi(a,"wheel",ke,h,ie),(o.indexOf("touch")>=0&&O_||o.indexOf("pointer")>=0)&&(fi(a,br[0],rt,h,ie),fi(me,br[2],at),fi(me,br[3],at),J&&fi(a,"click",ae,!1,!0),Ee&&fi(a,"click",Ft),X&&fi(me,"gesturestart",le),O&&fi(me,"gestureend",Se),B&&fi(a,jo+"enter",it),N&&fi(a,jo+"leave",Ut),W&&fi(a,jo+"move",We)),G.isEnabled=!0,lt&&lt.type&&rt(lt),_e&&_e(G)),G},G.disable=function(){G.isEnabled&&(y1.filter(function(lt){return lt!==G&&Ec(lt.target)}).length||ri(fe?me:a,"scroll",lf),G.isPressed&&(G._vx.reset(),G._vy.reset(),ri(Y?a:me,br[1],Fe,!0)),ri(fe?me:a,"scroll",Ae,ie),ri(a,"wheel",ke,ie),ri(a,br[0],rt,ie),ri(me,br[2],at),ri(me,br[3],at),ri(a,"click",ae,!0),ri(a,"click",Ft),ri(me,"gesturestart",le),ri(me,"gestureend",Se),ri(a,jo+"enter",it),ri(a,jo+"leave",Ut),ri(a,jo+"move",We),G.isEnabled=G.isPressed=G.isDragging=!1,pe&&pe(G))},G.kill=function(){G.disable();var lt=y1.indexOf(G);lt>=0&&y1.splice(lt,1),ys===G&&(ys=0)},y1.push(G),Y&&Ec(a)&&(ys=G),G.enable(v)},SF(r,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),r}();xn.version="3.11.3";xn.create=function(r){return new xn(r)};xn.register=U_;xn.getAll=function(){return y1.slice()};xn.getById=function(r){return y1.filter(function(e){return e.vars.id===r})[0]};N_()&&Qn.registerPlugin(xn);/*!
 * ScrollTrigger 3.11.3
 * https://greensock.com
 *
 * @license Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Ze,d1,St,Zt,Hr,rn,V_,Au,Pu,w1,H2,g2,$n,r3,uf,ai,p8,m8,f1,H_,Hh,G_,Li,W_,j_,q_,Ys,hf,z4,Gh,_2=1,li=Date.now,Wh=li(),ur=0,v2=0,g8=function(){return r3=1},_8=function(){return r3=0},Fr=function(e){return e},lc=function(e){return Math.round(e*1e5)/1e5||0},X_=function(){return typeof window<"u"},$_=function(){return Ze||X_()&&(Ze=window.gsap)&&Ze.registerPlugin&&Ze},xa=function(e){return!!~V_.indexOf(e)},K_=function(e){return po(e,"getBoundingClientRect")||(xa(e)?function(){return $2.width=St.innerWidth,$2.height=St.innerHeight,$2}:function(){return gs(e)})},EF=function(e,t,n){var i=n.d,s=n.d2,o=n.a;return(o=po(e,"getBoundingClientRect"))?function(){return o()[i]}:function(){return(t?St["inner"+s]:e["client"+s])||0}},TF=function(e,t){return!t||~Xr.indexOf(e)?K_(e):function(){return $2}},so=function(e,t){var n=t.s,i=t.d2,s=t.d,o=t.a;return(n="scroll"+i)&&(o=po(e,n))?o()-K_(e)()[s]:xa(e)?(Hr[n]||rn[n])-(St["inner"+i]||Hr["client"+i]||rn["client"+i]):e[n]-e["offset"+i]},x2=function(e,t){for(var n=0;n<f1.length;n+=3)(!t||~t.indexOf(f1[n+1]))&&e(f1[n],f1[n+1],f1[n+2])},yr=function(e){return typeof e=="string"},hi=function(e){return typeof e=="function"},cc=function(e){return typeof e=="number"},G2=function(e){return typeof e=="object"},Jl=function(e,t,n){return e&&e.progress(t?0:1)&&n&&e.pause()},jh=function(e,t){if(e.enabled){var n=t(e);n&&n.totalTime&&(e.callbackAnimation=n)}},o1=Math.abs,Y_="left",Z_="top",B4="right",U4="bottom",ca="width",ua="height",Tc="Right",Cc="Left",Ac="Top",Pc="Bottom",on="padding",er="margin",ol="Width",V4="Height",Bn="px",Gr=function(e){return St.getComputedStyle(e)},CF=function(e){var t=Gr(e).position;e.style.position=t==="absolute"||t==="fixed"?t:"relative"},v8=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},gs=function(e,t){var n=t&&Gr(e)[uf]!=="matrix(1, 0, 0, 1, 0, 0)"&&Ze.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),i=e.getBoundingClientRect();return n&&n.progress(0).kill(),i},df=function(e,t){var n=t.d2;return e["offset"+n]||e["client"+n]||0},Q_=function(e){var t=[],n=e.labels,i=e.duration(),s;for(s in n)t.push(n[s]/i);return t},AF=function(e){return function(t){return Ze.utils.snap(Q_(e),t)}},H4=function(e){var t=Ze.utils.snap(e),n=Array.isArray(e)&&e.slice(0).sort(function(i,s){return i-s});return n?function(i,s,o){o===void 0&&(o=.001);var a;if(!s)return t(i);if(s>0){for(i-=o,a=0;a<n.length;a++)if(n[a]>=i)return n[a];return n[a-1]}else for(a=n.length,i+=o;a--;)if(n[a]<=i)return n[a];return n[0]}:function(i,s,o){o===void 0&&(o=.001);var a=t(i);return!s||Math.abs(a-i)<o||a-i<0==s<0?a:t(s<0?i-e:i+e)}},PF=function(e){return function(t,n){return H4(Q_(e))(t,n.direction)}},b2=function(e,t,n,i){return n.split(",").forEach(function(s){return e(t,s,i)})},Un=function(e,t,n,i,s){return e.addEventListener(t,n,{passive:!i,capture:!!s})},Ln=function(e,t,n,i){return e.removeEventListener(t,n,!!i)},y2=function(e,t,n){return n&&n.wheelHandler&&e(t,"wheel",n)},x8={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},w2={toggleActions:"play",anticipatePin:0},Lu={top:0,left:0,center:.5,bottom:1,right:1},W2=function(e,t){if(yr(e)){var n=e.indexOf("="),i=~n?+(e.charAt(n-1)+1)*parseFloat(e.substr(n+1)):0;~n&&(e.indexOf("%")>n&&(i*=t/100),e=e.substr(0,n-1)),e=i+(e in Lu?Lu[e]*t:~e.indexOf("%")?parseFloat(e)*t/100:parseFloat(e)||0)}return e},S2=function(e,t,n,i,s,o,a,l){var c=s.startColor,h=s.endColor,d=s.fontSize,f=s.indent,m=s.fontWeight,_=Zt.createElement("div"),v=xa(n)||po(n,"pinType")==="fixed",x=e.indexOf("scroller")!==-1,y=v?rn:n,M=e.indexOf("start")!==-1,w=M?c:h,S="border-color:"+w+";font-size:"+d+";color:"+w+";font-weight:"+m+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return S+="position:"+((x||l)&&v?"fixed;":"absolute;"),(x||l||!v)&&(S+=(i===Sn?B4:U4)+":"+(o+parseFloat(f))+"px;"),a&&(S+="box-sizing:border-box;text-align:left;width:"+a.offsetWidth+"px;"),_._isStart=M,_.setAttribute("class","gsap-marker-"+e+(t?" marker-"+t:"")),_.style.cssText=S,_.innerText=t||t===0?e+"-"+t:e,y.children[0]?y.insertBefore(_,y.children[0]):y.appendChild(_),_._offset=_["offset"+i.op.d2],j2(_,0,i,M),_},j2=function(e,t,n,i){var s={display:"block"},o=n[i?"os2":"p2"],a=n[i?"p2":"os2"];e._isFlipped=i,s[n.a+"Percent"]=i?-100:0,s[n.a]=i?"1px":0,s["border"+o+ol]=1,s["border"+a+ol]=0,s[n.p]=t+"px",Ze.set(e,s)},gt=[],ff={},l0,b8=function(){return li()-ur>34&&(l0||(l0=requestAnimationFrame(wa)))},a1=function(){(!Li||!Li.isPressed||Li.startX>rn.clientWidth)&&(Mt.cache++,Li?l0||(l0=requestAnimationFrame(wa)):wa(),ur||ya("scrollStart"),ur=li())},qh=function(){q_=St.innerWidth,j_=St.innerHeight},uc=function(){Mt.cache++,!$n&&!G_&&!Zt.fullscreenElement&&!Zt.webkitFullscreenElement&&(!W_||q_!==St.innerWidth||Math.abs(St.innerHeight-j_)>St.innerHeight*.25)&&Au.restart(!0)},ba={},LF=[],J_=function r(){return Ln(dt,"scrollEnd",r)||ea(!0)},ya=function(e){return ba[e]&&ba[e].map(function(t){return t()})||LF},Ri=[],ev=function(e){for(var t=0;t<Ri.length;t+=5)(!e||Ri[t+4]&&Ri[t+4].query===e)&&(Ri[t].style.cssText=Ri[t+1],Ri[t].getBBox&&Ri[t].setAttribute("transform",Ri[t+2]||""),Ri[t+3].uncache=1)},G4=function(e,t){var n;for(ai=0;ai<gt.length;ai++)n=gt[ai],n&&(!t||n._ctx===t)&&(e?n.kill(1):n.revert(!0,!0));t&&ev(t),t||ya("revert")},tv=function(e,t){Mt.cache++,(t||!wr)&&Mt.forEach(function(n){return hi(n)&&n.cacheID++&&(n.rec=0)}),yr(e)&&(St.history.scrollRestoration=z4=e)},wr,ha=0,y8,RF=function(){if(y8!==ha){var e=y8=ha;requestAnimationFrame(function(){return e===ha&&ea(!0)})}},ea=function(e,t){if(ur&&!e){Un(dt,"scrollEnd",J_);return}wr=dt.isRefreshing=!0,Mt.forEach(function(i){return hi(i)&&i.cacheID++&&(i.rec=i())});var n=ya("refreshInit");H_&&dt.sort(),t||G4(),Mt.forEach(function(i){hi(i)&&(i.smooth&&(i.target.style.scrollBehavior="auto"),i(0))}),gt.slice(0).forEach(function(i){return i.refresh()}),gt.forEach(function(i,s){if(i._subPinOffset&&i.pin){var o=i.vars.horizontal?"offsetWidth":"offsetHeight",a=i.pin[o];i.revert(!0,1),i.adjustPinSpacing(i.pin[o]-a),i.revert(!1,1)}}),gt.forEach(function(i){return i.vars.end==="max"&&i.setPositions(i.start,Math.max(i.start+1,so(i.scroller,i._dir)))}),n.forEach(function(i){return i&&i.render&&i.render(-1)}),Mt.forEach(function(i){hi(i)&&(i.smooth&&requestAnimationFrame(function(){return i.target.style.scrollBehavior="smooth"}),i.rec&&i(i.rec))}),tv(z4,1),Au.pause(),ha++,wa(2),gt.forEach(function(i){return hi(i.vars.onRefresh)&&i.vars.onRefresh(i)}),wr=dt.isRefreshing=!1,ya("refresh")},w8=0,q2=1,Yo,wa=function(e){if(!wr||e===2){dt.isUpdating=!0,Yo&&Yo.update(0);var t=gt.length,n=li(),i=n-Wh>=50,s=t&&gt[0].scroll();if(q2=w8>s?-1:1,w8=s,i&&(ur&&!r3&&n-ur>200&&(ur=0,ya("scrollEnd")),H2=Wh,Wh=n),q2<0){for(ai=t;ai-- >0;)gt[ai]&&gt[ai].update(0,i);q2=1}else for(ai=0;ai<t;ai++)gt[ai]&&gt[ai].update(0,i);dt.isUpdating=!1}l0=0},pf=[Y_,Z_,U4,B4,er+Pc,er+Tc,er+Ac,er+Cc,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],X2=pf.concat([ca,ua,"boxSizing","max"+ol,"max"+V4,"position",er,on,on+Ac,on+Tc,on+Pc,on+Cc]),IF=function(e,t,n){k1(n);var i=e._gsap;if(i.spacerIsNative)k1(i.spacerState);else if(e._gsap.swappedIn){var s=t.parentNode;s&&(s.insertBefore(e,t),s.removeChild(t))}e._gsap.swappedIn=!1},Xh=function(e,t,n,i){if(!e._gsap.swappedIn){for(var s=pf.length,o=t.style,a=e.style,l;s--;)l=pf[s],o[l]=n[l];o.position=n.position==="absolute"?"absolute":"relative",n.display==="inline"&&(o.display="inline-block"),a[U4]=a[B4]="auto",o.flexBasis=n.flexBasis||"auto",o.overflow="visible",o.boxSizing="border-box",o[ca]=df(e,ui)+Bn,o[ua]=df(e,Sn)+Bn,o[on]=a[er]=a[Z_]=a[Y_]="0",k1(i),a[ca]=a["max"+ol]=n[ca],a[ua]=a["max"+V4]=n[ua],a[on]=n[on],e.parentNode!==t&&(e.parentNode.insertBefore(t,e),t.appendChild(e)),e._gsap.swappedIn=!0}},DF=/([A-Z])/g,k1=function(e){if(e){var t=e.t.style,n=e.length,i=0,s,o;for((e.t._gsap||Ze.core.getCache(e.t)).uncache=1;i<n;i+=2)o=e[i+1],s=e[i],o?t[s]=o:t[s]&&t.removeProperty(s.replace(DF,"-$1").toLowerCase())}},M2=function(e){for(var t=X2.length,n=e.style,i=[],s=0;s<t;s++)i.push(X2[s],n[X2[s]]);return i.t=e,i},kF=function(e,t,n){for(var i=[],s=e.length,o=n?8:0,a;o<s;o+=2)a=e[o],i.push(a,a in t?t[a]:e[o+1]);return i.t=e.t,i},$2={left:0,top:0},S8=function(e,t,n,i,s,o,a,l,c,h,d,f,m){hi(e)&&(e=e(l)),yr(e)&&e.substr(0,3)==="max"&&(e=f+(e.charAt(4)==="="?W2("0"+e.substr(3),n):0));var _=m?m.time():0,v,x,y;if(m&&m.seek(0),cc(e))a&&j2(a,n,i,!0);else{hi(t)&&(t=t(l));var M=(e||"0").split(" "),w,S,T,A;y=gi(t)||rn,w=gs(y)||{},(!w||!w.left&&!w.top)&&Gr(y).display==="none"&&(A=y.style.display,y.style.display="block",w=gs(y),A?y.style.display=A:y.style.removeProperty("display")),S=W2(M[0],w[i.d]),T=W2(M[1]||"0",n),e=w[i.p]-c[i.p]-h+S+s-T,a&&j2(a,T,i,n-T<20||a._isStart&&T>20),n-=n-T}if(o){var R=e+n,E=o._isStart;v="scroll"+i.d2,j2(o,R,i,E&&R>20||!E&&(d?Math.max(rn[v],Hr[v]):o.parentNode[v])<=R+1),d&&(c=gs(a),d&&(o.style[i.op.p]=c[i.op.p]-i.op.m-o._offset+Bn))}return m&&y&&(v=gs(y),m.seek(f),x=gs(y),m._caScrollDist=v[i.p]-x[i.p],e=e/m._caScrollDist*f),m&&m.seek(_),m?e:Math.round(e)},OF=/(webkit|moz|length|cssText|inset)/i,M8=function(e,t,n,i){if(e.parentNode!==t){var s=e.style,o,a;if(t===rn){e._stOrig=s.cssText,a=Gr(e);for(o in a)!+o&&!OF.test(o)&&a[o]&&typeof s[o]=="string"&&o!=="0"&&(s[o]=a[o]);s.top=n,s.left=i}else s.cssText=e._stOrig;Ze.core.getCache(e).uncache=1,t.appendChild(e)}},E8=function(e,t){var n=yo(e,t),i="_scroll"+t.p2,s,o,a=function l(c,h,d,f,m){var _=l.tween,v=h.onComplete,x={};return d=d||n(),m=f&&m||0,f=f||c-d,_&&_.kill(),s=Math.round(d),h[i]=c,h.modifiers=x,x[i]=function(y){return y=Math.round(n()),y!==s&&y!==o&&Math.abs(y-s)>3&&Math.abs(y-o)>3?(_.kill(),l.tween=0):y=d+f*_.ratio+m*_.ratio*_.ratio,o=s,s=Math.round(y)},h.onComplete=function(){l.tween=0,v&&v.call(_)},_=l.tween=Ze.to(e,h),_};return e[i]=n,n.wheelHandler=function(){return a.tween&&a.tween.kill()&&(a.tween=0)},Un(e,"wheel",n.wheelHandler),a},dt=function(){function r(t,n){d1||r.register(Ze)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),this.init(t,n)}var e=r.prototype;return e.init=function(n,i){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!v2){this.update=this.refresh=this.kill=Fr;return}n=v8(yr(n)||cc(n)||n.nodeType?{trigger:n}:n,w2);var s=n,o=s.onUpdate,a=s.toggleClass,l=s.id,c=s.onToggle,h=s.onRefresh,d=s.scrub,f=s.trigger,m=s.pin,_=s.pinSpacing,v=s.invalidateOnRefresh,x=s.anticipatePin,y=s.onScrubComplete,M=s.onSnapComplete,w=s.once,S=s.snap,T=s.pinReparent,A=s.pinSpacer,R=s.containerAnimation,E=s.fastScrollEnd,L=s.preventOverlaps,k=n.horizontal||n.containerAnimation&&n.horizontal!==!1?ui:Sn,H=!d&&d!==0,te=gi(n.scroller||St),q=Ze.core.getCache(te),B=xa(te),N=("pinType"in n?n.pinType:po(te,"pinType")||B&&"fixed")==="fixed",W=[n.onEnter,n.onLeave,n.onEnterBack,n.onLeaveBack],V=H&&n.toggleActions.split(" "),Y="markers"in n?n.markers:w2.markers,X=B?0:parseFloat(Gr(te)["border"+k.p2+ol])||0,O=this,de=n.onRefreshInit&&function(){return n.onRefreshInit(O)},_e=EF(te,B,k),pe=TF(te,B),Ee=0,se=0,ie=yo(te,k),J,z,$,oe,ve,C,I,j,ee,ne,G,xe,ue,Me,ye,F,D,re,fe,me,Ce,Pe,K,ae,Le,ze,De,He,Oe,Fe,rt,at,le,Se,Ae,ke,We,it;if(hf(O),O._dir=k,x*=45,O.scroller=te,O.scroll=R?R.time.bind(R):ie,oe=ie(),O.vars=n,i=i||n.animation,"refreshPriority"in n&&(H_=1,n.refreshPriority===-9999&&(Yo=O)),q.tweenScroll=q.tweenScroll||{top:E8(te,Sn),left:E8(te,ui)},O.tweenTo=J=q.tweenScroll[k.p],O.scrubDuration=function(we){rt=cc(we)&&we,rt?Fe?Fe.duration(we):Fe=Ze.to(i,{ease:"expo",totalProgress:"+=0.001",duration:rt,paused:!0,onComplete:function(){return y&&y(O)}}):(Fe&&Fe.progress(1).kill(),Fe=0)},i&&(i.vars.lazy=!1,i._initted||i.vars.immediateRender!==!1&&n.immediateRender!==!1&&i.duration()&&i.render(0,!0,!0),O.animation=i.pause(),i.scrollTrigger=O,O.scrubDuration(d),He=0,l||(l=i.vars.id)),gt.push(O),S&&((!G2(S)||S.push)&&(S={snapTo:S}),"scrollBehavior"in rn.style&&Ze.set(B?[rn,Hr]:te,{scrollBehavior:"auto"}),Mt.forEach(function(we){return hi(we)&&we.target===(B?Zt.scrollingElement||Hr:te)&&(we.smooth=!1)}),$=hi(S.snapTo)?S.snapTo:S.snapTo==="labels"?AF(i):S.snapTo==="labelsDirectional"?PF(i):S.directional!==!1?function(we,Ve){return H4(S.snapTo)(we,li()-se<500?0:Ve.direction)}:Ze.utils.snap(S.snapTo),at=S.duration||{min:.1,max:2},at=G2(at)?w1(at.min,at.max):w1(at,at),le=Ze.delayedCall(S.delay||rt/2||.1,function(){var we=ie(),Ve=li()-se<500,Ue=J.tween;if((Ve||Math.abs(O.getVelocity())<10)&&!Ue&&!r3&&Ee!==we){var nt=(we-C)/ue,Yt=i&&!H?i.totalProgress():nt,st=Ve?0:(Yt-Oe)/(li()-H2)*1e3||0,Wt=Ze.utils.clamp(-nt,1-nt,o1(st/2)*st/.185),U=nt+(S.inertia===!1?0:Wt),ge=w1(0,1,$(U,O)),be=Math.round(C+ge*ue),ce=S,Te=ce.onStart,Be=ce.onInterrupt,Ge=ce.onComplete;if(we<=I&&we>=C&&be!==we){if(Ue&&!Ue._initted&&Ue.data<=o1(be-we))return;S.inertia===!1&&(Wt=ge-nt),J(be,{duration:at(o1(Math.max(o1(U-Yt),o1(ge-Yt))*.185/st/.05||0)),ease:S.ease||"power3",data:o1(be-we),onInterrupt:function(){return le.restart(!0)&&Be&&Be(O)},onComplete:function(){O.update(),Ee=ie(),He=Oe=i&&!H?i.totalProgress():O.progress,M&&M(O),Ge&&Ge(O)}},we,Wt*ue,be-we-Wt*ue),Te&&Te(O,J.tween)}}else O.isActive&&Ee!==we&&le.restart(!0)}).pause()),l&&(ff[l]=O),f=O.trigger=gi(f||m),it=f&&f._gsap&&f._gsap.stRevert,it&&(it=it(O)),m=m===!0?f:gi(m),yr(a)&&(a={targets:f,className:a}),m&&(_===!1||_===er||(_=!_&&m.parentNode&&m.parentNode.style&&Gr(m.parentNode).display==="flex"?!1:on),O.pin=m,z=Ze.core.getCache(m),z.spacer?Me=z.pinState:(A&&(A=gi(A),A&&!A.nodeType&&(A=A.current||A.nativeElement),z.spacerIsNative=!!A,A&&(z.spacerState=M2(A))),z.spacer=D=A||Zt.createElement("div"),D.classList.add("pin-spacer"),l&&D.classList.add("pin-spacer-"+l),z.pinState=Me=M2(m)),n.force3D!==!1&&Ze.set(m,{force3D:!0}),O.spacer=D=z.spacer,De=Gr(m),K=De[_+k.os2],fe=Ze.getProperty(m),me=Ze.quickSetter(m,k.a,Bn),Xh(m,D,De),F=M2(m)),Y){xe=G2(Y)?v8(Y,x8):x8,ne=S2("scroller-start",l,te,k,xe,0),G=S2("scroller-end",l,te,k,xe,0,ne),re=ne["offset"+k.op.d2];var Ut=gi(po(te,"content")||te);j=this.markerStart=S2("start",l,Ut,k,xe,re,0,R),ee=this.markerEnd=S2("end",l,Ut,k,xe,re,0,R),R&&(We=Ze.quickSetter([j,ee],k.a,Bn)),!N&&!(Xr.length&&po(te,"fixedMarkers")===!0)&&(CF(B?rn:te),Ze.set([ne,G],{force3D:!0}),Le=Ze.quickSetter(ne,k.a,Bn),ze=Ze.quickSetter(G,k.a,Bn))}if(R){var Ft=R.vars.onUpdate,lt=R.vars.onUpdateParams;R.eventCallback("onUpdate",function(){O.update(0,0,1),Ft&&Ft.apply(lt||[])})}O.previous=function(){return gt[gt.indexOf(O)-1]},O.next=function(){return gt[gt.indexOf(O)+1]},O.revert=function(we,Ve){if(!Ve)return O.kill(!0);var Ue=we!==!1||!O.enabled,nt=$n;Ue!==O.isReverted&&(Ue&&(Ae=Math.max(ie(),O.scroll.rec||0),Se=O.progress,ke=i&&i.progress()),j&&[j,ee,ne,G].forEach(function(Yt){return Yt.style.display=Ue?"none":"block"}),Ue&&($n=1,O.update(Ue)),m&&(Ue?IF(m,D,Me):(!T||!O.isActive)&&Xh(m,D,Gr(m),ae)),Ue||O.update(Ue),$n=nt,O.isReverted=Ue)},O.refresh=function(we,Ve){if(!(($n||!O.enabled)&&!Ve)){if(m&&we&&ur){Un(r,"scrollEnd",J_);return}!wr&&de&&de(O),$n=1,se=li(),J.tween&&(J.tween.kill(),J.tween=0),Fe&&Fe.pause(),v&&i&&i.revert({kill:!1}).invalidate(),O.isReverted||O.revert(!0,!0),O._subPinOffset=!1;for(var Ue=_e(),nt=pe(),Yt=R?R.duration():so(te,k),st=0,Wt=0,U=n.end,ge=n.endTrigger||f,be=n.start||(n.start===0||!f?0:m?"0 0":"0 100%"),ce=O.pinnedContainer=n.pinnedContainer&&gi(n.pinnedContainer),Te=f&&Math.max(0,gt.indexOf(O))||0,Be=Te,Ge,qe,Qe,ut,Xe,$e,wt,Ti,pr,ti;Be--;)$e=gt[Be],$e.end||$e.refresh(0,1)||($n=1),wt=$e.pin,wt&&(wt===f||wt===m)&&!$e.isReverted&&(ti||(ti=[]),ti.unshift($e),$e.revert(!0,!0)),$e!==gt[Be]&&(Te--,Be--);for(hi(be)&&(be=be(O)),C=S8(be,f,Ue,k,ie(),j,ne,O,nt,X,N,Yt,R)||(m?-.001:0),hi(U)&&(U=U(O)),yr(U)&&!U.indexOf("+=")&&(~U.indexOf(" ")?U=(yr(be)?be.split(" ")[0]:"")+U:(st=W2(U.substr(2),Ue),U=yr(be)?be:C+st,ge=f)),I=Math.max(C,S8(U||(ge?"100% 0":Yt),ge,Ue,k,ie()+st,ee,G,O,nt,X,N,Yt,R))||-.001,ue=I-C||(C-=.01)&&.001,st=0,Be=Te;Be--;)$e=gt[Be],wt=$e.pin,wt&&$e.start-$e._pinPush<=C&&!R&&$e.end>0&&(Ge=$e.end-$e.start,(wt===f&&$e.start-$e._pinPush<C||wt===ce)&&!cc(be)&&(st+=Ge*(1-$e.progress)),wt===m&&(Wt+=Ge));if(C+=st,I+=st,O._pinPush=Wt,j&&st&&(Ge={},Ge[k.a]="+="+st,ce&&(Ge[k.p]="-="+ie()),Ze.set([j,ee],Ge)),m)Ge=Gr(m),ut=k===Sn,Qe=ie(),Ce=parseFloat(fe(k.a))+Wt,!Yt&&I>1&&((B?rn:te).style["overflow-"+k.a]="scroll"),Xh(m,D,Ge),F=M2(m),qe=gs(m,!0),Ti=N&&yo(te,ut?ui:Sn)(),_&&(ae=[_+k.os2,ue+Wt+Bn],ae.t=D,Be=_===on?df(m,k)+ue+Wt:0,Be&&ae.push(k.d,Be+Bn),k1(ae),ce&&gt.forEach(function(Ht){Ht.pin===ce&&Ht.vars.pinSpacing!==!1&&(Ht._subPinOffset=!0)}),N&&ie(Ae)),N&&(Xe={top:qe.top+(ut?Qe-C:Ti)+Bn,left:qe.left+(ut?Ti:Qe-C)+Bn,boxSizing:"border-box",position:"fixed"},Xe[ca]=Xe["max"+ol]=Math.ceil(qe.width)+Bn,Xe[ua]=Xe["max"+V4]=Math.ceil(qe.height)+Bn,Xe[er]=Xe[er+Ac]=Xe[er+Tc]=Xe[er+Pc]=Xe[er+Cc]="0",Xe[on]=Ge[on],Xe[on+Ac]=Ge[on+Ac],Xe[on+Tc]=Ge[on+Tc],Xe[on+Pc]=Ge[on+Pc],Xe[on+Cc]=Ge[on+Cc],ye=kF(Me,Xe,T),wr&&ie(0)),i?(pr=i._initted,Hh(1),i.render(i.duration(),!0,!0),Pe=fe(k.a)-Ce+ue+Wt,ue!==Pe&&N&&ye.splice(ye.length-2,2),i.render(0,!0,!0),pr||i.invalidate(!0),i.parent||i.totalTime(i.totalTime()),Hh(0)):Pe=ue;else if(f&&ie()&&!R)for(qe=f.parentNode;qe&&qe!==rn;)qe._pinOffset&&(C-=qe._pinOffset,I-=qe._pinOffset),qe=qe.parentNode;ti&&ti.forEach(function(Ht){return Ht.revert(!1,!0)}),O.start=C,O.end=I,oe=ve=wr?Ae:ie(),!R&&!wr&&(oe<Ae&&ie(Ae),O.scroll.rec=0),O.revert(!1,!0),le&&(Ee=-1,O.isActive&&ie(C+ue*Se),le.restart(!0)),$n=0,i&&H&&(i._initted||ke)&&i.progress()!==ke&&i.progress(ke,!0).render(i.time(),!0,!0),(Se!==O.progress||R)&&(i&&!H&&i.totalProgress(Se,!0),O.progress=(oe-C)/ue===Se?0:Se),m&&_&&(D._pinOffset=Math.round(O.progress*Pe)),h&&!wr&&h(O)}},O.getVelocity=function(){return(ie()-ve)/(li()-H2)*1e3||0},O.endAnimation=function(){Jl(O.callbackAnimation),i&&(Fe?Fe.progress(1):i.paused()?H||Jl(i,O.direction<0,1):Jl(i,i.reversed()))},O.labelToScroll=function(we){return i&&i.labels&&(C||O.refresh()||C)+i.labels[we]/i.duration()*ue||0},O.getTrailing=function(we){var Ve=gt.indexOf(O),Ue=O.direction>0?gt.slice(0,Ve).reverse():gt.slice(Ve+1);return(yr(we)?Ue.filter(function(nt){return nt.vars.preventOverlaps===we}):Ue).filter(function(nt){return O.direction>0?nt.end<=C:nt.start>=I})},O.update=function(we,Ve,Ue){if(!(R&&!Ue&&!we)){var nt=wr?Ae:O.scroll(),Yt=we?0:(nt-C)/ue,st=Yt<0?0:Yt>1?1:Yt||0,Wt=O.progress,U,ge,be,ce,Te,Be,Ge,qe;if(Ve&&(ve=oe,oe=R?ie():nt,S&&(Oe=He,He=i&&!H?i.totalProgress():st)),x&&!st&&m&&!$n&&!_2&&ur&&C<nt+(nt-ve)/(li()-H2)*x&&(st=1e-4),st!==Wt&&O.enabled){if(U=O.isActive=!!st&&st<1,ge=!!Wt&&Wt<1,Be=U!==ge,Te=Be||!!st!=!!Wt,O.direction=st>Wt?1:-1,O.progress=st,Te&&!$n&&(be=st&&!Wt?0:st===1?1:Wt===1?2:3,H&&(ce=!Be&&V[be+1]!=="none"&&V[be+1]||V[be],qe=i&&(ce==="complete"||ce==="reset"||ce in i))),L&&(Be||qe)&&(qe||d||!i)&&(hi(L)?L(O):O.getTrailing(L).forEach(function($e){return $e.endAnimation()})),H||(Fe&&!$n&&!_2?((R||Yo&&Yo!==O)&&Fe.render(Fe._dp._time-Fe._start),Fe.resetTo?Fe.resetTo("totalProgress",st,i._tTime/i._tDur):(Fe.vars.totalProgress=st,Fe.invalidate().restart())):i&&i.totalProgress(st,!!$n)),m){if(we&&_&&(D.style[_+k.os2]=K),!N)me(lc(Ce+Pe*st));else if(Te){if(Ge=!we&&st>Wt&&I+1>nt&&nt+1>=so(te,k),T)if(!we&&(U||Ge)){var Qe=gs(m,!0),ut=nt-C;M8(m,rn,Qe.top+(k===Sn?ut:0)+Bn,Qe.left+(k===Sn?0:ut)+Bn)}else M8(m,D);k1(U||Ge?ye:F),Pe!==ue&&st<1&&U||me(Ce+(st===1&&!Ge?Pe:0))}}S&&!J.tween&&!$n&&!_2&&le.restart(!0),a&&(Be||w&&st&&(st<1||!Gh))&&Pu(a.targets).forEach(function($e){return $e.classList[U||w?"add":"remove"](a.className)}),o&&!H&&!we&&o(O),Te&&!$n?(H&&(qe&&(ce==="complete"?i.pause().totalProgress(1):ce==="reset"?i.restart(!0).pause():ce==="restart"?i.restart(!0):i[ce]()),o&&o(O)),(Be||!Gh)&&(c&&Be&&jh(O,c),W[be]&&jh(O,W[be]),w&&(st===1?O.kill(!1,1):W[be]=0),Be||(be=st===1?1:3,W[be]&&jh(O,W[be]))),E&&!U&&Math.abs(O.getVelocity())>(cc(E)?E:2500)&&(Jl(O.callbackAnimation),Fe?Fe.progress(1):Jl(i,ce==="reverse"?1:!st,1))):H&&o&&!$n&&o(O)}if(ze){var Xe=R?nt/R.duration()*(R._caScrollDist||0):nt;Le(Xe+(ne._isFlipped?1:0)),ze(Xe)}We&&We(-nt/R.duration()*(R._caScrollDist||0))}},O.enable=function(we,Ve){O.enabled||(O.enabled=!0,Un(te,"resize",uc),Un(B?Zt:te,"scroll",a1),de&&Un(r,"refreshInit",de),we!==!1&&(O.progress=Se=0,oe=ve=Ee=ie()),Ve!==!1&&O.refresh())},O.getTween=function(we){return we&&J?J.tween:Fe},O.setPositions=function(we,Ve){m&&(Ce+=we-C,Pe+=Ve-we-ue,_===on&&O.adjustPinSpacing(Ve-we-ue)),O.start=C=we,O.end=I=Ve,ue=Ve-we,O.update()},O.adjustPinSpacing=function(we){if(ae){var Ve=ae.indexOf(k.d)+1;ae[Ve]=parseFloat(ae[Ve])+we+Bn,ae[1]=parseFloat(ae[1])+we+Bn,k1(ae)}},O.disable=function(we,Ve){if(O.enabled&&(we!==!1&&O.revert(!0,!0),O.enabled=O.isActive=!1,Ve||Fe&&Fe.pause(),Ae=0,z&&(z.uncache=1),de&&Ln(r,"refreshInit",de),le&&(le.pause(),J.tween&&J.tween.kill()&&(J.tween=0)),!B)){for(var Ue=gt.length;Ue--;)if(gt[Ue].scroller===te&&gt[Ue]!==O)return;Ln(te,"resize",uc),Ln(te,"scroll",a1)}},O.kill=function(we,Ve){O.disable(we,Ve),Fe&&!Ve&&Fe.kill(),l&&delete ff[l];var Ue=gt.indexOf(O);Ue>=0&&gt.splice(Ue,1),Ue===ai&&q2>0&&ai--,Ue=0,gt.forEach(function(nt){return nt.scroller===O.scroller&&(Ue=1)}),Ue||wr||(O.scroll.rec=0),i&&(i.scrollTrigger=null,we&&i.revert({kill:!1}),Ve||i.kill()),j&&[j,ee,ne,G].forEach(function(nt){return nt.parentNode&&nt.parentNode.removeChild(nt)}),Yo===O&&(Yo=0),m&&(z&&(z.uncache=1),Ue=0,gt.forEach(function(nt){return nt.pin===m&&Ue++}),Ue||(z.spacer=0)),n.onKill&&n.onKill(O)},O.enable(!1,!1),it&&it(O),!i||!i.add||ue?O.refresh():Ze.delayedCall(.01,function(){return C||I||O.refresh()})&&(ue=.01)&&(C=I=0),m&&RF()},r.register=function(n){return d1||(Ze=n||$_(),X_()&&window.document&&r.enable(),d1=v2),d1},r.defaults=function(n){if(n)for(var i in n)w2[i]=n[i];return w2},r.disable=function(n,i){v2=0,gt.forEach(function(o){return o[i?"kill":"disable"](n)}),Ln(St,"wheel",a1),Ln(Zt,"scroll",a1),clearInterval(g2),Ln(Zt,"touchcancel",Fr),Ln(rn,"touchstart",Fr),b2(Ln,Zt,"pointerdown,touchstart,mousedown",g8),b2(Ln,Zt,"pointerup,touchend,mouseup",_8),Au.kill(),x2(Ln);for(var s=0;s<Mt.length;s+=3)y2(Ln,Mt[s],Mt[s+1]),y2(Ln,Mt[s],Mt[s+2])},r.enable=function(){if(St=window,Zt=document,Hr=Zt.documentElement,rn=Zt.body,Ze&&(Pu=Ze.utils.toArray,w1=Ze.utils.clamp,hf=Ze.core.context||Fr,Hh=Ze.core.suppressOverwrites||Fr,z4=St.history.scrollRestoration||"auto",Ze.core.globals("ScrollTrigger",r),rn)){v2=1,xn.register(Ze),r.isTouch=xn.isTouch,Ys=xn.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),Un(St,"wheel",a1),V_=[St,Zt,Hr,rn],Ze.matchMedia?(r.matchMedia=function(l){var c=Ze.matchMedia(),h;for(h in l)c.add(h,l[h]);return c},Ze.addEventListener("matchMediaInit",function(){return G4()}),Ze.addEventListener("matchMediaRevert",function(){return ev()}),Ze.addEventListener("matchMedia",function(){ea(0,1),ya("matchMedia")}),Ze.matchMedia("(orientation: portrait)",function(){return qh(),qh})):console.warn("Requires GSAP 3.11.0 or later"),qh(),Un(Zt,"scroll",a1);var n=rn.style,i=n.borderTopStyle,s=Ze.core.Animation.prototype,o,a;for(s.revert||Object.defineProperty(s,"revert",{value:function(){return this.time(-.01,!0)}}),n.borderTopStyle="solid",o=gs(rn),Sn.m=Math.round(o.top+Sn.sc())||0,ui.m=Math.round(o.left+ui.sc())||0,i?n.borderTopStyle=i:n.removeProperty("border-top-style"),g2=setInterval(b8,250),Ze.delayedCall(.5,function(){return _2=0}),Un(Zt,"touchcancel",Fr),Un(rn,"touchstart",Fr),b2(Un,Zt,"pointerdown,touchstart,mousedown",g8),b2(Un,Zt,"pointerup,touchend,mouseup",_8),uf=Ze.utils.checkPrefix("transform"),X2.push(uf),d1=li(),Au=Ze.delayedCall(.2,ea).pause(),f1=[Zt,"visibilitychange",function(){var l=St.innerWidth,c=St.innerHeight;Zt.hidden?(p8=l,m8=c):(p8!==l||m8!==c)&&uc()},Zt,"DOMContentLoaded",ea,St,"load",ea,St,"resize",uc],x2(Un),gt.forEach(function(l){return l.enable(0,1)}),a=0;a<Mt.length;a+=3)y2(Ln,Mt[a],Mt[a+1]),y2(Ln,Mt[a],Mt[a+2])}},r.config=function(n){"limitCallbacks"in n&&(Gh=!!n.limitCallbacks);var i=n.syncInterval;i&&clearInterval(g2)||(g2=i)&&setInterval(b8,i),"ignoreMobileResize"in n&&(W_=r.isTouch===1&&n.ignoreMobileResize),"autoRefreshEvents"in n&&(x2(Ln)||x2(Un,n.autoRefreshEvents||"none"),G_=(n.autoRefreshEvents+"").indexOf("resize")===-1)},r.scrollerProxy=function(n,i){var s=gi(n),o=Mt.indexOf(s),a=xa(s);~o&&Mt.splice(o,a?6:2),i&&(a?Xr.unshift(St,i,rn,i,Hr,i):Xr.unshift(s,i))},r.clearMatchMedia=function(n){gt.forEach(function(i){return i._ctx&&i._ctx.query===n&&i._ctx.kill(!0,!0)})},r.isInViewport=function(n,i,s){var o=(yr(n)?gi(n):n).getBoundingClientRect(),a=o[s?ca:ua]*i||0;return s?o.right-a>0&&o.left+a<St.innerWidth:o.bottom-a>0&&o.top+a<St.innerHeight},r.positionInViewport=function(n,i,s){yr(n)&&(n=gi(n));var o=n.getBoundingClientRect(),a=o[s?ca:ua],l=i==null?a/2:i in Lu?Lu[i]*a:~i.indexOf("%")?parseFloat(i)*a/100:parseFloat(i)||0;return s?(o.left+l)/St.innerWidth:(o.top+l)/St.innerHeight},r.killAll=function(n){if(gt.forEach(function(s){return s.vars.id!=="ScrollSmoother"&&s.kill()}),n!==!0){var i=ba.killAll||[];ba={},i.forEach(function(s){return s()})}},r}();dt.version="3.11.3";dt.saveStyles=function(r){return r?Pu(r).forEach(function(e){if(e&&e.style){var t=Ri.indexOf(e);t>=0&&Ri.splice(t,5),Ri.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),Ze.core.getCache(e),hf())}}):Ri};dt.revert=function(r,e){return G4(!r,e)};dt.create=function(r,e){return new dt(r,e)};dt.refresh=function(r){return r?uc():(d1||dt.register())&&ea(!0)};dt.update=wa;dt.clearScrollMemory=tv;dt.maxScroll=function(r,e){return so(r,e?ui:Sn)};dt.getScrollFunc=function(r,e){return yo(gi(r),e?ui:Sn)};dt.getById=function(r){return ff[r]};dt.getAll=function(){return gt.filter(function(r){return r.vars.id!=="ScrollSmoother"})};dt.isScrolling=function(){return!!ur};dt.snapDirectional=H4;dt.addEventListener=function(r,e){var t=ba[r]||(ba[r]=[]);~t.indexOf(e)||t.push(e)};dt.removeEventListener=function(r,e){var t=ba[r],n=t&&t.indexOf(e);n>=0&&t.splice(n,1)};dt.batch=function(r,e){var t=[],n={},i=e.interval||.016,s=e.batchMax||1e9,o=function(c,h){var d=[],f=[],m=Ze.delayedCall(i,function(){h(d,f),d=[],f=[]}).pause();return function(_){d.length||m.restart(!0),d.push(_.trigger),f.push(_),s<=d.length&&m.progress(1)}},a;for(a in e)n[a]=a.substr(0,2)==="on"&&hi(e[a])&&a!=="onRefreshInit"?o(a,e[a]):e[a];return hi(s)&&(s=s(),Un(dt,"refresh",function(){return s=e.batchMax()})),Pu(r).forEach(function(l){var c={};for(a in n)c[a]=n[a];c.trigger=l,t.push(dt.create(c))}),t};var T8=function(e,t,n,i){return t>i?e(i):t<0&&e(0),n>i?(i-t)/(n-t):n<0?t/(t-n):1},$h=function r(e,t){t===!0?e.style.removeProperty("touch-action"):e.style.touchAction=t===!0?"auto":t?"pan-"+t+(xn.isTouch?" pinch-zoom":""):"none",e===Hr&&r(rn,t)},C8={auto:1,scroll:1},FF=function(e){var t=e.event,n=e.target,i=e.axis,s=(t.changedTouches?t.changedTouches[0]:t).target,o=s._gsap||Ze.core.getCache(s),a=li(),l;if(!o._isScrollT||a-o._isScrollT>2e3){for(;s&&s.scrollHeight<=s.clientHeight;)s=s.parentNode;o._isScroll=s&&!xa(s)&&s!==n&&(C8[(l=Gr(s)).overflowY]||C8[l.overflowX]),o._isScrollT=a}(o._isScroll||i==="x")&&(t.stopPropagation(),t._gsapAllow=!0)},nv=function(e,t,n,i){return xn.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:t,onWheel:i=i&&FF,onPress:i,onDrag:i,onScroll:i,onEnable:function(){return n&&Un(Zt,xn.eventTypes[0],P8,!1,!0)},onDisable:function(){return Ln(Zt,xn.eventTypes[0],P8,!0)}})},NF=/(input|label|select|textarea)/i,A8,P8=function(e){var t=NF.test(e.target.tagName);(t||A8)&&(e._gsapAllow=!0,A8=t)},zF=function(e){G2(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var t=e,n=t.normalizeScrollX,i=t.momentum,s=t.allowNestedScroll,o,a,l=gi(e.target)||Hr,c=Ze.core.globals().ScrollSmoother,h=c&&c.get(),d=Ys&&(e.content&&gi(e.content)||h&&e.content!==!1&&!h.smooth()&&h.content()),f=yo(l,Sn),m=yo(l,ui),_=1,v=(xn.isTouch&&St.visualViewport?St.visualViewport.scale*St.visualViewport.width:St.outerWidth)/St.innerWidth,x=0,y=hi(i)?function(){return i(o)}:function(){return i||2.8},M,w,S=nv(l,e.type,!0,s),T=function(){return w=!1},A=Fr,R=Fr,E=function(){a=so(l,Sn),R=w1(Ys?1:0,a),n&&(A=w1(0,so(l,ui))),M=ha},L=function(){d._gsap.y=lc(parseFloat(d._gsap.y)+f.offset)+"px",d.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(d._gsap.y)+", 0, 1)",f.offset=f.cacheID=0},k=function(){if(w){requestAnimationFrame(T);var V=lc(o.deltaY/2),Y=R(f.v-V);if(d&&Y!==f.v+f.offset){f.offset=Y-f.v;var X=lc((parseFloat(d&&d._gsap.y)||0)-f.offset);d.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+X+", 0, 1)",d._gsap.y=X+"px",f.cacheID=Mt.cache,wa()}return!0}f.offset&&L(),w=!0},H,te,q,B,N=function(){E(),H.isActive()&&H.vars.scrollY>a&&(f()>a?H.progress(1)&&f(a):H.resetTo("scrollY",a))};return d&&Ze.set(d,{y:"+=0"}),e.ignoreCheck=function(W){return Ys&&W.type==="touchmove"&&k()||_>1.05&&W.type!=="touchstart"||o.isGesturing||W.touches&&W.touches.length>1},e.onPress=function(){var W=_;_=lc((St.visualViewport&&St.visualViewport.scale||1)/v),H.pause(),W!==_&&$h(l,_>1.01?!0:n?!1:"x"),te=m(),q=f(),E(),M=ha},e.onRelease=e.onGestureStart=function(W,V){if(f.offset&&L(),!V)B.restart(!0);else{Mt.cache++;var Y=y(),X,O;n&&(X=m(),O=X+Y*.05*-W.velocityX/.227,Y*=T8(m,X,O,so(l,ui)),H.vars.scrollX=A(O)),X=f(),O=X+Y*.05*-W.velocityY/.227,Y*=T8(f,X,O,so(l,Sn)),H.vars.scrollY=R(O),H.invalidate().duration(Y).play(.01),(Ys&&H.vars.scrollY>=a||X>=a-1)&&Ze.to({},{onUpdate:N,duration:Y})}},e.onWheel=function(){H._ts&&H.pause(),li()-x>1e3&&(M=0,x=li())},e.onChange=function(W,V,Y,X,O){if(ha!==M&&E(),V&&n&&m(A(X[2]===V?te+(W.startX-W.x):m()+V-X[1])),Y){f.offset&&L();var de=O[2]===Y,_e=de?q+W.startY-W.y:f()+Y-O[1],pe=R(_e);de&&_e!==pe&&(q+=pe-_e),f(pe)}(Y||V)&&wa()},e.onEnable=function(){$h(l,n?!1:"x"),dt.addEventListener("refresh",N),Un(St,"resize",N),f.smooth&&(f.target.style.scrollBehavior="auto",f.smooth=m.smooth=!1),S.enable()},e.onDisable=function(){$h(l,!0),Ln(St,"resize",N),dt.removeEventListener("refresh",N),S.kill()},e.lockAxis=e.lockAxis!==!1,o=new xn(e),o.iOS=Ys,Ys&&!f()&&f(1),Ys&&Ze.ticker.add(Fr),B=o._dc,H=Ze.to(o,{ease:"power4",paused:!0,scrollX:n?"+=0.1":"+=0",scrollY:"+=0.1",onComplete:B.vars.onComplete}),o};dt.sort=function(r){return gt.sort(r||function(e,t){return(e.vars.refreshPriority||0)*-1e6+e.start-(t.start+(t.vars.refreshPriority||0)*-1e6)})};dt.observe=function(r){return new xn(r)};dt.normalizeScroll=function(r){if(typeof r>"u")return Li;if(r===!0&&Li)return Li.enable();if(r===!1)return Li&&Li.kill();var e=r instanceof xn?r:zF(r);return Li&&Li.target===e.target&&Li.kill(),xa(e.target)&&(Li=e),e};dt.core={_getVelocityProp:cf,_inputObserver:nv,_scrollers:Mt,_proxies:Xr,bridge:{ss:function(){ur||ya("scrollStart"),ur=li()},ref:function(){return $n}}};$_()&&Ze.registerPlugin(dt);var iv={exports:{}};(function(r,e){(function(n,i){r.exports=i()})(self,function(){return function(){var t={672:function(o){const a={html:document.documentElement,body:document.body,window:{w:window.innerWidth,h:window.innerHeight}};o.exports=a},336:function(o){o.exports=function(l,c){let h=null;return function(){clearTimeout(h);const d=arguments,f=this;h=setTimeout(function(){l.apply(f,d)},c)}}}},n={};function i(o){var a=n[o];if(a!==void 0)return a.exports;var l=n[o]={exports:{}};return t[o](l,l.exports,i),l.exports}(function(){i.n=function(o){var a=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(a,{a}),a}})(),function(){i.d=function(o,a){for(var l in a)i.o(a,l)&&!i.o(o,l)&&Object.defineProperty(o,l,{enumerable:!0,get:a[l]})}}(),function(){i.o=function(o,a){return Object.prototype.hasOwnProperty.call(o,a)}}();var s={};return function(){i.d(s,{default:function(){return ie}});var o=i(336),a=i.n(o),l=i(672),c=i.n(l);function h(){if(!(this instanceof h))return new h;this.size=0,this.uid=0,this.selectors=[],this.selectorObjects={},this.indexes=Object.create(this.indexes),this.activeIndexes=[]}var d=window.document.documentElement,f=d.matches||d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector;h.prototype.matchesSelector=function(J,z){return f.call(J,z)},h.prototype.querySelectorAll=function(J,z){return z.querySelectorAll(J)},h.prototype.indexes=[];var m=/^#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;h.prototype.indexes.push({name:"ID",selector:function(z){var $;if($=z.match(m))return $[0].slice(1)},element:function(z){if(z.id)return[z.id]}});var _=/^\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;h.prototype.indexes.push({name:"CLASS",selector:function(z){var $;if($=z.match(_))return $[0].slice(1)},element:function(z){var $=z.className;if($){if(typeof $=="string")return $.split(/\s/);if(typeof $=="object"&&"baseVal"in $)return $.baseVal.split(/\s/)}}});var v=/^((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;h.prototype.indexes.push({name:"TAG",selector:function(z){var $;if($=z.match(v))return $[0].toUpperCase()},element:function(z){return[z.nodeName.toUpperCase()]}}),h.prototype.indexes.default={name:"UNIVERSAL",selector:function(){return!0},element:function(){return[!0]}};var x;typeof window.Map=="function"?x=window.Map:x=function(){function J(){this.map={}}return J.prototype.get=function(z){return this.map[z+" "]},J.prototype.set=function(z,$){this.map[z+" "]=$},J}();var y=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g;function M(J,z){J=J.slice(0).concat(J.default);var $=J.length,oe,ve,C,I,j=z,ee,ne,G=[];do if(y.exec(""),(C=y.exec(j))&&(j=C[3],C[2]||!j)){for(oe=0;oe<$;oe++)if(ne=J[oe],ee=ne.selector(C[1])){for(ve=G.length,I=!1;ve--;)if(G[ve].index===ne&&G[ve].key===ee){I=!0;break}I||G.push({index:ne,key:ee});break}}while(C);return G}function w(J,z){var $,oe,ve;for($=0,oe=J.length;$<oe;$++)if(ve=J[$],z.isPrototypeOf(ve))return ve}h.prototype.logDefaultIndexUsed=function(){},h.prototype.add=function(J,z){var $,oe,ve,C,I,j,ee,ne,G=this.activeIndexes,xe=this.selectors,ue=this.selectorObjects;if(typeof J=="string"){for($={id:this.uid++,selector:J,data:z},ue[$.id]=$,ee=M(this.indexes,J),oe=0;oe<ee.length;oe++)ne=ee[oe],C=ne.key,ve=ne.index,I=w(G,ve),I||(I=Object.create(ve),I.map=new x,G.push(I)),ve===this.indexes.default&&this.logDefaultIndexUsed($),j=I.map.get(C),j||(j=[],I.map.set(C,j)),j.push($);this.size++,xe.push(J)}},h.prototype.remove=function(J,z){if(typeof J=="string"){var $,oe,ve,C,I,j,ee,ne,G=this.activeIndexes,xe=this.selectors=[],ue=this.selectorObjects,Me={},ye=arguments.length===1;for($=M(this.indexes,J),ve=0;ve<$.length;ve++)for(oe=$[ve],C=G.length;C--;)if(j=G[C],oe.index.isPrototypeOf(j)){if(ee=j.map.get(oe.key),ee)for(I=ee.length;I--;)ne=ee[I],ne.selector===J&&(ye||ne.data===z)&&(ee.splice(I,1),Me[ne.id]=!0);break}for(ve in Me)delete ue[ve],this.size--;for(ve in ue)xe.push(ue[ve].selector)}};function S(J,z){return J.id-z.id}h.prototype.queryAll=function(J){if(!this.selectors.length)return[];var z={},$=[],oe=this.querySelectorAll(this.selectors.join(", "),J),ve,C,I,j,ee,ne,G,xe;for(ve=0,I=oe.length;ve<I;ve++)for(ee=oe[ve],ne=this.matches(ee),C=0,j=ne.length;C<j;C++)xe=ne[C],z[xe.id]?G=z[xe.id]:(G={id:xe.id,selector:xe.selector,data:xe.data,elements:[]},z[xe.id]=G,$.push(G)),G.elements.push(ee);return $.sort(S)},h.prototype.matches=function(J){if(!J)return[];var z,$,oe,ve,C,I,j,ee,ne,G,xe,ue=this.activeIndexes,Me={},ye=[];for(z=0,ve=ue.length;z<ve;z++)if(j=ue[z],ee=j.element(J),ee){for($=0,C=ee.length;$<C;$++)if(ne=j.map.get(ee[$]))for(oe=0,I=ne.length;oe<I;oe++)G=ne[oe],xe=G.id,!Me[xe]&&this.matchesSelector(J,G.selector)&&(Me[xe]=!0,ye.push(G))}return ye.sort(S)};const T={},A={},R=["mouseenter","mouseleave","pointerenter","pointerleave"];function E(J){A[J]===void 0&&(A[J]=[])}function L(J,z){if(A[J])for(let $=0;$<A[J].length;$++)A[J][$](...z)}function k(J){return typeof J=="string"?document.querySelectorAll(J):J}function H(J){let z=te(T[J.type],J.target);if(z.length)for(let $=0;$<z.length;$++)for(let oe=0;oe<z[$].stack.length;oe++)R.indexOf(J.type)!==-1?(q(J,z[$].delegatedTarget),J.target===z[$].delegatedTarget&&z[$].stack[oe].data(J)):(q(J,z[$].delegatedTarget),z[$].stack[oe].data(J))}function te(J,z){const $=[];let oe=z;do{if(oe.nodeType!==1)break;const ve=J.matches(oe);ve.length&&$.push({delegatedTarget:oe,stack:ve})}while(oe=oe.parentElement);return $}function q(J,z){Object.defineProperty(J,"currentTarget",{configurable:!0,enumerable:!0,get:()=>z})}function B(J){return JSON.parse(JSON.stringify(J))}class N{bindAll(z,$){$||($=Object.getOwnPropertyNames(Object.getPrototypeOf(z)));for(let oe=0;oe<$.length;oe++)z[$[oe]]=z[$[oe]].bind(z)}on(z,$,oe,ve){const C=z.split(" ");for(let I=0;I<C.length;I++){if(typeof $=="function"&&oe===void 0){E(C[I]),A[C[I]].push($);continue}if($.nodeType&&$.nodeType===1||$===window||$===document){$.addEventListener(C[I],oe,ve);continue}$=k($);for(let j=0;j<$.length;j++)$[j].addEventListener(C[I],oe,ve)}}delegate(z,$,oe){const ve=z.split(" ");for(let C=0;C<ve.length;C++){let I=T[ve[C]];I===void 0&&(I=new h,T[ve[C]]=I,R.indexOf(ve[C])!==-1?document.addEventListener(ve[C],H,!0):document.addEventListener(ve[C],H)),I.add($,oe)}}off(z,$,oe,ve){const C=z.split(" ");for(let I=0;I<C.length;I++){if($===void 0){A[C[I]]=[];continue}if(typeof $=="function"){E(C[I]);for(let ee=0;ee<A[C[I]].length;ee++)A[C[I]][ee]===$&&A[C[I]].splice(ee,1);continue}const j=T[C[I]];if(j!==void 0&&(j.remove($,oe),j.size===0)){delete T[C[I]],R.indexOf(C[I])!==-1?document.removeEventListener(C[I],H,!0):document.removeEventListener(C[I],H);continue}if($.removeEventListener!==void 0){$.removeEventListener(C[I],oe,ve);continue}$=k($);for(let ee=0;ee<$.length;ee++)$[ee].removeEventListener(C[I],oe,ve)}}emit(z,...$){L(z,$)}debugDelegated(){return B(T)}debugBus(){return B(A)}}var V=new N;function Y(J,z,$){return z in J?Object.defineProperty(J,z,{value:$,enumerable:!0,configurable:!0,writable:!0}):J[z]=$,J}class X{constructor(z={}){Y(this,"onRaf",()=>{V.emit(X.INTERNALRAF),!this.options.disableRaf&&requestAnimationFrame(this.onRaf)}),this.options=z,this.addEvents()}addEvents(){this.options.disableRaf||requestAnimationFrame(this.onRaf),this.options.disableResize||V.on("resize",window,a()(()=>{this.onResize()},150)),this.onScroll(),"ontouchstart"in document.documentElement&&(c().isTouch=!0,this.detectMouse())}onScroll(){V.on("wheel",window,z=>{V.emit(X.WHEEL,{event:z})},{passive:!1}),V.on("scroll",window,z=>{V.emit(X.INTERNALSCROLL,{event:z})},{passive:!0})}onResize({width:z,height:$}={}){c().window.w=z||window.innerWidth,c().window.h=$||window.innerHeight,V.emit(X.RESIZE)}detectMouse(){window.addEventListener("mousemove",function z($){(Math.abs($.movementX)>0||Math.abs($.movementY)>0)&&(c().isTouch=!1,V.emit(X.MOUSEDETECTED),window.removeEventListener("mousemove",z))})}}Y(X,"INTERNALRAF","raf:internal"),Y(X,"EXTERNALRAF","raf:external"),Y(X,"WHEEL","wheel"),Y(X,"INTERNALSCROLL","scroll:internal"),Y(X,"EXTERNALSCROLL","scroll:external"),Y(X,"RESIZE","resize"),Y(X,"MOUSEDETECTED","mouseDetected"),Y(X,"SCROLLEND","scrollEnd");function O(J,z,$){return z in J?Object.defineProperty(J,z,{value:$,enumerable:!0,configurable:!0,writable:!0}):J[z]=$,J}class de{constructor(z){O(this,"onMouseMove",$=>{!this.mouseDown||(this.mousePos=$.clientY,this.position-=this.prevMousePos-this.mousePos,this.position=Math.min(Math.max(this.position,0),this.maxY),this.prevMousePos=this.mousePos,this.controller.targetPos=this.position/this.maxY*this.controller.maxScroll,this.controller.clamp(),this.controller.syncScroll=!0,this.transform(),V.emit(X.EXTERNALSCROLL,-this.controller.targetPos))}),O(this,"onMouseDown",$=>{this.mousePos=this.prevMousePos=$.clientY,this.mouseDown=!0,c().body.style.userSelect="none",this.el.classList.add("active")}),O(this,"onMouseUp",()=>{this.mouseDown=!1,c().body.style.removeProperty("user-select"),this.el.classList.remove("active")}),this.controller=z,this.addHTML(),this.el=document.querySelector(this.controller.options.scrollbarEl),this.handle=document.querySelector(this.controller.options.scrollbarHandleEl),this.position=0,this.mousePos=0,this.prevMousePos=0,this.addStyles(),this.addEvents()}transform(){let z;this.mouseDown?z=this.position:(z=-this.controller.targetPos/-this.controller.maxScroll*(c().window.h-this.handleHeight),this.position=z),this.handle.style.transform=`translate3d(0, ${z}px, 0)`}show(){this.el.classList.add("show")}hide(){this.el.classList.remove("show")}addEvents(){V.on("mousedown",this.handle,this.onMouseDown),V.on("mousemove",window,this.onMouseMove),V.on("mouseup",window,this.onMouseUp)}onResize(){if(this.scale=(-this.controller.maxScroll+c().window.h)/c().window.h,this.scale<=1){this.handle.style.height=0;return}this.trueSize=c().window.h/this.scale,this.handleHeight=Math.max(this.trueSize,40),this.handle.style.height=`${this.handleHeight}px`,this.maxY=c().window.h-this.handleHeight}addHTML(){if(document.querySelector(this.controller.options.scrollbarEl))return;const z=document.createElement("div");z.classList.add(this.controller.options.scrollbarEl.substring(1)),z.innerHTML=`<div class="${this.controller.options.scrollbarHandleEl.substring(1)}"><div></div></div>`,document.body.appendChild(z)}addStyles(){if(!this.controller.options.disableNativeScrollbar&&!this.controller.options.scrollbarStyles)return;let z="";this.controller.options.disableNativeScrollbar&&(z+="html{scrollbar-width:none;}body{-ms-overflow-style:none;}body::-webkit-scrollbar{width:0;height:0;}"),this.controller.options.scrollbarStyles&&(z+=`${this.controller.options.scrollbarEl} {position:fixed;top:0;right:0;width:20px;height:100%;z-index:900;}.is-touch ${this.controller.options.scrollbarEl} {display:none;}${this.controller.options.scrollbarEl} > div {padding:6px 0;width:10px;height:0;margin:0 auto;visibility:hidden;}${this.controller.options.scrollbarEl} > div > div {width:100%;height:100%;border-radius:10px;opacity:0.3;background-color:#000;}${this.controller.options.scrollbarEl} > div > div:hover {opacity:0.9;}${this.controller.options.scrollbarEl}:hover > div, ${this.controller.options.scrollbarEl}.show > div, ${this.controller.options.scrollbarEl}.active > div {visibility:visible;}${this.controller.options.scrollbarEl}.active > div > div {opacity:0.9;}`);const $=document.createElement("style");$.styleSheet?$.styleSheet.cssText=z:$.appendChild(document.createTextNode(z)),document.getElementsByTagName("head")[0].appendChild($)}destroy(){V.off("mousedown",this.handle,this.onMouseDown),V.off("mousemove",window,this.onMouseMove),V.off("mouseup",window,this.onMouseUp)}}function _e(J,z,$){return z in J?Object.defineProperty(J,z,{value:$,enumerable:!0,configurable:!0,writable:!0}):J[z]=$,J}class pe{constructor(z={}){_e(this,"onScroll",({event:$})=>{this.scrolling||(this.toggleIframes(),this.scrolling=!0);const oe=this.targetPos;if(!c().isTouch&&$.type==="wheel")$.preventDefault(),this.syncScroll=!0,this.wheeling=!0,this.targetPos+=$.deltaY*-1;else{if(this.preventResizeScroll){this.preventResizeScroll=!1;return}if(this.wheeling)return;c().isTouch&&this.options.touchScrollType==="scrollTop"?this.targetPos=this.horizontalScroll?-this.containerElement.scrollLeft:-this.containerElement.scrollTop:c().isTouch&&this.options.touchScrollType==="transform"&&this.options.lockIOSBrowserUI?this.targetPos=this.horizontalScroll?-document.body.scrollLeft:-document.body.scrollTop:this.targetPos=-window.scrollY,c().isTouch&&this.options.touchScrollType!=="transform"&&(this.currentPos=this.targetPos)}this.clamp(),oe!==this.targetPos&&(V.emit(X.EXTERNALSCROLL,-this.targetPos),this.options.customScrollbar&&this.scrollbar.show()),this.options.customScrollbar&&this.scrollbar.transform()}),_e(this,"onRAF",()=>{if(this.testFps&&this.options.limitLerpRate&&(this.time=performance.now()*.001,this.delta=Math.min((this.time-this.startTime)*60,1),this.startTime=this.time),!this.render)return;Math.abs(this.targetPos-this.currentPos)<.5?(this.currentPos=this.targetPos,this.scrolling&&!this.syncScroll&&(this.scrolling=!1,this.options.customScrollbar&&this.scrollbar.hide(),this.toggleIframes(!0),V.emit(X.SCROLLEND,-this.targetPos)),this.syncScroll&&(window.scrollTo(0,-this.targetPos),this.syncScroll=!1,this.wheeling=!1)):this.currentPos+=(this.targetPos-this.currentPos)*this.ease*this.delta;const $=this.horizontalScroll?this.currentPos:0,oe=this.horizontalScroll?0:this.currentPos;this.applyTransform($,oe),V.emit(X.EXTERNALRAF,{targetPos:-this.targetPos,currentPos:-this.currentPos})}),_e(this,"onResize",()=>{if(this.scrollElementsLength>1){const oe=this.scrollElements[this.scrollElementsLength-1],ve=window.getComputedStyle(oe),C=parseFloat(this.horizontalScroll?ve.marginRight:ve.marginBottom),I=oe.getBoundingClientRect(),j=this.horizontalScroll?I.right:I.bottom;this.scrollLength=j+C-this.currentPos}else this.scrollLength=this.horizontalScroll?this.scrollElements[0].scrollWidth:this.scrollElements[0].scrollHeight;const $=this.horizontalScroll?c().window.w:c().window.h;this.maxScroll=this.scrollLength>$?-(this.scrollLength-$):0,this.clamp(),this.firstResize||(this.preventResizeScroll=!0),c().isTouch&&this.options.lockIOSBrowserUI?this.containerElement.style.height=this.scrollLength+"px":c().body.style.height=this.scrollLength+"px",this.options.customScrollbar&&this.scrollbar.onResize(),this.firstResize=!1}),_e(this,"toggleFixedContainer",()=>{this.containerElement.style.position="static";const $=this.currentPos;this.applyTransform(0,0),requestAnimationFrame(()=>{this.containerElement.style.position="fixed";const oe=this.horizontalScroll?$:0,ve=this.horizontalScroll?0:$;this.applyTransform(oe,ve)})}),this.options=z,this.targetPos=this.currentPos=this.prevScrollPos=this.maxScroll=0,this.enabled=!1,this.render=!1,this.scrolling=!1,this.wheeling=!1,this.syncScroll=!1,this.horizontalScroll=!1,this.firstResize=!0,this.preventResizeScroll=!1,this.nativeScroll=!0,this.ease=c().isTouch?this.options.touchEase:this.options.ease,this.originalScrollbarSetting=this.options.customScrollbar,this.testFps=!0,this.delta=1,this.time=this.startTime=performance.now(),this.setElements(),c().isTouch?(this.options.customScrollbar=!1,this.options.touchScrollType==="transform"?this.setupSmoothScroll():this.options.touchScrollType==="scrollTop"&&(document.documentElement.classList.add("asscroll-touch"),this.addTouchStyles(),V.on("scroll",this.containerElement,$=>{V.emit(X.INTERNALSCROLL,{event:$})},{passive:!0}))):this.setupSmoothScroll(),this.addEvents()}setElements(){this.containerElement=typeof this.options.containerElement=="string"?document.querySelector(this.options.containerElement):this.options.containerElement,this.containerElement===null&&console.error("ASScroll: could not find container element"),this.containerElement.setAttribute("asscroll-container",""),this.scrollElements=typeof this.options.scrollElements=="string"?document.querySelectorAll(this.options.scrollElements):this.options.scrollElements,this.scrollElements.length&&(this.scrollElements=[...this.scrollElements]),this.scrollElements=this.scrollElements.length?this.scrollElements:[this.containerElement.firstElementChild],this.scrollElementsLength=this.scrollElements.length,this.scrollElements.forEach(z=>z.setAttribute("asscroll",""))}setupSmoothScroll(){this.nativeScroll=!1,c().isTouch&&this.options.lockIOSBrowserUI?(Object.assign(document.body.style,{position:"fixed",width:"100%",height:"100%",overflowY:"auto"}),c().html.style.overflow="hidden",this.scrollElements.forEach(z=>{z.style.position="fixed"}),V.on("scroll",document.body,z=>{V.emit(X.INTERNALSCROLL,{event:z})})):Object.assign(this.containerElement.style,{position:"fixed",top:"0px",left:"0px",width:"100%",height:"100%",contain:"content"}),this.options.customScrollbar&&(this.scrollbar=new de(this)),V.on(X.INTERNALRAF,this.onRAF),V.on(X.RESIZE,this.onResize),this.options.limitLerpRate&&setTimeout(()=>{this.testFps=!1,this.delta=Math.round(this.delta*10)*.1},2e3)}applyTransform(z,$){for(let oe=0;oe<this.scrollElementsLength;oe++)this.scrollElements[oe].style.transform=`translate3d(${z}px, ${$}px, 0px)`}enable({newScrollElements:z=!1,reset:$=!1,restore:oe=!1,horizontalScroll:ve=!1}={}){this.enabled||(this.enabled=!0,this.render=!0,this.horizontalScroll=ve,z&&(this.scrollElements=z.length?[...z]:[z],this.scrollElementsLength=this.scrollElements.length,this.scrollElements.forEach(C=>C.setAttribute("asscroll","")),c().isTouch&&this.options.touchScrollType==="transform"&&this.options.lockIOSBrowserUI&&this.scrollElements.forEach(C=>{C.style.position="fixed"})),this.iframes=this.containerElement.querySelectorAll("iframe"),c().isTouch&&this.options.touchScrollType!=="transform"?(this.options.touchScrollType==="scrollTop"&&this.containerElement.style.removeProperty("overflow"),this.maxScroll=-this.containerElement.scrollHeight,$&&(this.targetPos=this.currentPos=0,this.scrollTo(0,!1))):(this.firstResize=!0,$&&(this.targetPos=this.currentPos=0,this.applyTransform(0,0)),this.onResize()),c().isTouch&&this.options.touchScrollType==="transform"&&this.options.lockIOSBrowserUI&&(c().body.style.overflowY="auto",$&&document.body.scrollTo(0,0)),oe&&this.scrollTo(this.prevScrollPos,!1),V.on(X.WHEEL,this.onScroll),V.on(X.INTERNALSCROLL,this.onScroll))}disable({inputOnly:z=!1}={}){!this.enabled||(this.enabled=!1,z||(this.render=!1),V.off(X.WHEEL,this.onScroll),V.off(X.INTERNALSCROLL,this.onScroll),this.prevScrollPos=this.targetPos,c().isTouch?this.options.touchScrollType==="scrollTop"?this.containerElement.style.overflow="hidden":this.options.touchScrollType==="transform"&&this.options.lockIOSBrowserUI&&(c().body.style.overflowY="hidden"):c().body.style.height="0px")}clamp(){this.targetPos=Math.max(Math.min(this.targetPos,0),this.maxScroll)}scrollTo(z,$=!0){this.targetPos=z,c().isTouch&&this.options.touchScrollType!=="transform"&&(this.options.touchScrollType==="scrollTop"?this.horizontalScroll?this.containerElement.scrollTo(-this.targetPos,0):this.containerElement.scrollTo(0,-this.targetPos):window.scrollTo(0,-this.targetPos)),this.clamp(),this.syncScroll=!0,$&&V.emit(X.EXTERNALSCROLL,-this.targetPos)}toggleIframes(z){for(let $=0;$<this.iframes.length;$++)this.iframes[$].style.pointerEvents=z?"auto":"none"}blockScrollEvent(z){z.stopPropagation()}addEvents(){V.on(X.MOUSEDETECTED,()=>{this.options.touchScrollType!=="transform"&&(this.options.customScrollbar=this.originalScrollbarSetting,this.ease=this.options.ease,this.setupSmoothScroll(),this.onResize())}),c().isTouch||(V.on("mouseleave",document,()=>{window.scrollTo(0,-this.targetPos)}),V.on("keydown",window,z=>{(z.key==="ArrowUp"||z.key==="ArrowDown"||z.key==="PageUp"||z.key==="PageDown"||z.key==="Home"||z.key==="End"||z.key==="Tab")&&window.scrollTo(0,-this.targetPos),z.key==="Tab"&&this.toggleFixedContainer()}),V.delegate("click",'a[href^="#"]',this.toggleFixedContainer),V.delegate("wheel",this.options.blockScrollClass,this.blockScrollEvent))}addTouchStyles(){const z=".asscroll-touch [asscroll-container] {position:absolute;top:0;left:0;right:0;bottom:-0.1px;overflow-y: auto;} .asscroll-touch [asscroll] {margin-bottom:0.1px;}",$=document.createElement("style");$.styleSheet?$.styleSheet.cssText=z:$.appendChild(document.createTextNode(z)),document.getElementsByTagName("head")[0].appendChild($)}}function Ee(J,z,$){return z in J?Object.defineProperty(J,z,{value:$,enumerable:!0,configurable:!0,writable:!0}):J[z]=$,J}class se{constructor(z={}){Ee(this,"update",()=>{this.events.onRaf()}),Ee(this,"resize",re=>{this.events.onResize(re)});const{containerElement:$="[asscroll-container]",scrollElements:oe="[asscroll]",ease:ve=.075,touchEase:C=1,touchScrollType:I="none",lockIOSBrowserUI:j=!1,scrollbarEl:ee=".asscrollbar",scrollbarHandleEl:ne=".asscrollbar__handle",customScrollbar:G=!0,scrollbarStyles:xe=!0,disableNativeScrollbar:ue=!0,disableRaf:Me=!1,disableResize:ye=!1,limitLerpRate:F=!0,blockScrollClass:D=".asscroll-block"}=z;this.events=new X({disableRaf:Me,disableResize:ye}),this.controller=new pe({containerElement:$,scrollElements:oe,ease:ve,touchEase:C,customScrollbar:G,lockIOSBrowserUI:j,scrollbarEl:ee,scrollbarHandleEl:ne,scrollbarStyles:xe,disableNativeScrollbar:ue,touchScrollType:I,limitLerpRate:F,blockScrollClass:D})}enable(z){z!==void 0&&typeof z!="object"&&console.warn("ASScroll: Please pass an object with your parameters. Since 2.0"),this.controller.enable(z)}disable(z){z!==void 0&&typeof z!="object"&&console.warn("ASScroll: Please pass an object with your parameters. Since 2.0"),this.controller.disable(z)}on(z,$){if(typeof $!="function"){console.error("ASScroll: Function not provided as second parameter");return}if(z==="scroll"){V.on(X.EXTERNALSCROLL,$);return}if(z==="update"){V.on(X.EXTERNALRAF,$);return}if(z==="scrollEnd"){V.on(X.SCROLLEND,$);return}console.warn(`ASScroll: "${z}" is not a valid event`)}off(z,$){if(typeof $!="function"){console.error("ASScroll: Function not provided as second parameter");return}if(z==="scroll"){V.off(X.EXTERNALSCROLL,$);return}if(z==="update"){V.off(X.EXTERNALRAF,$);return}if(z==="scrollEnd"){V.off(X.SCROLLEND,$);return}console.warn(`ASScroll: "${z}" is not a valid event`)}scrollTo(z,$=!0){this.controller.scrollTo(-z,$)}get targetPos(){return-this.controller.targetPos}get currentPos(){return-this.controller.currentPos}set currentPos(z){this.controller.targetPos=this.controller.currentPos=-z}get maxScroll(){return-this.controller.maxScroll}get containerElement(){return this.controller.containerElement}get scrollElements(){return this.controller.scrollElements}get isHorizontal(){return this.controller.horizontalScroll}get isScrollJacking(){return!this.controller.nativeScroll&&this.controller.enabled}get scrollPos(){}get smoothScrollPos(){}onRaf(){}onResize(){}}var ie=se}(),s=s.default,s}()})})(iv);const BF=sO(iv.exports);class UF{constructor(e,t,n){et(this,"timeline");et(this,"world");et(this,"room");et(this,"floor");et(this,"cube");this.timeline=Ji.timeline(),this.world=e,this.room=t,this.floor=n,this.cube=t.children.cube}showWelcome(){this.timeline.set(".animate-word",{y:0,yPercent:100}),this.timeline.to(".loading",{opacity:0,onComplete(){var t;const e=document.querySelector(".loading");(t=e==null?void 0:e.parentNode)==null||t.removeChild(e)}}).to(this.cube.scale,{x:1.4,y:1.4,z:1.4,ease:"back.out(2.5)",duration:.7}).to(this.room.body.position,{x:-.87,ease:"power1.out",duration:.7}).to(".arrow-down",{opacity:1},"<").to(".toggle-bar",{opacity:1},"<").to(".welcome-text .animate-word",{yPercent:0,stagger:.05,ease:"back.out(1.7)",onComplete:()=>{this.showRoom()}},"<")}showRoom(){let e=t=>{t.deltaY<=0||(window.removeEventListener("wheel",e),this.timeline.to(".welcome-text .animate-word",{yPercent:100,stagger:.05,ease:"back.out(1.7)"}).to(".arrow-down",{opacity:0},"same").to(this.room.body.position,{x:0,y:0,z:0,ease:"power1.out"},"same").to(this.cube.rotation,{y:2*Math.PI+Math.PI/4},"same").to(this.cube.scale,{x:10,y:10,z:10},"same").to(this.world.camera.position,{y:8},"same").to(this.room.children.cube.position,{x:.638711,y:8.5618,z:1.3243},"same").set(this.room.children.body.scale,{x:1,y:1,z:1}).to(this.room.children.cube.scale,{x:0,y:0,z:0,duration:1},"introtext").to(".hero-main-title .animate-word",{yPercent:0,stagger:.07,ease:"back.out(1.7)"},"introtext").to(".hero-main-description .animate-word",{yPercent:0,stagger:.07,ease:"back.out(1.7)"},"introtext").to(".first-sub .animate-word",{yPercent:0,stagger:.07,ease:"back.out(1.7)"},"introtext").to(".second-sub .animate-word",{yPercent:0,stagger:.07,ease:"back.out(1.7)"},"introtext").to(this.room.children.aquarium.scale,{x:1,y:1,z:1,ease:"back.out(2.2)",duration:.5},">-0.5").to(this.room.children.clock.scale,{x:1,y:1,z:1,ease:"back.out(2.2)",duration:.5},">-0.4").to(this.room.children.shelves.scale,{x:1,y:1,z:1,ease:"back.out(2.2)",duration:.5},">-0.3").to(this.room.children.floor_items.scale,{x:1,y:1,z:1,ease:"back.out(2.2)",duration:.5},">-0.2").to(this.room.children.desks.scale,{x:1,y:1,z:1,ease:"back.out(2.2)",duration:.5},">-0.1").to(this.room.children.table_stuff.scale,{x:1,y:1,z:1,ease:"back.out(2.2)",duration:.5},">-0.1").to(this.room.children.computer.scale,{x:1,y:1,z:1,ease:"back.out(2.2)",duration:.5}).set(this.room.children.mini_floor.scale,{x:1,y:1,z:1}).to(this.room.children.chair.scale,{x:1,y:1,z:1,ease:"back.out(2.2)",duration:.5},"chair").to(this.room.children.fish.scale,{x:1,y:1,z:1,ease:"back.out(2.2)",duration:.5},"chair").to(this.room.children.chair.rotation,{y:4*Math.PI+Math.PI/4,ease:"power2.out",duration:1,onComplete:()=>{this.enableScroll()}},"chair"))};window.addEventListener("wheel",e)}enableScroll(){const e=document.querySelector(".page");e instanceof HTMLElement&&(e.style.overflow="visible"),Ji.registerPlugin(dt);const t=new BF({ease:.5,disableRaf:!0});Ji.ticker.add(t.update),dt.defaults({scroller:t.containerElement}),dt.scrollerProxy(t.containerElement,{scrollTop(n){if(arguments.length){t.currentPos=n;return}return t.currentPos},getBoundingClientRect(){return{top:0,left:0,width:window.innerWidth,height:window.innerHeight}}}),t.on("update",dt.update),dt.addEventListener("refresh",t.resize),t.enable(),dt.matchMedia({all:()=>{Ji.timeline({scrollTrigger:{trigger:".first-move",start:"top top",end:"bottom bottom",scrub:.6,invalidateOnRefresh:!0}}).to(this.room.body.position,{x:this.world.size.width*.0014}).to(this.floor.circlePink.scale,{x:3,y:3,z:3},"<"),Ji.timeline({scrollTrigger:{trigger:".second-move",start:"top top",end:"bottom bottom",scrub:.6,invalidateOnRefresh:!0}}).to(this.floor.circleBlue.scale,{x:3,y:3,z:3}).to(this.room.body.position,{x:1,z:this.world.size.height*.0032},"<").to(this.room.body.scale,{x:.4,y:.7,z:.4},"<"),Ji.timeline({scrollTrigger:{trigger:".third-move",start:"top top",end:"bottom bottom",scrub:.6,invalidateOnRefresh:!0}}).to(this.floor.circleGreen,{x:3,y:3,z:3}).to(this.room.body.position,{x:4.02,z:-4.5},"<")}})}}const VF={},HF={class:"loading"},GF=tt("div",{class:"dots"},[tt("div",{class:"circle"}),tt("div",{class:"circle"}),tt("div",{class:"circle"})],-1),WF=[GF];function jF(r,e){return vn(),Wn("div",HF,WF)}const qF=Jr(VF,[["render",jF]]);const rv=r=>(Sa("data-v-46a49a97"),r=r(),Ma(),r),XF={class:"toggle-bar"},$F=rv(()=>tt("div",{class:"sun-wrapper"},[tt("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",width:"24"},[tt("path",{fill:"currentColor",d:"M12 5Q11.575 5 11.288 4.712Q11 4.425 11 4V2Q11 1.575 11.288 1.287Q11.575 1 12 1Q12.425 1 12.713 1.287Q13 1.575 13 2V4Q13 4.425 12.713 4.712Q12.425 5 12 5ZM16.95 7.05Q16.675 6.775 16.675 6.362Q16.675 5.95 16.95 5.65L18.35 4.225Q18.65 3.925 19.062 3.925Q19.475 3.925 19.775 4.225Q20.05 4.5 20.05 4.925Q20.05 5.35 19.775 5.625L18.35 7.05Q18.075 7.325 17.65 7.325Q17.225 7.325 16.95 7.05ZM20 13Q19.575 13 19.288 12.712Q19 12.425 19 12Q19 11.575 19.288 11.287Q19.575 11 20 11H22Q22.425 11 22.712 11.287Q23 11.575 23 12Q23 12.425 22.712 12.712Q22.425 13 22 13ZM12 23Q11.575 23 11.288 22.712Q11 22.425 11 22V20Q11 19.575 11.288 19.288Q11.575 19 12 19Q12.425 19 12.713 19.288Q13 19.575 13 20V22Q13 22.425 12.713 22.712Q12.425 23 12 23ZM5.65 7.05 4.225 5.65Q3.925 5.35 3.925 4.925Q3.925 4.5 4.225 4.225Q4.5 3.95 4.925 3.95Q5.35 3.95 5.625 4.225L7.05 5.65Q7.325 5.925 7.325 6.35Q7.325 6.775 7.05 7.05Q6.75 7.325 6.35 7.325Q5.95 7.325 5.65 7.05ZM18.35 19.775 16.95 18.35Q16.675 18.05 16.675 17.638Q16.675 17.225 16.95 16.95Q17.225 16.675 17.638 16.675Q18.05 16.675 18.35 16.95L19.775 18.35Q20.075 18.625 20.062 19.05Q20.05 19.475 19.775 19.775Q19.475 20.075 19.05 20.075Q18.625 20.075 18.35 19.775ZM2 13Q1.575 13 1.288 12.712Q1 12.425 1 12Q1 11.575 1.288 11.287Q1.575 11 2 11H4Q4.425 11 4.713 11.287Q5 11.575 5 12Q5 12.425 4.713 12.712Q4.425 13 4 13ZM4.225 19.775Q3.95 19.5 3.95 19.075Q3.95 18.65 4.225 18.375L5.65 16.95Q5.925 16.675 6.338 16.675Q6.75 16.675 7.05 16.95Q7.35 17.25 7.35 17.663Q7.35 18.075 7.05 18.375L5.65 19.775Q5.35 20.075 4.925 20.075Q4.5 20.075 4.225 19.775ZM12 18Q9.5 18 7.75 16.25Q6 14.5 6 12Q6 9.5 7.75 7.75Q9.5 6 12 6Q14.5 6 16.25 7.75Q18 9.5 18 12Q18 14.5 16.25 16.25Q14.5 18 12 18ZM12 16Q13.65 16 14.825 14.825Q16 13.65 16 12Q16 10.35 14.825 9.175Q13.65 8 12 8Q10.35 8 9.175 9.175Q8 10.35 8 12Q8 13.65 9.175 14.825Q10.35 16 12 16Z"})])],-1)),KF=rv(()=>tt("div",{class:"moon-wrapper"},[tt("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",width:"24"},[tt("path",{fill:"currentColor",d:"M12 21Q8.25 21 5.625 18.375Q3 15.75 3 12Q3 8.25 5.625 5.625Q8.25 3 12 3Q12.35 3 12.688 3.025Q13.025 3.05 13.35 3.1Q12.325 3.825 11.713 4.987Q11.1 6.15 11.1 7.5Q11.1 9.75 12.675 11.325Q14.25 12.9 16.5 12.9Q17.875 12.9 19.025 12.287Q20.175 11.675 20.9 10.65Q20.95 10.975 20.975 11.312Q21 11.65 21 12Q21 15.75 18.375 18.375Q15.75 21 12 21ZM12 19Q14.2 19 15.95 17.788Q17.7 16.575 18.5 14.625Q18 14.75 17.5 14.825Q17 14.9 16.5 14.9Q13.425 14.9 11.262 12.738Q9.1 10.575 9.1 7.5Q9.1 7 9.175 6.5Q9.25 6 9.375 5.5Q7.425 6.3 6.213 8.05Q5 9.8 5 12Q5 14.9 7.05 16.95Q9.1 19 12 19ZM11.75 12.25Q11.75 12.25 11.75 12.25Q11.75 12.25 11.75 12.25Q11.75 12.25 11.75 12.25Q11.75 12.25 11.75 12.25Q11.75 12.25 11.75 12.25Q11.75 12.25 11.75 12.25Q11.75 12.25 11.75 12.25Q11.75 12.25 11.75 12.25Q11.75 12.25 11.75 12.25Q11.75 12.25 11.75 12.25Q11.75 12.25 11.75 12.25Q11.75 12.25 11.75 12.25Z"})])],-1)),YF={__name:"ToggleBar",props:{modelValue:{type:Boolean,default:!0}},emits:["update:modelValue"],setup(r,{emit:e}){const t=r,n=()=>{e("update:modelValue",!t.modelValue)};return(i,s)=>(vn(),Wn("div",XF,[$F,tt("button",{class:"toggle-button",style:Lc({background:r.modelValue?"white":"var(--color-pink)"}),onClick:n},[tt("div",{class:"toggle-circle",style:Lc({left:r.modelValue?"31px":"4px"})},null,4)],4),KF]))}},ZF=Jr(YF,[["__scopeId","data-v-46a49a97"]]);const QF={class:"animate-text"},ec={__name:"AnimateText",props:{text:{type:String,default:""}},setup(r){const e=r,t=Di(()=>e.text.split(""));return(n,i)=>(vn(),Wn("div",QF,[(vn(!0),Wn(_i,null,Lf(na(t),(s,o)=>(vn(),Wn("span",{class:al(["animate-word",{empty:s===" "}]),key:o},K2(s),3))),128))]))}};var sv={exports:{}};(function(r,e){(function(t,n){r.exports=n()})(Og,function(){var t=function(){function n(m){return o.appendChild(m.dom),m}function i(m){for(var _=0;_<o.children.length;_++)o.children[_].style.display=_===m?"block":"none";s=m}var s=0,o=document.createElement("div");o.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",o.addEventListener("click",function(m){m.preventDefault(),i(++s%o.children.length)},!1);var a=(performance||Date).now(),l=a,c=0,h=n(new t.Panel("FPS","#0ff","#002")),d=n(new t.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var f=n(new t.Panel("MB","#f08","#201"));return i(0),{REVISION:16,dom:o,addPanel:n,showPanel:i,begin:function(){a=(performance||Date).now()},end:function(){c++;var m=(performance||Date).now();if(d.update(m-a,200),m>l+1e3&&(h.update(1e3*c/(m-l),100),l=m,c=0,f)){var _=performance.memory;f.update(_.usedJSHeapSize/1048576,_.jsHeapSizeLimit/1048576)}return m},update:function(){a=this.end()},domElement:o,setMode:i}};return t.Panel=function(n,i,s){var o=1/0,a=0,l=Math.round,c=l(window.devicePixelRatio||1),h=80*c,d=48*c,f=3*c,m=2*c,_=3*c,v=15*c,x=74*c,y=30*c,M=document.createElement("canvas");M.width=h,M.height=d,M.style.cssText="width:80px;height:48px";var w=M.getContext("2d");return w.font="bold "+9*c+"px Helvetica,Arial,sans-serif",w.textBaseline="top",w.fillStyle=s,w.fillRect(0,0,h,d),w.fillStyle=i,w.fillText(n,f,m),w.fillRect(_,v,x,y),w.fillStyle=s,w.globalAlpha=.9,w.fillRect(_,v,x,y),{dom:M,update:function(S,T){o=Math.min(o,S),a=Math.max(a,S),w.fillStyle=s,w.globalAlpha=1,w.fillRect(0,0,h,v),w.fillStyle=i,w.fillText(l(S)+" "+n+" ("+l(o)+"-"+l(a)+")",f,m),w.drawImage(M,_+c,v,x-c,y,_,v,x-c,y),w.fillRect(_+x-c,v,c,y),w.fillStyle=s,w.globalAlpha=.9,w.fillRect(_+x-c,v,c,l((1-S/T)*y))}}},t})})(sv);const JF=sv.exports;const ov=r=>(Sa("data-v-2bba11e3"),r=r(),Ma(),r),eN=ov(()=>tt("canvas",{id:"canvas"},null,-1)),tN=ov(()=>tt("div",{class:"arrow-down"},[tt("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",width:"24"},[tt("path",{fill:"currentColor",d:"M12 14.95q-.2 0-.375-.063-.175-.062-.325-.212L6.675 10.05q-.275-.275-.262-.688.012-.412.287-.687.275-.275.7-.275.425 0 .7.275l3.9 3.9 3.925-3.925q.275-.275.688-.263.412.013.687.288.275.275.275.7 0 .425-.275.7l-4.6 4.6q-.15.15-.325.212-.175.063-.375.063Z"})])],-1)),nN={class:"page","asscroll-container":""},iN={class:"page-wrapper",asscroll:""},rN={class:"hero"},sN={class:"hero-wrapper"},oN={class:"hero-main"},aN={class:"hero-second"},lN=Kw('<div class="first-move section-margin" data-v-2bba11e3>first move</div><section class="first-section section left" data-v-2bba11e3><div class="progress-wrapper progress-bar-wrapper-left" data-v-2bba11e3><div class="progress-bar" data-v-2bba11e3></div></div><div class="section-intro-wrapper" data-v-2bba11e3><h1 class="section-title" data-v-2bba11e3><span class="section-title-text" data-v-2bba11e3>About Me</span><div class="section-title-decoration styleOne" data-v-2bba11e3></div><div class="section-title-decoration styleTwo" data-v-2bba11e3></div><div class="section-title-decoration styleThree" data-v-2bba11e3></div></h1><span class="section-number" data-v-2bba11e3>01</span></div><div class="section-detail-wrapper" data-v-2bba11e3><p class="section-text" data-v-2bba11e3>Hi there \u{1F44B}! I&#39;m a third-year digital media student from UK currently studying in Germany. My dream is to work for Disney or Pixar one day.</p><p class="section-text" data-v-2bba11e3> I love creating art and playing with my cats! I also like drinking bubble tea and going for hikes! Totally hippie lol \u270C\uFE0F. Welcome to my portfolio!</p></div></section><div class="second-move section-margin" data-v-2bba11e3>second move</div><section class="second-section section right" data-v-2bba11e3><div class="progress-wrapper progress-bar-wrapper-right" data-v-2bba11e3><div class="progress-bar blue-background" data-v-2bba11e3></div></div><div class="section-intro-wrapper blue-text blue-border" data-v-2bba11e3><h1 class="section-title blue-text blue-border" data-v-2bba11e3><span class="section-title-text blue-text" data-v-2bba11e3>My Work</span><div class="section-title-decoration styleOne blue-border" data-v-2bba11e3></div><div class="section-title-decoration styleTwo blue-border" data-v-2bba11e3></div><div class="section-title-decoration styleThree blue-background blue-border" data-v-2bba11e3></div></h1><span class="section-number blue-text" data-v-2bba11e3>02</span></div><div class="section-detail-wrapper" data-v-2bba11e3><h3 class="section-heading" data-v-2bba11e3>Candycane Village</h3><p class="section-text" data-v-2bba11e3>This project is in progress but it&#39;s about a super colorful village where the entire world including the people are candies. So far the story is that they are set out to explore their &quot;space&quot; only to realize it&#39;s a human that will try to destroy them.</p><h3 class="section-heading" data-v-2bba11e3>Rebecca&#39;s Reddish Radishes</h3><p class="section-text" data-v-2bba11e3>Oh what&#39;s that? Why, it&#39;s a red radish! Oop, another one! In this playful and comedy animation, Rebecca, a young farmer, decided to plant radishes for the first time, but there is a big twist!</p><h3 class="section-heading" data-v-2bba11e3>Flora</h3><p class="section-text" data-v-2bba11e3>A heartwarming story about a little orphan girl who tries to find her way back home.</p></div></section><div class="third-move section-margin" data-v-2bba11e3>third move</div><section class="third-section section left" data-v-2bba11e3><div class="progress-wrapper progress-bar-wrapper-left" data-v-2bba11e3><div class="progress-bar green-background" data-v-2bba11e3></div></div><div class="section-intro-wrapper green-text green-border" data-v-2bba11e3><h1 class="section-title green-text green-border" data-v-2bba11e3><span class="section-title-text green-text" data-v-2bba11e3>Contact Me</span><div class="section-title-decoration styleOne green-border" data-v-2bba11e3></div><div class="section-title-decoration styleTwo green-border" data-v-2bba11e3></div><div class="section-title-decoration styleThree green-background green-border" data-v-2bba11e3></div></h1><span class="section-number green-text" data-v-2bba11e3>03</span></div><div class="section-detail-wrapper" data-v-2bba11e3><h3 class="section-heading" data-v-2bba11e3>ArtStation</h3><p class="section-text" data-v-2bba11e3>I post all my work here. I don&#39;t want to link it yet because I want to sort it out a little bit!</p><h3 class="section-heading" data-v-2bba11e3>Instagram</h3><p class="section-text" data-v-2bba11e3>Check out my personal instagram for travel pics and food and stuff.</p><h3 class="section-heading" data-v-2bba11e3>LinkedIn</h3><p class="section-text" data-v-2bba11e3>Career updates and so much more!</p></div></section>',6),cN={__name:"index",setup(r){const e=wo({dark:!1});return Ea(()=>{const t=new JF;t.showPanel(0),document.body.appendChild(t.dom);const n=document.querySelector("#canvas"),i=new oO(n),s=new kg;s.load(rO),s.onLoadEnd(()=>{const o=new lO;i.scene.add(o.body);const a=new aO(s.resources);i.scene.add(a.body),new UF(i,a,o).showWelcome();const c=new e4,h=()=>{t.begin(),Km.emit(l4.Tick,c),i.render(),t.end(),window.requestAnimationFrame(h)};h()}),window.addEventListener("resize",()=>{i.updateSize()})}),(t,n)=>(vn(),Wn("div",{class:al([e.dark?"dark-theme":"light-theme"])},[eN,cn(qF),cn(ZF,{modelValue:e.dark,"onUpdate:modelValue":n[0]||(n[0]=i=>e.dark=i)},null,8,["modelValue"]),tN,tt("div",nN,[tt("div",iN,[tt("section",rN,[tt("div",sN,[cn(ec,{text:"Welcome to my portfolio!",class:"welcome-text"}),tt("div",oN,[cn(ec,{text:"Abigail Bloom",class:"hero-main-title"}),cn(ec,{text:"Digital Media Student | 3D Artist",class:"hero-main-description"})]),tt("div",aN,[cn(ec,{text:"AbigailBloom",class:"hero-second-subheading first-sub"}),cn(ec,{text:"Portfolio",class:"hero-second-subheading second-sub"})])])]),lN])])],2))}},av=Jr(cN,[["__scopeId","data-v-2bba11e3"]]),uN=Object.freeze(Object.defineProperty({__proto__:null,default:av},Symbol.toStringTag,{value:"Module"})),zn=new Ur,E2=new Z;class hN{constructor(e){let t=e.geometry;if(!t.isBufferGeometry||t.attributes.position.itemSize!==3)throw new Error("THREE.MeshSurfaceSampler: Requires BufferGeometry triangle mesh.");t.index&&(console.warn("THREE.MeshSurfaceSampler: Converting geometry to non-indexed BufferGeometry."),t=t.toNonIndexed()),this.geometry=t,this.randomFunction=Math.random,this.positionAttribute=this.geometry.getAttribute("position"),this.colorAttribute=this.geometry.getAttribute("color"),this.weightAttribute=null,this.distribution=null}setWeightAttribute(e){return this.weightAttribute=e?this.geometry.getAttribute(e):null,this}build(){const e=this.positionAttribute,t=this.weightAttribute,n=new Float32Array(e.count/3);for(let s=0;s<e.count;s+=3){let o=1;t&&(o=t.getX(s)+t.getX(s+1)+t.getX(s+2)),zn.a.fromBufferAttribute(e,s),zn.b.fromBufferAttribute(e,s+1),zn.c.fromBufferAttribute(e,s+2),o*=zn.getArea(),n[s/3]=o}this.distribution=new Float32Array(e.count/3);let i=0;for(let s=0;s<n.length;s++)i+=n[s],this.distribution[s]=i;return this}setRandomGenerator(e){return this.randomFunction=e,this}sample(e,t,n){const i=this.distribution[this.distribution.length-1],s=this.binarySearch(this.randomFunction()*i);return this.sampleFace(s,e,t,n)}binarySearch(e){const t=this.distribution;let n=0,i=t.length-1,s=-1;for(;n<=i;){const o=Math.ceil((n+i)/2);if(o===0||t[o-1]<=e&&t[o]>e){s=o;break}else e<t[o]?i=o-1:n=o+1}return s}sampleFace(e,t,n,i){let s=this.randomFunction(),o=this.randomFunction();return s+o>1&&(s=1-s,o=1-o),zn.a.fromBufferAttribute(this.positionAttribute,e*3),zn.b.fromBufferAttribute(this.positionAttribute,e*3+1),zn.c.fromBufferAttribute(this.positionAttribute,e*3+2),t.set(0,0,0).addScaledVector(zn.a,s).addScaledVector(zn.b,o).addScaledVector(zn.c,1-(s+o)),n!==void 0&&zn.getNormal(n),i!==void 0&&this.colorAttribute!==void 0&&(zn.a.fromBufferAttribute(this.colorAttribute,e*3),zn.b.fromBufferAttribute(this.colorAttribute,e*3+1),zn.c.fromBufferAttribute(this.colorAttribute,e*3+2),E2.set(0,0,0).addScaledVector(zn.a,s).addScaledVector(zn.b,o).addScaledVector(zn.c,1-(s+o)),i.r=E2.x,i.g=E2.y,i.b=E2.z),this}}const dN=`uniform float uTime;\r
uniform float uScale;\r
attribute vec3 aRandom;\r
varying vec3 vPosition;\r
\r
void main() {\r
    float time = uTime * 4.0;\r
    vPosition = position;\r
\r
    vPosition.x += sin(time * aRandom.x) * 0.01;\r
    vPosition.y += sin(time * aRandom.y) * 0.01;\r
    vPosition.z += sin(time * aRandom.z) * 0.01;\r
\r
    vPosition.x *= uScale;\r
    vPosition.y *= uScale;\r
    vPosition.z *= uScale;\r
\r
    gl_Position = projectionMatrix * modelViewMatrix * vec4(vPosition, 1.0);\r
    gl_PointSize = 8.0 / -gl_Position.z;\r
}\r
`,fN=`\r
\r
uniform float uScale;\r
varying vec3 vPosition;\r
\r
void main() {\r
    vec3 color = vec3(1.0);\r
\r
    float depth = vPosition.z * 0.5 + 0.5;\r
    float alpha = depth * uScale;\r
    gl_FragColor = vec4(color, alpha);\r
}\r
`;class L8{constructor(e,t){et(this,"scene");et(this,"mesh");et(this,"material");this.scene=t,this.material=this.setMaterial(),this.mesh=this.setMesh(e)}setMaterial(){return new Yr({uniforms:{uTime:{value:0},uScale:{value:0}},transparent:!0,depthTest:!1,depthWrite:!1,blending:dd,vertexShader:dN,fragmentShader:fN})}setMesh(e){const t=e.scene.children[0],n=new hN(t);n.build();const i=2e4,s=[],o=[],a=new Z;for(let c=0;c<i;c++)n.sample(a),s.push(a.x,a.y,a.z),o.push(Math.random()*2-1,Math.random()*2-1,Math.random()*2-1);const l=new Xt;return l.setAttribute("position",new Lt(s,3)),l.setAttribute("aRandom",new Lt(o,3)),new vm(l,this.material)}show(){this.scene.add(this.mesh),setTimeout(()=>{Ji.to(this.material.uniforms.uScale,{duration:.8,value:1,ease:"power3.out"})},800)}hide(){Ji.to(this.material.uniforms.uScale,{value:0,duration:.8,ease:"power3.out",onComplete:()=>{this.scene.remove(this.mesh)}})}}const lv=r=>(Sa("data-v-9094ad61"),r=r(),Ma(),r),pN={class:"actions"},mN=["onClick"],gN=lv(()=>tt("div",{class:"info"},[tt("a",{href:"https://www.awwwards.com/academy/course/impress-everyone-with-a-3d-particle-scene-starting-from-bad-models",class:"",target:"_blank"},"Tutorial From Fabio Ottaviani")],-1)),_N=lv(()=>tt("canvas",{id:"canvas"},null,-1)),vN={__name:"index",setup(r){const e=new kg;e.load([{name:"horse",type:t0.GLTF,path:"/resources/sampler-particles/horse.glb"},{name:"skull",type:t0.GLTF,path:"/resources/sampler-particles/skull.glb"}]);let t,n;const i=wo({options:["horse","skull"],active:"horse"}),s=o=>{o!==i.active&&(i.active=o,o==="horse"?(t.show(),n.hide()):(t.hide(),n.show()))};return Ea(()=>{const o={width:window.innerWidth,height:window.innerHeight},a=document.querySelector("#canvas"),l=new Ca({canvas:a,antialias:!0,alpha:!0});l.setSize(o.width,o.height),l.setPixelRatio(Math.min(window.devicePixelRatio,2)),l.outputEncoding=pt;const c=new ml,h=new gn(50,o.width/o.height,.1,100);h.position.z=5,h.position.y=1,e.onLoadEnd(()=>{t=new L8(e.resources.horse,c),n=new L8(e.resources.skull,c),t.show()}),window.addEventListener("resize",()=>{o.width=window.innerWidth,o.height=window.innerHeight,h.aspect=o.width/o.height,h.updateProjectionMatrix(),l.setSize(o.width,o.height),l.setPixelRatio(Math.min(window.devicePixelRatio,2))}),window.addEventListener("mousemove",_=>{const v=_.clientX,x=_.clientY;Ji.to(c.rotation,{y:Ji.utils.mapRange(0,window.innerWidth,.5,-.5,v),x:Ji.utils.mapRange(0,window.innerHeight,.5,-.5,x)})});const d=new Ju(h,a);d.enableDamping=!0,d.enabled=!1;const f=new e4,m=()=>{const _=f.getElapsedTime();t&&(t.material.uniforms.uTime.value=_),n&&(n.material.uniforms.uTime.value=_),d.update(),l.render(c,h),window.requestAnimationFrame(m)};m()}),(o,a)=>(vn(),Wn(_i,null,[tt("div",pN,[(vn(!0),Wn(_i,null,Lf(i.options,l=>(vn(),Wn("button",{onClick:c=>s(l),key:l,class:al({active:l===i.active})},K2(l),11,mN))),128))]),gN,_N],64))}},cv=Jr(vN,[["__scopeId","data-v-9094ad61"]]),xN=Object.freeze(Object.defineProperty({__proto__:null,default:cv},Symbol.toStringTag,{value:"Module"})),bN=Object.assign({"/src/pages/carton-room/index.vue":()=>ko(()=>Promise.resolve().then(()=>uN),void 0),"/src/pages/china-map/index.vue":()=>ko(()=>Promise.resolve().then(()=>RD),void 0),"/src/pages/home/index.vue":()=>ko(()=>Promise.resolve().then(()=>KM),void 0),"/src/pages/house-in-desert/index.vue":()=>ko(()=>Promise.resolve().then(()=>_k),void 0),"/src/pages/jump/index.vue":()=>ko(()=>Promise.resolve().then(()=>DI),void 0),"/src/pages/mini-city/index.vue":()=>ko(()=>Promise.resolve().then(()=>VI),void 0),"/src/pages/sampler-particles/index.vue":()=>ko(()=>Promise.resolve().then(()=>xN),void 0)});console.log(bN);const yN=[{path:"/",component:j7},{path:"/jump",component:Rm},{path:"/mini-city",component:Dm},{path:"/china-map",component:Hm},{path:"/house-in-desert",component:$m},{path:"/carton-room",component:av},{path:"/sampler-particles",component:cv}],wN=BM({history:tM(),routes:yN}),uv=LS(kS);uv.use(wN);uv.mount("#app");
