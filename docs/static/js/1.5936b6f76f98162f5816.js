webpackJsonp([1],{Wr2J:function(e,l){},g0NJ:function(e,l,t){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var n={data:function(){return{scene:null,camera:null,raycaster:null,renderer:null,mall:null,mouse:null,INTERSECTED:null}},methods:{init:function(){this.scene=new THREE.Scene,this.scene.background=new THREE.Color(15790320),this.camera=new THREE.PerspectiveCamera(70,window.innerWidth/window.innerHeight,1,1e4),this.camera.position.set(300,300,300),this.camera.lookAt(this.scene.position),this.raycaster=new THREE.Raycaster,this.renderer=new THREE.WebGLRenderer({antialias:!0,canvas:document.querySelector("canvas")}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(window.innerWidth,window.innerHeight),document.addEventListener("mousemove",this.onDocumentMouseMove,!1),window.addEventListener("resize",this.onWindowResize,!1)},buildMall:function(){for(var e=document.querySelector("#svg_shapes").querySelectorAll("path"),l=0;l<e.length;l++){var t=e[l].getAttribute("d"),n=transformSVGPathExposed(t),i=new THREE.ExtrudeGeometry(n,{amount:25,stes:1,bevelEnabled:!1});i.rotateX(Math.PI/2);var s=e[l].getAttribute("fill"),o=new THREE.MeshPhongMaterial({color:s,shininess:100}),r=new THREE.Mesh(i,o);r.name=e[l].getAttribute("name"),this.mall.add(r)}this.mall.translateX(-200),this.mall.translateZ(-200),this.mall.translateY(25),this.scene.add(this.mall)},addLabel:function(){var e=this,l=new THREE.MeshPhongMaterial({color:0});this.mall.children.forEach(function(t){var n=new THREE.BoxGeometry(2,20,2),i=new THREE.Mesh(n,l);i.position.y=30,i.position.x=t.geometry.boundingSphere.center.x-200,i.position.z=t.geometry.boundingSphere.center.z-200,e.scene.add(i)})},buildAuxSystem:function(){var e=new THREE.AxesHelper(2e3);this.scene.add(e);var l=new THREE.GridHelper(600,60);this.scene.add(l);var t=new THREE.OrbitControls(this.camera,this.renderer.domElement);t.enableDamping=!0,t.dampingFactor=.25,t.rotateSpeed=.35},buildLightSystem:function(){var e=new THREE.DirectionalLight(16777215,1.1);e.position.set(300,1e3,500),e.target.position.set(0,0,0),e.castShadow=!0;var l=300;e.shadow.camera=new THREE.OrthographicCamera(-l,l,l,-l,500,1600),e.shadow.bias=1e-4,e.shadow.mapSize.width=e.shadow.mapSize.height=1024,this.scene.add(e);var t=new THREE.AmbientLight(16777215,.6);this.scene.add(t)},onWindowResize:function(){this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight)},onDocumentMouseMove:function(e){e.preventDefault(),this.mouse.x=e.clientX/window.innerWidth*2-1,this.mouse.y=-e.clientY/window.innerHeight*2+1},loop:function(){requestAnimationFrame(this.loop),this.render()},render:function(){this.raycaster.setFromCamera(this.mouse,this.camera);var e=this.raycaster.intersectObjects(this.mall.children);e.length>0?this.INTERSECTED!=e[0].object&&(this.INTERSECTED&&this.INTERSECTED.material.emissive.setHex(this.INTERSECTED.currentHex),this.INTERSECTED=e[0].object,this.INTERSECTED.currentHex=this.INTERSECTED.material.emissive.getHex(),this.INTERSECTED.material.emissive.setHex(16711680)):(this.INTERSECTED&&this.INTERSECTED.material.emissive.setHex(this.INTERSECTED.currentHex),this.INTERSECTED=null),this.renderer.render(this.scene,this.camera)}},mounted:function(){document.querySelector(".svg-container").innerHTML='\n <svg id="svg_shapes" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="90 0 600 560">\n    <path name="麦当劳" id="svg_4" d="m201.90463,23.01591l65.87312,0l0,47.61912l-65.87312,0l0,-47.61912z" stroke-opacity="null" stroke-linecap="null" stroke-linejoin="null" stroke-width="1.5" stroke="null" fill="#3f7f00" />\n    <path name="麦当劳" id="svg_5" d="m130.47595,235.71465l94.44459,0l0,42.06355l-94.44459,0l0,-42.06355z" stroke-opacity="null" stroke-linecap="null" stroke-linejoin="null" stroke-width="1.5" stroke="null" fill-opacity="null" fill="#3f7f00" />\n    <path name="麦当劳" id="svg_6" d="m129.6823,182.53996l84.12711,0l0,41.2699l-84.12711,0l0,-41.2699z" stroke-opacity="null" stroke-linecap="null" stroke-linejoin="null" stroke-width="1.5" stroke="null" fill-opacity="null" fill="#3f7f00" />\n    <path name="麦当劳" id="svg_8" d="m214.80591,113.92551l32.77018,-32.77018l23.57026,23.57026l-32.77018,32.77018l-23.57026,-23.57026z" stroke-opacity="null" stroke-linecap="null" stroke-linejoin="null" stroke-width="1.5" stroke="null" fill-opacity="null" fill="#3f7f00" />\n    <path name="麦当劳" id="svg_9" d="m242.58371,140.11603l32.77018,-32.77018l23.57026,23.57026l-32.77018,32.77018l-23.57026,-23.57026z" stroke-opacity="null" stroke-linecap="null" stroke-linejoin="null" stroke-width="1.5" stroke="null" fill-opacity="null" fill="#3f7f00" />\n    <path name="麦当劳" id="svg_10" d="m264.80595,79.79849l48.2464,-48.2464l15.23692,15.23692l-48.2464,48.2464l-15.23692,-15.23692z" stroke-opacity="null" stroke-linecap="null" stroke-linejoin="null" stroke-width="1.5" stroke="null" fill-opacity="null" fill="#3f7f00" />\n    <path name="麦当劳" id="svg_11" d="m282.2663,98.84614l48.2464,-48.2464l15.23692,15.23692l-48.2464,48.2464l-15.23692,-15.23692z" stroke-opacity="null" stroke-linecap="null" stroke-linejoin="null" stroke-width="1.5" stroke="null" fill-opacity="null" fill="#3f7f00" />\n    <path name="麦当劳" id="svg_12" d="m302.90125,118.68745l48.2464,-48.2464l15.23692,15.23692l-48.2464,48.2464l-15.23692,-15.23692z" stroke-opacity="null" stroke-linecap="null" stroke-linejoin="null" stroke-width="1.5" stroke="null" fill-opacity="null" fill="#3f7f00" />\n    <path name="麦当劳" id="svg_13" d="m324.32987,140.11605l48.2464,-48.2464l15.23692,15.23692l-48.2464,48.2464l-15.23692,-15.23692z" stroke-opacity="null" stroke-linecap="null" stroke-linejoin="null" stroke-width="1.5" stroke="null" fill-opacity="null" fill="#3f7f00" />\n    <path name="麦当劳" id="svg_14" d="m129.6823,139.68275l39.6826,0l0,34.12704l-39.6826,0l0,-34.12704z" stroke-opacity="null" stroke-linecap="null" stroke-linejoin="null" stroke-width="1.5" stroke="null" fill="#bf005f" />\n    <path name="麦当劳" id="svg_15" d="m175.7141,139.68275l37.30164,0l0,34.12704l-37.30164,0l0,-34.12704z" stroke-opacity="null" stroke-linecap="null" stroke-linejoin="null" stroke-width="1.5" stroke="null" fill="#007f3f" />\n    <path name="麦当劳" id="svg_16" d="m274.12698,175.39709l46.03181,0l0,26.98417l-46.03181,0l0,-26.98417z" stroke-opacity="null" stroke-linecap="null" stroke-linejoin="null" stroke-width="1.5" stroke="null" fill="#7f003f" />\n    <path name="麦当劳" id="svg_17" d="m137.23366,49.58187l47.23197,47.23197l-21.46164,21.46164l-47.23197,-47.23197l21.46164,-21.46164z" stroke-opacity="null" stroke-linecap="null" stroke-linejoin="null" stroke-width="1.5" stroke="null" fill="#7f003f" />\n    <path name="麦当劳" id="svg_18" d="m336.03183,205.55586l69.04772,0l0,31.74608l-69.04772,0l0,-31.74608z" stroke-opacity="null" stroke-linecap="null" stroke-linejoin="null" stroke-width="1.5" stroke="null" fill="#5656ff" />\n    <path name="麦当劳" id="svg_19" d="m336.03183,274.60361l69.04772,0l0,20.63496l-69.04772,0l0,-20.63496z" stroke-opacity="null" stroke-linecap="null" stroke-linejoin="null" stroke-width="1.5" stroke="null" fill="#5656ff" />\n    <path name="麦当劳" id="svg_20" d="m336.03183,305.42343l69.04772,0l0,74.60332l-69.04772,0l0,-74.60332z" stroke-opacity="null" stroke-linecap="null" stroke-linejoin="null" stroke-width="1.5" stroke="null" fill="#007f3f" />\n    <path name="麦当劳" id="svg_21" d="m155.48768,30.53422l47.23197,47.23197l-15.11243,15.11243l-47.23197,-47.23197l15.11243,-15.11243z" stroke-opacity="null" stroke-linecap="null" stroke-linejoin="null" stroke-width="1.5" stroke="null" fill="#7f003f" />\n    <path name="麦当劳" id="svg_23" d="m337.61912,200.0003c0,0 66.66677,0 66.66677,0c0,0 2.38096,-71.42868 2.38096,-71.42868c0,0 -23.02959,0 -23.33294,0c0.30335,0 -31.82833,32.93901 -32.53973,31.74608c0.15812,0.63553 -13.26811,0.79365 -13.49208,0c0.10362,0 0.31703,39.6826 0.31703,39.6826z" stroke-opacity="null" stroke-width="1.5" stroke="null" fill="#bf5f00" />\n    <path name="麦当劳" id="svg_25" d="m279.68253,216.67462l38.88895,0l0,64.28581l-38.88895,0l0,-64.28581z" stroke-opacity="null" stroke-linecap="null" stroke-linejoin="null" stroke-width="1.5" stroke="null" fill="#7f003f" />\n    <path name="麦当劳" id="svg_26" d="m293.96826,293.91617l26.19052,0l0,46.82546l-26.19052,0l0,-46.82546z" stroke-opacity="null" stroke-linecap="null" stroke-linejoin="null" stroke-width="1.5" stroke="null" fill="#7f003f" />\n</svg>\n',this.mouse=new THREE.Vector2,this.mall=new THREE.Object3D,this.init(),this.buildLightSystem(),this.buildAuxSystem(),this.buildMall(),this.loop(),this.addLabel()}},i={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,l=this._self._c||e;return l("div",{staticClass:"container"},[l("div",{staticClass:"from"},[l("a",{attrs:{href:"https://github.com/luosijie/threejs-examples/tree/master/mall"}},[this._v("项目地址")])]),this._v(" "),l("canvas",{attrs:{id:"canvas"}}),this._v(" "),l("div",{staticClass:"svg-container"})])}]};var s=t("VU/8")(n,i,!1,function(e){t("Wr2J")},"data-v-9cd50464",null);l.default=s.exports}});
//# sourceMappingURL=1.5936b6f76f98162f5816.js.map